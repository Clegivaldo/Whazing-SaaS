'use strict';const X=b,Y=b;(function(c,d){const V=b,W=b,e=c();while(!![]){try{const f=parseInt(V(0xdc))/0x1+parseInt(W(0xdf))/0x2+-parseInt(W(0xc3))/0x3+-parseInt(V(0xc8))/0x4+-parseInt(W(0xc1))/0x5*(-parseInt(W(0xbc))/0x6)+parseInt(V(0xbf))/0x7+-parseInt(V(0xdb))/0x8;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xa41be));function b(c,d){const e=a();return b=function(f,g){f=f-0xb9;let h=e[f];return h;},b(c,d);}Object[X(0xd6)](exports,Y(0xca),{'value':!![]}),exports['removeTbot']=exports['getTbot']=exports[Y(0xd0)]=void 0x0;const telegraf_1=require(Y(0xc9)),socket_1=require(Y(0xc4)),logger_1=require('../utils/logger'),TelegramSessions=[],initTbot=async c=>{return new Promise((d,e)=>{const Z=b,a0=b;try{const f=(0x0,socket_1['getIO'])(),g=c[Z(0xbd)],{tenantId:h}=c,i=new telegraf_1[(Z(0xb9))](c[Z(0xbb)],{});i['id']=c['id'];const j=TelegramSessions[a0(0xce)](k=>k['id']===c['id']);j===-0x1?(i['id']=c['id'],TelegramSessions[a0(0xc6)](i)):Z(0xd2)!==a0(0xc0)?(i['id']=c['id'],TelegramSessions[j]=i):(h['id']=i['id'],j[k]=l),i[a0(0xe2)](),c[a0(0xcc)]({'status':Z(0xd1),'qrcode':'','retries':0x0}),f[Z(0xbe)](h+':whatsappSession',{'action':'update','session':c}),logger_1[a0(0xc2)]['info'](a0(0xd8)+g+'\x20-\x20READY\x20'),process[a0(0xd9)]('SIGINT',()=>i[Z(0xd3)](a0(0xc7))),process[a0(0xd9)](Z(0xcd),()=>i['stop']('SIGTERM')),d(i);}catch(l){c[a0(0xcc)]({'status':a0(0xde),'qrcode':'','retries':0x0}),logger_1[Z(0xc2)][a0(0xd7)](a0(0xdd)+l),e(new Error(Z(0xba)));}});};exports['initTbot']=initTbot;const getTbot=(c,d=!![])=>{const a1=Y,a2=X;logger_1[a1(0xc2)][a1(0xe0)](a1(0xe1)+c+a2(0xcf)+d);const e=TelegramSessions['findIndex'](f=>f['id']===c);return TelegramSessions[e];};exports[X(0xd5)]=getTbot;const removeTbot=c=>{const a3=X,a4=X;try{if('BdIjz'!==a3(0xda)){const d=TelegramSessions[a4(0xce)](f=>f['id']===c),e=TelegramSessions[d];d!==-0x1&&(process[a3(0xd9)](a3(0xc7),()=>e[a4(0xd3)](a4(0xc7))),process['once'](a4(0xcd),()=>e['stop']('SIGTERM')),TelegramSessions[a3(0xcb)](d,0x1));}else h[a3(0xcc)]({'status':a3(0xde),'qrcode':'','retries':0x0}),i[a4(0xc2)][a3(0xd7)](a4(0xdd)+j),k(new l(a4(0xba)));}catch(g){logger_1[a3(0xc2)][a4(0xd7)](a4(0xc5)+g);}};exports[X(0xd4)]=removeTbot;function a(){const a5=['Session\x20TELEGRAM:\x20','once','DeMUA','10219424SjwRBq','982513PlDCZi','initWbot\x20error\x20|\x20Error:\x20','DISCONNECTED','1229762rSOEcj','info','whatsappId:\x20','launch','Telegraf','Error\x20starting\x20telegram\x20session.','tokenTelegram','6AMLfAE','name','emit','5996333BMqZKf','iwcSu','3905835OoxYDh','logger','2420055vCYApQ','./socket','removeTbot\x20|\x20Error:\x20','push','SIGINT','1915508IBGMkl','telegraf','__esModule','splice','update','SIGTERM','findIndex','\x20|\x20checkState:\x20','initTbot','CONNECTED','Mguls','stop','removeTbot','getTbot','defineProperty','error'];a=function(){return a5;};return a();}