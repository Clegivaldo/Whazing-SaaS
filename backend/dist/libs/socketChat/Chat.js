'use strict';
const a8 = b, a9 = b;
(function (c, d) {
    const a6 = b, a7 = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(a6(0x1f4)) / (-0x6cf + -0x227 * -0x3 + 0x7 * 0xd) * (parseInt(a7(0x2aa)) / (0x2 * 0x7be + 0x2085 + -0x2fff)) + -parseInt(a6(0x28b)) / (0x2c1 * -0x2 + -0xd * 0x25b + 0x2424) * (parseInt(a6(0x1b8)) / (-0x34 * -0xb + 0x53 * 0xb + -0x5c9)) + parseInt(a7(0x24d)) / (0x1c6f * 0x1 + 0x1 * -0xc85 + 0xfe5 * -0x1) + -parseInt(a6(0x206)) / (0x1ce * -0xd + 0x4 * -0x91a + 0x3be4) * (-parseInt(a7(0x228)) / (0x2108 + -0x4f9 * 0x4 + -0xd1d)) + -parseInt(a7(0x293)) / (0xc * -0x16 + -0x618 + 0x728) + parseInt(a6(0x277)) / (0x2 * -0x373 + 0xa7 * -0x31 + -0x2 * -0x1373) + parseInt(a6(0x23e)) / (0x23eb * 0x1 + -0x2 * -0xcbb + 0x17f * -0x29) * (parseInt(a6(0x267)) / (0xb5 * 0x5 + 0x21ce + -0x953 * 0x4));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x1 * -0x6cb98 + 0x10c * -0x3e + 0xa * -0x1321));
var __importDefault = this && this[a8(0x207) + a8(0x1df)] || function (c) {
    const aa = a9;
    return c && c[aa(0x1cd)] ? c : { 'default': c };
};
const a4 = {};
a4[a8(0x271)] = !![], Object[a9(0x288) + a8(0x1e2)](exports, a9(0x1cd), a4);
function a() {
    const bl = [
        'SoLEX',
        'QVwgz',
        'tWindows',
        'info',
        'shared',
        '../../util',
        'ydbRj',
        'debug',
        'email',
        'bpJRK',
        'znFRK',
        'transport\x20',
        'sockets',
        '76030oBjwus',
        'onUpdateUs',
        ':chat:upda',
        'dle',
        'MMQxS',
        'sfjnx',
        'isAgent',
        'chatStopTy',
        'tlQAB',
        'XMtoA',
        'xzksy',
        'toPairs',
        './Index',
        'logger',
        'onDisconne',
        '3139490kmGJmx',
        'isAdmin',
        'YIxjT',
        'erbUh',
        'pdKJr',
        'ylksJ',
        'teOnlineBu',
        'vabxV',
        'chatTyping',
        'rver\x20USER\x20',
        'QFXUA',
        'ping',
        'QCIeZ',
        'findByPk',
        'LpvoE',
        'age',
        'eqFoL',
        'client\x20ter',
        'ETKYC',
        'bbles',
        'ChAxS',
        'onChatTypi',
        'WPWHc',
        'eventLoop',
        'idleUsers',
        'length',
        '374OQejKc',
        'ppjiz',
        'User\x20disco',
        'fHtyu',
        'kHRdr',
        'tSHNq',
        'tive',
        'jkqMc',
        'eVQqS',
        'bAgjo',
        'value',
        'sendToUser',
        'CyTYC',
        'eNpuV',
        'findKey',
        'ZxeFU',
        '1076724QjdSlG',
        'ECKPz',
        'register',
        'znDiC',
        'HhIqL',
        'mDcBW',
        'yCawY',
        'HhtlB',
        'disconnect',
        'onSetUserI',
        'RLTlx',
        'TLTfd',
        'ahYJA',
        'MNmYX',
        'onnectedCl',
        'tenantId',
        'ObgJT',
        'defineProp',
        'sendToSelf',
        'ssfully',
        '1649811VhFttj',
        ':setUserAc',
        'HtHPu',
        'MvXXj',
        'indow',
        'ryWwi',
        'ShlVH',
        'dxasD',
        '6024456NwvHJN',
        'sortByKeys',
        'PVUfC',
        'ndow',
        'update',
        'LAOZx',
        'IQwbU',
        'handshake',
        'OBGrP',
        'FROM',
        'HXPYk',
        'minated',
        'JFfhF',
        'attributes',
        'RSZbD',
        'xWsEv',
        'iPstW',
        'ctive',
        'kaYiC',
        'PzqUV',
        'dGhMt',
        'WlOZt',
        'EPYJx',
        '1100yoWJXU',
        'dTvLM',
        'events',
        'SlZQH',
        'lEiKD',
        'HAxfE',
        'tvNWG',
        'BtGrI',
        '\x20-\x20',
        'jYHOe',
        'OcHNG',
        'znwIk',
        'PnOVT',
        'Typing',
        'QAOoN',
        'ls/User',
        'saveChatWi',
        'size',
        'CdIvm',
        'DjdWK',
        'mkznT',
        'chatMessag',
        'ANAnQ',
        '4JIRerm',
        'TbYjC',
        'split',
        'ZqlKK',
        'wNWvn',
        'ZhEpV',
        ':joinSucce',
        'username',
        'NtTIQ',
        'DVRVv',
        'sortedUser',
        'sendToAllC',
        'dhDmW',
        'offline',
        'usersOnlin',
        'toUser',
        'onChatMess',
        'socketData',
        'dkklI',
        'name',
        'uaDxU',
        '__esModule',
        'type',
        'forEach',
        'auth',
        'Qooij',
        'cXAUT',
        'adDfc',
        'gojEj',
        'jPvMO',
        'aQqSM',
        'PDDxq',
        'default',
        'joinSucces',
        'role',
        'ofHoH',
        'wmqzT',
        'Hvgsn',
        ':setUserId',
        'fault',
        '):\x20',
        'lodash',
        'erty',
        'joinChatSe',
        'neBubbles',
        'nnected\x20(',
        'SPUzT',
        'nMPhO',
        'profile',
        'updateUser',
        'getOpenCha',
        'yhwWD',
        'YANBB',
        'xAxlc',
        'updateOnli',
        'TYKLn',
        'fromUser',
        'qfHXH',
        'lssHF',
        'ers',
        '505LRynnI',
        'error',
        'zcDQM',
        'gYDIy',
        'sfully',
        'emit',
        'MRVzM',
        'log',
        'tBybd',
        'spawnChatW',
        'ekXKe',
        's/logger',
        'wquKk',
        'BFCeL',
        'zeLuf',
        'UGNSJ',
        'onSetUserA',
        'HAgCW',
        '354AQeZTg',
        '__importDe',
        'List',
        'DqWlW',
        'push',
        'XWcOZ',
        'IyoKz',
        'user',
        'fQVLl',
        'gNEjR',
        'XnGkO',
        'isNull',
        'JzkAL',
        'ients',
        'sortBy',
        'pthHw',
        'UsZQX',
        'AqaFM',
        'IIlwV',
        'InQto',
        'lJykY',
        'AsGaV',
        'aIMfm',
        'vIiGt',
        'sortedIdle',
        'voupl',
        '../../mode',
        'zAPHO',
        'find',
        '3|1|0|4|2',
        './Utils',
        'UcGXl',
        'HqIBC',
        'onChatStop',
        '47334SihYrV',
        'Msyno',
        'kBkRX',
        'fromPairs',
        'tIcKd',
        'PavuM',
        'without',
        'UiXeZ',
        'pdjKX'
    ];
    a = function () {
        return bl;
    };
    return a();
}
const lodash_1 = require(a9(0x1e1)), Utils_1 = require(a8(0x224)), Index_1 = require(a8(0x24a)), User_1 = __importDefault(require(a9(0x220) + a9(0x2b9))), logger_1 = require(a8(0x236) + a8(0x1ff)), events = {}, JoinChatServer = e => {
        const ab = a8, ac = a8, f = {};
        f[ab(0x2a7)] = ac(0x1d9) + ab(0x1f8), f[ac(0x28d)] = ac(0x223);
        const g = f, {user: h} = e[ac(0x29a)][ab(0x1d0)];
        logger_1[ac(0x24b)][ac(0x234)](ab(0x1e3) + ac(0x256) + h[ac(0x1cb)]);
        const {tenantId: i} = h, j = ab(0x1c9) + '_' + i;
        let k;
        k = Index_1[ab(0x235)][j];
        k && (k[ab(0x1c6) + 'e'][h['id']] = {
            'sockets': [e['id']],
            'user': h
        }, k[ab(0x23d)][ab(0x20a)](e), (0x23ad + 0x1a * -0xa9 + 0x1 * -0x1283, Utils_1[ab(0x289)])(e, g[ac(0x2a7)]));
        if (!k) {
            const l = g[ac(0x28d)][ac(0x1ba)]('|');
            let m = 0x1e97 * 0x1 + -0x349 + 0x1b4e * -0x1;
            while (!![]) {
                switch (l[m++]) {
                case '0':
                    k[ac(0x1c6) + 'e'][h['id']] = {
                        'sockets': [e['id']],
                        'user': h
                    };
                    continue;
                case '1':
                    k = Index_1[ab(0x235)][j];
                    continue;
                case '2':
                    (-0x91a + -0x8b * -0x6 + 0xbb * 0x8, Utils_1[ac(0x289)])(e, h[ab(0x286)] + (ab(0x1be) + ab(0x28a)));
                    continue;
                case '3':
                    const n = {};
                    n[ab(0x23d)] = [], n[ab(0x1c6) + 'e'] = {}, n[ac(0x265)] = {}, Index_1[ac(0x235)][j] = n;
                    continue;
                case '4':
                    k[ab(0x23d)][ac(0x20a)](e);
                    continue;
                }
                break;
            }
        }
    }, UpdateUsers = d => {
        const ad = a8, ae = a8, e = {};
        e[ad(0x210)] = function (k, l) {
            return k === l;
        }, e[ad(0x225)] = ad(0x1fa), e[ae(0x22c)] = ad(0x230), e[ae(0x1d6)] = ae(0x1e9) + 's', e[ad(0x201)] = function (k, l) {
            return k > l;
        }, e[ae(0x292)] = function (k, l) {
            return k !== l;
        }, e[ae(0x237)] = ae(0x1c0), e[ae(0x2a8)] = ae(0x29d);
        const f = e, {user: g} = d[ae(0x29a)][ae(0x1d0)], h = ad(0x1c9) + '_' + g[ae(0x286)], i = Index_1[ae(0x235)][h], j = (-0x645 + -0x157e + 0x17 * 0x135, Utils_1[ae(0x294)])(i[ae(0x1c6) + 'e']);
        (0x6a2 + -0x265 * -0xf + 0x2a8d * -0x1, lodash_1[ad(0x1cf)])(j, k => {
            const ag = ae, ah = ad, l = {
                    'WPWHc': function (o, p) {
                        const af = b;
                        return f[af(0x210)](o, p);
                    },
                    'pdKJr': f[ag(0x225)],
                    'CyTYC': f[ag(0x22c)],
                    'ZhEpV': f[ah(0x1d6)]
                }, m = k[ah(0x20d)], {sockets: n} = k;
            if (m && f[ah(0x201)](n[ah(0x266)], -0x6 * 0x45d + -0x7a7 * 0x2 + 0xf * 0x2c4)) {
                if (f[ah(0x292)](f[ah(0x237)], f[ah(0x2a8)]))
                    (-0x1 * -0xafd + 0x1f * -0x67 + -0x4 * -0x5f, lodash_1[ag(0x1cf)])(n, o => {
                        const aj = ah, ak = ag, p = {
                                'XWcOZ': function (r, s) {
                                    const ai = b;
                                    return l[ai(0x263)](r, s);
                                }
                            }, q = (-0x1 * -0x692 + 0x1 * 0xeaa + 0x38a * -0x6, lodash_1[aj(0x222)])(i[aj(0x23d)], r => {
                                const al = aj;
                                return p[al(0x20b)](r['id'], o);
                            });
                        if (q) {
                            if (m[ak(0x1da)][aj(0x24e)] || m[aj(0x1da)][ak(0x244)]) {
                                if (l[ak(0x263)](l[ak(0x251)], l[ak(0x273)]))
                                    return p[aj(0x20b)](e['id'], f);
                                else
                                    q[ak(0x1f9)](l[ak(0x1bd)], j);
                            }
                        }
                    });
                else {
                    const p = {};
                    p[ah(0x23d)] = [], p[ag(0x1c6) + 'e'] = {}, p[ah(0x265)] = {}, j[ag(0x235)][k] = p, l = m[ah(0x235)][n], o[ah(0x265)][ah(0x20a)](p['id']);
                }
            }
        });
    }, UpdateOnlineBubbles = d => {
        const am = a9, an = a8, e = {
                'ZqlKK': function (l, m) {
                    return l === m;
                },
                'znDiC': function (l, m) {
                    return l(m);
                },
                'fQVLl': function (l, m) {
                    return l(m);
                },
                'ZxeFU': function (l, m) {
                    return l(m);
                },
                'jYHOe': function (l, m) {
                    return l !== m;
                },
                'dhDmW': am(0x291),
                'YIxjT': an(0x1b9)
            }, {user: f} = d[an(0x29a)][am(0x1d0)], g = am(0x1c9) + '_' + f[an(0x286)], h = Index_1[am(0x235)][g], i = (-0x1020 + 0x1c71 + 0x41b * -0x3, lodash_1[am(0x22b)])((0xcf4 + -0x9 * -0x371 + -0x2bed, lodash_1[am(0x214)])((0x16 * -0x10f + 0x1 * 0x22b + 0x151f, lodash_1[am(0x249)])(h[am(0x1c6) + 'e']), l => {
                const ao = an, ap = an;
                if (e[ao(0x2b3)](e[ao(0x1c4)], e[ao(0x24f)]))
                    return l[-0x1080 * 0x2 + -0x2053 + 0x4153];
                else
                    e[ap(0x1bb)](e[ap(0x27a)](l, p[ap(0x20d)]['id']), e[ao(0x27a)](q, r)) && (A = B[ao(0x20d)]), e[ao(0x1bb)](e[ao(0x20e)](u, v[ao(0x20d)]['id']), e[ao(0x276)](w, x)) && (C = D[ap(0x20d)]);
            })), j = (0x6d * -0x47 + -0x573 * 0x4 + 0x3407 * 0x1, lodash_1[an(0x22b)])((0x228a * 0x1 + 0x1ae6 + -0x3d70, lodash_1[an(0x214)])((0x8b0 + 0x355 * 0x2 + -0xf5a, lodash_1[an(0x249)])(h[an(0x265)]), l => {
                return l[0x923 * 0x1 + 0x45a + -0xd7d];
            })), k = {};
        k[an(0x1c2) + an(0x208)] = i, k[am(0x21e) + an(0x208)] = j, (0x1f49 + -0x1 * -0x3ad + -0x22f6, Utils_1[an(0x1c3) + an(0x285) + am(0x213)])(d, f[am(0x286)] + (an(0x240) + am(0x253) + am(0x260)), k);
    }, SpawnOpenChatWindows = d => {
        const aq = a9, ar = a8, e = {};
        e[aq(0x1d2)] = aq(0x1fd) + ar(0x28f);
        const f = e, {user: g} = d[aq(0x29a)][ar(0x1d0)], h = User_1[ar(0x1d8)][ar(0x25a)](g['id']);
        (-0x2 * -0x1b6 + -0x15 * 0x95 + 0x8cd, Utils_1[aq(0x289)])(d, f[aq(0x1d2)], h);
    }, spawnChatWindow = d => {
        const as = a8, at = a8, e = {};
        e[as(0x295)] = at(0x1cb), e[as(0x298)] = as(0x239), e[as(0x219)] = as(0x1e8), e[at(0x1fc)] = as(0x1fd) + at(0x28f);
        const f = e;
        d['on'](f[at(0x1fc)], async g => {
            const au = as, av = at, h = {};
            h[au(0x2a0)] = [
                'id',
                f[au(0x295)],
                f[av(0x298)],
                f[au(0x219)]
            ];
            const i = await User_1[au(0x1d8)][au(0x25a)](g, h);
            (-0x896 * 0x1 + -0x23f9 * -0x1 + -0x1b63 * 0x1, Utils_1[av(0x289)])(d, f[av(0x1fc)], i);
        });
    }, onSetUserIdle = c => {
        const aw = a9, ax = a9, d = {
                'ofHoH': function (g, h) {
                    return g === h;
                },
                'eqFoL': aw(0x1d5),
                'kBkRX': ax(0x229),
                'DqWlW': function (g, h) {
                    return g(h);
                }
            }, {user: e} = c[ax(0x29a)][ax(0x1d0)], f = aw(0x1c9) + '_' + e[aw(0x286)];
        c['on'](e[ax(0x286)] + (aw(0x1de) + 'le'), () => {
            const ay = ax, az = aw;
            if (d[ay(0x1db)](d[ay(0x25d)], d[ay(0x22a)]))
                e = f[az(0x20d)];
            else {
                let h;
                h = Index_1[az(0x235)][f];
                h && (h[az(0x265)][e['id']] = {
                    'sockets': [c['id']],
                    'user': e
                });
                if (!h) {
                    const i = {};
                    i[ay(0x23d)] = [], i[ay(0x1c6) + 'e'] = {}, i[ay(0x265)] = {}, Index_1[ay(0x235)][f] = i, h = Index_1[ay(0x235)][f], h[ay(0x265)][az(0x20a)](c['id']);
                }
                h?.[az(0x1c6) + 'e'][e['id']] && delete h?.[ay(0x1c6) + 'e'][e['id']], d[ay(0x209)](UpdateOnlineBubbles, c);
            }
        });
    }, onSetUserActive = c => {
        const aA = a8, aB = a8, d = {
                'UGNSJ': function (g, h) {
                    return g !== h;
                },
                'iPstW': aA(0x287),
                'ylksJ': aA(0x26f),
                'yCawY': function (g, h) {
                    return g(h);
                }
            }, {user: e} = c[aA(0x29a)][aA(0x1d0)], f = aA(0x1c9) + '_' + e[aB(0x286)];
        c['on'](e[aB(0x286)] + (aA(0x28c) + aA(0x26d)), () => {
            const aC = aB, aD = aB;
            let g = Index_1[aC(0x235)][f];
            g?.[aD(0x265)][e['id']] && delete g?.[aC(0x265)][e['id']];
            if (!g) {
                const h = {};
                h[aC(0x23d)] = [], h[aC(0x1c6) + 'e'] = {}, h[aD(0x265)] = {}, Index_1[aC(0x235)][f] = h, g = Index_1[aC(0x235)][f], g[aD(0x1c6) + 'e'][aD(0x20a)](c['id']);
            }
            if (g?.[aC(0x1c6) + 'e']) {
                if (d[aD(0x203)](d[aC(0x2a3)], d[aC(0x252)]))
                    g[aD(0x1c6) + 'e'][e['id']] = {
                        'sockets': [c['id']],
                        'user': e
                    };
                else {
                    const j = {};
                    j[aC(0x23d)] = [i['id']], j[aC(0x20d)] = j, g[aC(0x265)][h['id']] = j;
                }
            }
            d[aD(0x27d)](UpdateOnlineBubbles, c);
        });
    }, onUpdateUsers = d => {
        const aE = a9, aF = a9, e = {};
        e[aE(0x23a)] = aF(0x1e9) + 's';
        const f = e;
        d['on'](f[aF(0x23a)], UpdateUsers);
    }, onChatMessage = c => {
        const aG = a8, aH = a8, d = {
                'adDfc': function (h, i) {
                    return h(i);
                },
                'jkqMc': function (h, i) {
                    return h !== i;
                },
                'mkznT': aG(0x2b1),
                'wquKk': aG(0x2bc),
                'QCIeZ': function (h, i) {
                    return h !== i;
                },
                'OBGrP': aH(0x278),
                'HqIBC': aG(0x282),
                'zAPHO': aH(0x29c),
                'OcHNG': function (h, i) {
                    return h === i;
                },
                'SlZQH': aG(0x250),
                'MvXXj': function (h, i) {
                    return h === i;
                },
                'xAxlc': aG(0x23b),
                'QVwgz': aG(0x261),
                'tvNWG': aH(0x1b6) + 'e'
            }, {user: e} = c[aG(0x29a)][aG(0x1d0)], {tenantId: f} = e, g = aH(0x1c9) + '_' + f;
        c['on'](d[aH(0x2b0)], function (h) {
            const aI = aG, aJ = aG;
            if (d[aI(0x26e)](d[aI(0x1b5)], d[aJ(0x200)])) {
                const i = Index_1[aJ(0x235)][g];
                if (i) {
                    if (d[aI(0x259)](d[aJ(0x29b)], d[aJ(0x226)])) {
                        const {to: j} = h, {from: k} = h;
                        console[aI(0x1fb)]('TO', j), console[aI(0x1fb)](d[aI(0x221)], k);
                        const l = h[aI(0x1ce)];
                        d[aI(0x2b4)](h[aJ(0x1ce)], 's') ? d[aJ(0x2b4)](d[aI(0x2ad)], d[aI(0x2ad)]) ? h[aJ(0x1ce)] = 'r' : h[aJ(0x265)][i['id']][aJ(0x23d)] = (0x10fe + -0x101 * 0xd + -0x3f1, j[aI(0x22e)])(k, l['id']) : d[aI(0x28e)](d[aJ(0x1ed)], d[aI(0x232)]) ? e = f[aJ(0x20d)] : h[aJ(0x1ce)] = 's', (0x1e5 * -0x1 + 0x4c6 * -0x3 + -0x7 * -0x251, Utils_1[aI(0x272)])(i[aJ(0x23d)], i[aI(0x1c6) + 'e'], h[aJ(0x1c7)][aI(0x1bf)], d[aI(0x2b0)], h), h[aI(0x1ce)] = l, (-0x14d7 + 0xaee + 0x9e9 * 0x1, Utils_1[aJ(0x272)])(i[aI(0x23d)], i[aJ(0x1c6) + 'e'], h[aI(0x1f0)][aI(0x1bf)], d[aJ(0x2b0)], h);
                    } else {
                        const p = {};
                        p[aI(0x23d)] = [i['id']], p[aI(0x20d)] = j, g[aI(0x1c6) + 'e'][h['id']] = p;
                    }
                }
            } else
                d[aJ(0x1d3)](g, h), d[aI(0x1d3)](i, j);
        });
    }, onChatTyping = c => {
        const aK = a9, aL = a8, d = {
                'vIiGt': function (h, i) {
                    return h !== i;
                },
                'IQwbU': aK(0x268),
                'aIMfm': function (h, i) {
                    return h === i;
                },
                'HAxfE': function (h, i) {
                    return h(i);
                },
                'lEiKD': function (h, i) {
                    return h(i);
                },
                'ekXKe': aL(0x2a5),
                'eNpuV': aK(0x1d9) + aL(0x1f8),
                'ahYJA': function (h, i) {
                    return h !== i;
                },
                'dkklI': aL(0x218),
                'TYKLn': aL(0x202),
                'zcDQM': aK(0x255)
            }, {user: e} = c[aL(0x29a)][aL(0x1d0)], {tenantId: f} = e, g = aK(0x1c9) + '_' + f;
        c['on'](d[aL(0x1f6)], h => {
            const aN = aL, aR = aL, i = {
                    'ryWwi': function (k, l) {
                        const aM = b;
                        return d[aM(0x21d)](k, l);
                    },
                    'PzqUV': d[aN(0x299)],
                    'EPYJx': function (k, l) {
                        const aO = aN;
                        return d[aO(0x21c)](k, l);
                    },
                    'LpvoE': function (k, l) {
                        const aP = aN;
                        return d[aP(0x2af)](k, l);
                    },
                    'HAgCW': function (k, l) {
                        const aQ = aN;
                        return d[aQ(0x2ae)](k, l);
                    },
                    'tlQAB': d[aN(0x1fe)],
                    'PDDxq': d[aR(0x274)]
                }, j = Index_1[aR(0x235)][g];
            if (j) {
                if (d[aR(0x283)](d[aR(0x1ca)], d[aR(0x1ef)])) {
                    const {to: k} = h, {from: l} = h;
                    let m = null, n = null;
                    (0xc * -0x305 + -0x1218 + -0x7a * -0x72, lodash_1[aR(0x222)])(j[aR(0x1c6) + 'e'], function (o) {
                        const aS = aN, aT = aR;
                        if (i[aS(0x290)](i[aT(0x2a6)], i[aS(0x2a6)]))
                            return;
                        else
                            i[aT(0x2a9)](i[aT(0x25b)](String, o[aS(0x20d)]['id']), i[aS(0x25b)](String, k)) && (m = o[aS(0x20d)]), i[aT(0x2a9)](i[aS(0x205)](String, o[aS(0x20d)]['id']), i[aT(0x205)](String, l)) && (i[aT(0x2a9)](i[aT(0x246)], i[aT(0x246)]) ? n = o[aS(0x20d)] : d[aT(0x1ce)] = 's');
                    });
                    if ((-0x2152 + 0xab2 + -0xb5 * -0x20, lodash_1[aR(0x211)])(m) || (0x4a8 * -0x8 + 0x3ef + 0x2151 * 0x1, lodash_1[aN(0x211)])(n))
                        return;
                    h[aR(0x1c7)] = m, h[aN(0x1f0)] = n, (-0x403 + 0x235f * 0x1 + 0x4 * -0x7d7, Utils_1[aN(0x272)])(j[aR(0x23d)], j[aR(0x1c6) + 'e'], m[aR(0x1cb)], d[aR(0x1f6)], h);
                } else {
                    const p = {};
                    p[aN(0x23d)] = [m['id']], p[aN(0x20d)] = n, k[aN(0x1c6) + 'e'][l['id']] = p, o[aN(0x23d)][aR(0x20a)](p), (-0x1cf * -0x8 + 0x83 * -0x49 + 0x16e3, q[aN(0x289)])(r, i[aR(0x1d7)]);
                }
            }
        });
    }, onChatStopTyping = c => {
        const aU = a9, aV = a9, d = {
                'DjdWK': function (h, i) {
                    return h === i;
                },
                'tSHNq': function (h, i) {
                    return h(i);
                },
                'SPUzT': aU(0x245) + aV(0x258)
            }, {user: e} = c[aV(0x29a)][aV(0x1d0)], {tenantId: f} = e, g = aV(0x1c9) + '_' + f;
        c['on'](d[aU(0x1e6)], h => {
            const aW = aU, aX = aU, i = Index_1[aW(0x235)][g];
            if (i) {
                const {to: j} = h;
                let k = null;
                (0x1b50 + -0x1a * 0x134 + 0x3f8, lodash_1[aX(0x222)])(i[aW(0x1c6) + 'e'], l => {
                    const aY = aW, aZ = aW;
                    d[aY(0x2bd)](d[aZ(0x26c)](String, l[aZ(0x20d)]['id']), d[aY(0x26c)](String, j)) && (k = l[aY(0x20d)]);
                });
                if ((0x1f * -0x45 + 0x1 * -0x135a + -0x29 * -0xad, lodash_1[aW(0x211)])(k))
                    return;
                h[aX(0x1c7)] = k, (0x1945 * -0x1 + 0x22c7 + -0x2 * 0x4c1, Utils_1[aW(0x272)])(i[aW(0x23d)], i[aX(0x1c6) + 'e'], k[aX(0x1cb)], d[aX(0x1e6)], h);
            }
        });
    }, saveChatWindow = c => {
        const b0 = a9, b1 = a9, d = {
                'bAgjo': function (e, f) {
                    return e(f);
                },
                'IyoKz': function (e, f) {
                    return e !== f;
                },
                'HhIqL': b0(0x25f),
                'Hvgsn': b1(0x2ba) + b1(0x296)
            };
        c['on'](d[b0(0x1dd)], async e => {
            const b3 = b0, b4 = b0, f = {
                    'RSZbD': function (g, h) {
                        const b2 = b;
                        return d[b2(0x270)](g, h);
                    }
                };
            if (d[b3(0x20c)](d[b3(0x27b)], d[b3(0x27b)]))
                f[b4(0x2a1)](e, f);
            else {
                const {userId: h} = e, {remove: i} = e, j = await User_1[b4(0x1d8)][b4(0x25a)](h);
                if (j) {
                    if (i) {
                    } else {
                    }
                }
            }
        });
    }, onDisconnect = c => {
        const b5 = a8, b6 = a9, d = {
                'HhtlB': b5(0x1e9) + 's',
                'UiXeZ': function (e, f) {
                    return e(f);
                },
                'gYDIy': b5(0x25e) + b6(0x29e),
                'lJykY': function (e, f) {
                    return e !== f;
                },
                'pthHw': b5(0x2ab),
                'JFfhF': function (e, f) {
                    return e < f;
                },
                'PavuM': function (e, f) {
                    return e !== f;
                },
                'vabxV': b6(0x20f),
                'fHtyu': b5(0x2b6),
                'SoLEX': function (e, f) {
                    return e !== f;
                },
                'mDcBW': b5(0x217),
                'xWsEv': function (e, f) {
                    return e === f;
                },
                'xzksy': b5(0x216),
                'voupl': b5(0x1c5),
                'wNWvn': function (e, f) {
                    return e(f);
                },
                'MMQxS': b5(0x23c) + b5(0x1f5),
                'kHRdr': function (e, f) {
                    return e !== f;
                },
                'Qooij': b6(0x1ec),
                'ANAnQ': b6(0x1cc),
                'sfjnx': b6(0x27f)
            };
        c['on'](d[b6(0x243)], async e => {
            const b8 = b6, b9 = b5, f = {
                    'DVRVv': function (m, n) {
                        const b7 = b;
                        return d[b7(0x22f)](m, n);
                    },
                    'wmqzT': d[b8(0x1f7)]
                }, {user: g} = c[b9(0x29a)][b8(0x1d0)], {tenantId: h} = g, j = b9(0x1c9) + '_' + h, k = Index_1[b8(0x235)][j];
            if (k?.[b8(0x1c6) + 'e']) {
                if (d[b9(0x21a)](d[b8(0x215)], d[b8(0x215)]))
                    f[b8(0x1c1)](e, f);
                else {
                    if (k[b9(0x1c6) + 'e'][g['id']]) {
                        const q = k[b8(0x1c6) + 'e'][g['id']][b8(0x23d)];
                        if (d[b9(0x29f)]((0x1383 + 0x21c4 + -0x251 * 0x17, lodash_1[b8(0x2bb)])(q), -0xa * 0x22d + 0x2045 + -0xa81))
                            delete k[b8(0x1c6) + 'e'][g['id']];
                        else {
                            if (d[b8(0x22d)](d[b8(0x254)], d[b9(0x26a)]))
                                k[b9(0x1c6) + 'e'][g['id']][b8(0x23d)] = (-0xf04 + 0x4 * -0x607 + 0x2720, lodash_1[b9(0x22e)])(q, c['id']);
                            else
                                return;
                        }
                    }
                    const n = {};
                    n['id'] = c['id'];
                    const p = (0x13aa + 0x12e3 + -0x47 * 0x8b, lodash_1[b9(0x275)])(k[b9(0x23d)], n);
                    k[b8(0x23d)] = (-0x1e4 + 0xefd + -0xd19, lodash_1[b8(0x22e)])(k[b9(0x23d)], p);
                }
            }
            if (k?.[b8(0x265)]) {
                if (k[b8(0x265)][g['id']]) {
                    const u = k[b8(0x265)][g['id']][b8(0x23d)];
                    d[b9(0x29f)]((-0x1df7 * -0x1 + -0x1e02 + 0xb, lodash_1[b9(0x2bb)])(u), -0x1 * 0x1a4b + 0x5 * 0x58c + -0x1 * 0x16f) ? d[b9(0x231)](d[b9(0x27c)], d[b9(0x27c)]) ? s = f[b9(0x1dc)] : delete k[b9(0x265)][g['id']] : d[b9(0x2a2)](d[b9(0x248)], d[b8(0x248)]) ? k[b8(0x265)][g['id']][b8(0x23d)] = (0x1c1 * 0xc + -0x7b9 * 0x1 + -0xd53, lodash_1[b9(0x22e)])(u, c['id']) : delete e?.[b9(0x1c6) + 'e'][f['id']];
                }
                const s = {};
                s['id'] = c['id'];
                const t = (-0xc36 + -0x13e7 * -0x1 + -0x7b1, lodash_1[b9(0x275)])(k[b9(0x23d)], s);
                k[b8(0x23d)] = (-0x22d * 0xe + -0x232 + 0x20a8, lodash_1[b9(0x22e)])(k[b8(0x23d)], t);
            }
            const l = await User_1[b9(0x1d8)][b8(0x25a)](g['id']);
            l?.[b9(0x297)]({
                'status': d[b8(0x21f)],
                'lastOnline': new Date()
            }), d[b9(0x1bc)](UpdateOnlineBubbles, c), d[b9(0x2a2)](e, d[b9(0x242)]) && (d[b9(0x26b)](d[b8(0x1d1)], d[b8(0x1b7)]) ? e = d[b8(0x1f7)] : (g[b9(0x1da)][b8(0x24e)] || h[b9(0x1da)][b9(0x244)]) && k[b9(0x1f9)](d[b8(0x27e)], l)), logger_1[b9(0x24b)][b9(0x238)](b9(0x269) + b8(0x1e5) + e + b9(0x1e0) + g[b8(0x1cb)] + b9(0x2b2) + c['id']);
        });
    };
events[a8(0x280) + a8(0x241)] = onSetUserIdle, events[a8(0x204) + a9(0x2a4)] = onSetUserActive, events[a9(0x23f) + a8(0x1f3)] = onUpdateUsers, events[a9(0x1fd) + a9(0x28f)] = spawnChatWindow, events[a8(0x1c8) + a9(0x25c)] = onChatMessage, events[a9(0x262) + 'ng'] = onChatTyping, events[a9(0x227) + a9(0x2b7)] = onChatStopTyping, events[a9(0x2ba) + a8(0x296)] = saveChatWindow, events[a8(0x24c) + 'ct'] = onDisconnect, events[a8(0x1ee) + a9(0x1e4)] = c => {
    const ba = a9, bb = a8, d = {
            'yhwWD': function (f, g) {
                return f === g;
            },
            'JzkAL': ba(0x284),
            'QFXUA': function (f, g) {
                return f(g);
            }
        }, {user: e} = c[ba(0x29a)][bb(0x1d0)];
    c['on'](e[bb(0x286)] + (bb(0x240) + ba(0x253) + bb(0x260)), () => {
        const bc = bb, bd = ba;
        d[bc(0x1eb)](d[bd(0x212)], d[bc(0x212)]) ? d[bd(0x257)](UpdateOnlineBubbles, e[bc(0x286)]) : d[bd(0x1ce)] = 'r';
    });
}, events[a8(0x1ea) + a9(0x233)] = c => {
    const be = a8, bf = a8, d = {
            'qfHXH': function (e, f) {
                return e(f);
            },
            'QAOoN': be(0x1ea) + bf(0x233)
        };
    c['on'](d[be(0x2b8)], () => {
        const bg = be;
        d[bg(0x1f1)](SpawnOpenChatWindows, c);
    });
};
function register(c) {
    const bh = a8, bi = a9, d = {
            'lssHF': function (e, f) {
                return e !== f;
            },
            'AsGaV': bh(0x1d4),
            'XMtoA': bi(0x281),
            'znwIk': function (e, f) {
                return e(f);
            }
        };
    if (!c[bh(0x29a)]?.[bi(0x1d0)]?.[bh(0x286)]) {
        if (d[bh(0x1f2)](d[bh(0x21b)], d[bi(0x247)]))
            return;
        else
            delete e[bh(0x1c6) + 'e'][f['id']];
    }
    events[bh(0x280) + bi(0x241)](c), events[bi(0x204) + bi(0x2a4)](c), events[bh(0x23f) + bi(0x1f3)](c), events[bi(0x1ee) + bi(0x1e4)](c), events[bh(0x1fd) + bi(0x28f)](c), events[bi(0x1ea) + bi(0x233)](c), events[bh(0x1c8) + bi(0x25c)](c), events[bh(0x262) + 'ng'](c), events[bi(0x227) + bh(0x2b7)](c), events[bi(0x2ba) + bi(0x296)](c), events[bh(0x24c) + 'ct'](c), c[bi(0x29a)][bh(0x1d0)][bh(0x20d)]['id'] && d[bi(0x2b5)](JoinChatServer, c);
}
const eventLoop = c => {
        const bj = a9, bk = a8, d = {
                'nMPhO': function (e, f) {
                    return e(f);
                }
            };
        d[bj(0x1e7)](UpdateUsers, c), d[bk(0x1e7)](UpdateOnlineBubbles, c);
    }, a5 = {};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0xac * -0x20 + -0x1 * -0x17ad + -0x78);
        let h = e[f];
        return h;
    }, b(c, d);
}
a5[a9(0x2ac)] = events, a5[a8(0x264)] = eventLoop, a5[a8(0x279)] = register;
const chat = a5;
exports[a8(0x1d8)] = chat;