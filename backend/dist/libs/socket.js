'use strict';
function a() {
    const Z = [
        'disconnect',
        'ogger',
        'pingTimeou',
        'ned\x20a\x20tick',
        'getIO',
        'at/Chat',
        '6713634UZpXuv',
        'LUxdD',
        'kenSocket',
        'ent\x20discon',
        'initIO',
        'tusUser',
        '\x20tickets\x20c',
        'amioi',
        'HtIdr',
        'dytwJ',
        'pKSTG',
        ':joinTicke',
        'oZXNj',
        'DWaIa',
        'oined\x20to\x20',
        'VwlVj',
        'User',
        'nected\x20,\x20',
        'Client\x20joi',
        'eoJPP',
        'ion',
        'kPkEe',
        'lastOnline',
        '2895494UEneRh',
        'eSzKs',
        'GnasP',
        '__esModule',
        'ljfQH',
        'redis',
        'lrogR',
        './socketCh',
        '10AMCGps',
        'XMUxH',
        '18CXgEsv',
        'status',
        'kVwtf',
        'nected\x20in\x20',
        'fication\x20c',
        'info',
        'connection',
        'HZkbs',
        'tion\x20error',
        'isValid',
        'FYnDH',
        ':joinNotif',
        'ied',
        'rNRgS',
        'FWjzL',
        'user',
        'eieum',
        'data',
        'lpOSp',
        'hMNDW',
        'handshake',
        ':joinChatB',
        'Client\x20con',
        'message',
        ':userVerif',
        '__importDe',
        'token',
        'logger',
        'et\x20channel',
        'Server',
        'tkHhq',
        'XtzWj',
        ':updateSta',
        'RCTFP',
        'IsaIK',
        'attributes',
        'tokenInval',
        'Syibg',
        'defineProp',
        'emit',
        'name',
        'CbJCQ',
        'ISGUZ',
        'HNhpv',
        'tenantId',
        'oined\x20noti',
        'env',
        'lastLogin',
        'warn',
        'CQeal',
        'jxRce',
        'IO_REDIS_P',
        'BIlaT',
        '2934462auVFvR',
        'hannel.',
        'authentica',
        '../errors/',
        'ERVER',
        'DWrlE',
        'rKtuq',
        'A\x20client\x20j',
        'pingInterv',
        '91WPPEeY',
        'HFGWB',
        'QeDnI',
        'hannel\x20',
        ':notificat',
        'origin',
        'adapter',
        '481112tdrwOJ',
        'id:\x20',
        'userId',
        'AppError',
        'YepgE',
        'ASSWORD',
        'SPBwL',
        'use',
        'OJcBq',
        'not\x20initia',
        'uDYlg',
        'toString',
        'lized',
        'KqaRY',
        'auth',
        'mHrkg',
        'SERNAME',
        'ujlFZ',
        'mRCJT',
        'update',
        'id:',
        '../models/',
        'profile',
        'ggMkP',
        'ication',
        'cors',
        'fault',
        'register',
        './decodeTo',
        'wwqpo',
        'Socket\x20IO\x20',
        'eUzQV',
        'IO_REDIS_S',
        'findByPk',
        'join',
        'jgYax',
        '166520HZKDjZ',
        'inmRf',
        'default',
        'FDuUm',
        'EWbWd',
        'IO_REDIS_U',
        'WHrmk',
        'socket.io-',
        'erty',
        '75364hPLcES',
        'email',
        'isOnline',
        'ORT',
        '../utils/l',
        'value',
        'tFrkZ',
        'skOJF',
        'tenant',
        '1732330pVMzeA',
        'QaANv',
        'SOCKET\x20Cli',
        'socket.io'
    ];
    a = function () {
        return Z;
    };
    return a();
}
const B = b, C = b;
(function (c, d) {
    const z = b, A = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(z(0x1c9)) / (0x22ec + 0xeeb + -0x31d6) + parseInt(A(0x1f3)) / (0x80b * 0x3 + 0x4f7 * 0x1 + -0x1b6 * 0x11) + parseInt(A(0x232)) / (0xc * 0x2f6 + -0x169e + -0x44d * 0x3) + -parseInt(A(0x266)) / (0x22e8 + 0x1 * 0x135 + -0x2419) * (parseInt(A(0x1fb)) / (0x59e * 0x2 + -0x74b + 0x1 * -0x3ec)) + -parseInt(A(0x1dc)) / (0x20e2 + 0x1de1 + 0x1 * -0x3ebd) + -parseInt(A(0x23b)) / (0x181 * 0x11 + 0x166 + -0x1af0) * (parseInt(A(0x242)) / (-0x6e7 * 0x4 + 0x1565 * 0x1 + 0x63f)) + parseInt(z(0x1fd)) / (0x232 + -0x1061 + 0x104 * 0xe) * (parseInt(z(0x1d2)) / (0xb37 + -0xf63 + -0xb * -0x62));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0xf81a5 + 0x1 * -0xe76ab + 0xc22f3));
var __importDefault = this && this[B(0x216) + C(0x25c)] || function (c) {
    const D = C;
    return c && c[D(0x1f6)] ? c : { 'default': c };
};
const o = {};
o[C(0x1ce)] = !![], Object[B(0x223) + C(0x1c8)](exports, B(0x1f6), o), exports[C(0x1da)] = exports[B(0x1e0)] = void (0x81f + 0x1da4 + -0x25c3);
const socket_io_1 = require(B(0x1d5)), socket_io_redis_1 = __importDefault(require(B(0x1c7) + C(0x1f8))), AppError_1 = __importDefault(require(B(0x235) + C(0x245))), decodeTokenSocket_1 = __importDefault(require(B(0x25e) + B(0x1de))), logger_1 = require(C(0x1cd) + C(0x1d7)), User_1 = __importDefault(require(B(0x257) + B(0x1ec))), Chat_1 = __importDefault(require(C(0x1fa) + B(0x1db)));
let io;
const initIO = e => {
    const E = B, F = B, f = {
            'oZXNj': E(0x260) + F(0x24b) + E(0x24e),
            'WHrmk': function (k, l) {
                return k(l);
            },
            'lrogR': F(0x234) + E(0x205),
            'eieum': function (k, l) {
                return k === l;
            },
            'XtzWj': E(0x1cf),
            'rNRgS': function (k, l) {
                return k === l;
            },
            'DWrlE': F(0x246),
            'QeDnI': F(0x24a),
            'amioi': function (k, l) {
                return k !== l;
            },
            'HNhpv': F(0x265),
            'eUzQV': function (k, l) {
                return k(l);
            },
            'SPBwL': F(0x229),
            'GnasP': F(0x225),
            'HZkbs': F(0x1ca),
            'mRCJT': E(0x258),
            'LUxdD': F(0x1fe),
            'skOJF': E(0x22c),
            'VwlVj': F(0x1f2),
            'BIlaT': function (k) {
                return k();
            },
            'RCTFP': function (k, l) {
                return k(l);
            },
            'HtIdr': E(0x1d3),
            'eoJPP': function (k, l) {
                return k === l;
            },
            'ljfQH': F(0x1fc),
            'IsaIK': E(0x210),
            'ggMkP': F(0x222),
            'mHrkg': F(0x22f),
            'lpOSp': E(0x1e9),
            'ujlFZ': F(0x1f1),
            'FYnDH': E(0x226),
            'HFGWB': F(0x213) + F(0x200) + F(0x1d1),
            'FDuUm': F(0x1d6),
            'uDYlg': E(0x203)
        }, g = {};
    g[E(0x240)] = '*';
    const h = {};
    h[E(0x25b)] = g, h[E(0x1d8) + 't'] = 0x2bf20, h[E(0x23a) + 'al'] = 0xea60, io = new socket_io_1[(F(0x21a))](e, h);
    const i = {
            'host': process[E(0x22b)][F(0x262) + E(0x236)],
            'port': f[E(0x1c6)](Number, process[E(0x22b)][E(0x230) + F(0x1cc)]),
            'username': process[E(0x22b)][F(0x1c5) + F(0x252)],
            'password': process[E(0x22b)][E(0x230) + F(0x247)]
        }, j = socket_io_redis_1[E(0x268)];
    return io[E(0x241)](f[E(0x21e)](j, i)), io[E(0x249)](async (k, l) => {
        const H = F, I = E, m = {
                'FWjzL': function (n, p) {
                    const G = b;
                    return f[G(0x1c6)](n, p);
                },
                'kVwtf': f[H(0x1f9)]
            };
        if (f[H(0x20d)](f[H(0x21c)], f[I(0x21c)]))
            try {
                if (f[I(0x20a)](f[I(0x237)], f[I(0x23d)]))
                    g[H(0x218)][H(0x202)](I(0x239) + H(0x22a) + H(0x201) + H(0x23e) + h + (H(0x23f) + H(0x1f0))), i[I(0x264)](j + (I(0x23f) + H(0x1f0)));
                else {
                    const p = k?.[H(0x211)]?.[H(0x250)]?.[I(0x217)], q = (-0x479 * 0x7 + 0x7 * -0x3fb + 0x3b2c, decodeTokenSocket_1[I(0x268)])(p);
                    if (q[H(0x206)]) {
                        if (f[H(0x1e3)](f[I(0x228)], f[I(0x228)]))
                            i[H(0x218)][H(0x22d)](H(0x221) + H(0x243) + j), k[H(0x224)](I(0x221) + H(0x256) + l['id']), m[H(0x20b)](m, new n(m[H(0x1ff)]));
                        else {
                            const s = k?.[I(0x211)]?.[I(0x250)];
                            k[H(0x211)][I(0x250)] = {
                                ...s,
                                ...q[H(0x20e)],
                                'id': f[H(0x261)](String, q[I(0x20e)]['id']),
                                'tenantId': f[H(0x1c6)](String, q[I(0x20e)][I(0x229)])
                            };
                            const t = {};
                            t[H(0x220)] = [
                                'id',
                                f[I(0x248)],
                                f[H(0x1f5)],
                                f[H(0x204)],
                                f[I(0x254)],
                                f[I(0x1dd)],
                                f[I(0x1d0)],
                                f[I(0x1eb)]
                            ];
                            const u = await User_1[H(0x268)][H(0x263)](q[I(0x20e)]['id'], t);
                            k[H(0x211)][H(0x250)][H(0x20c)] = u, f[H(0x231)](l);
                        }
                    }
                    f[H(0x21e)](l, new Error(f[H(0x1f9)]));
                }
            } catch (v) {
                if (f[H(0x1e3)](f[H(0x1e4)], f[H(0x1e4)])) {
                    if (!f)
                        throw new i[(I(0x268))](f[H(0x1e8)]);
                    return h;
                } else
                    logger_1[I(0x218)][H(0x22d)](I(0x221) + I(0x243) + k), k[H(0x224)](I(0x221) + H(0x256) + k['id']), f[H(0x1c6)](l, new Error(f[H(0x1f9)]));
            }
        else {
            const y = {};
            y[I(0x214)] = I(0x1d4) + H(0x1df) + I(0x1ed) + g + ',\x20' + h, y[H(0x218)][H(0x202)](y);
        }
    }), io['on'](f[E(0x24c)], k => {
        const J = F, L = F, l = {
                'CQeal': f[J(0x1e8)],
                'dytwJ': function (n, p) {
                    const K = J;
                    return f[K(0x1ef)](n, p);
                },
                'inmRf': f[L(0x1f7)],
                'wwqpo': f[J(0x21f)],
                'EWbWd': f[L(0x259)],
                'eSzKs': function (n, p) {
                    const M = L;
                    return f[M(0x1e3)](n, p);
                },
                'ISGUZ': f[L(0x251)],
                'KqaRY': f[J(0x20f)],
                'tkHhq': f[L(0x253)],
                'pKSTG': f[L(0x207)]
            }, {tenantId: m} = k[L(0x211)][J(0x250)];
        if (m) {
            const n = {};
            n[L(0x214)] = f[J(0x23c)], n[L(0x20e)] = k[J(0x211)][L(0x250)], logger_1[J(0x218)][J(0x202)](n), k[J(0x264)](m[J(0x24d)]()), k['on'](m + (J(0x215) + L(0x209)), async p => {
                const N = L, O = L;
                if (l[N(0x1e5)](l[O(0x267)], l[O(0x267)])) {
                    const q = await User_1[N(0x268)][N(0x263)](p[N(0x244)]), r = {};
                    r[N(0x1cb)] = !![], await q[O(0x255)](r), k[N(0x224)](p[O(0x229)] + (N(0x21d) + O(0x1e1)), q);
                } else
                    throw new h[(N(0x268))](l[N(0x22e)]);
            }), k['on'](m + (J(0x212) + 'ox'), p => {
                const P = L, Q = L;
                if (l[P(0x1e5)](l[P(0x25f)], l[P(0x26a)])) {
                    const r = {};
                    return r[Q(0x268)] = j, g && h[Q(0x1f6)] ? i : r;
                } else
                    logger_1[Q(0x218)][Q(0x202)](P(0x1ee) + Q(0x1d9) + P(0x219) + '\x20' + m + ':' + p), k[P(0x264)](m + ':' + p);
            }), k['on'](m + (L(0x208) + L(0x25a)), () => {
                const R = J, S = L;
                l[R(0x1f4)](l[S(0x227)], l[R(0x24f)]) ? (logger_1[S(0x218)][R(0x202)](S(0x239) + S(0x22a) + S(0x201) + R(0x23e) + m + (S(0x23f) + R(0x1f0))), k[S(0x264)](m + (R(0x23f) + R(0x1f0)))) : (i[R(0x218)][R(0x202)](S(0x239) + R(0x1ea) + j + ':' + k + (R(0x1e2) + S(0x233))), l[S(0x264)](m + ':' + n));
            }), k['on'](m + (J(0x1e7) + 'ts'), p => {
                const T = J, U = J;
                l[T(0x1f4)](l[U(0x21b)], l[T(0x1e6)]) ? (logger_1[U(0x218)][U(0x202)](U(0x239) + U(0x1ea) + m + ':' + p + (U(0x1e2) + T(0x233))), k[U(0x264)](m + ':' + p)) : (i[T(0x218)][U(0x202)](U(0x1ee) + U(0x1d9) + U(0x219) + '\x20' + j + ':' + k), l[U(0x264)](m + ':' + n));
            }), Chat_1[L(0x268)][L(0x25d)](k);
        }
        k['on'](f[L(0x269)], p => {
            const V = J, W = L, q = {};
            q[V(0x214)] = W(0x1d4) + W(0x1df) + V(0x1ed) + m + ',\x20' + p, logger_1[W(0x218)][W(0x202)](q);
        });
    }), io;
};
exports[B(0x1e0)] = initIO;
const getIO = () => {
    const X = B, Y = B, d = {};
    d[X(0x238)] = Y(0x260) + Y(0x24b) + X(0x24e);
    const e = d;
    if (!io)
        throw new AppError_1[(Y(0x268))](e[X(0x238)]);
    return io;
};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0xc28 + -0x7b3 + 0x15a0);
        let h = e[f];
        return h;
    }, b(c, d);
}
exports[C(0x1da)] = getIO;