'use strict';const a2=b,a5=b;(function(c,d){const a0=b,a1=b,e=c();while(!![]){try{const f=-parseInt(a0(0x15c))/0x1*(-parseInt(a1(0x156))/0x2)+parseInt(a0(0x169))/0x3*(parseInt(a1(0x157))/0x4)+parseInt(a0(0x19d))/0x5+parseInt(a1(0x178))/0x6*(-parseInt(a0(0x193))/0x7)+parseInt(a0(0x161))/0x8*(-parseInt(a0(0x189))/0x9)+parseInt(a0(0x162))/0xa+-parseInt(a1(0x164))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x7c057));function b(c,d){const e=a();return b=function(f,g){f=f-0x151;let h=e[f];return h;},b(c,d);}var __decorate=this&&this[a2(0x18a)]||function(e,f,g,h){const a3=a2,a4=a2;var j=arguments[a3(0x17f)],k=j<0x3?f:h===null?h=Object[a4(0x179)](f,g):h,l;if(typeof Reflect==='object'&&typeof Reflect['decorate']===a4(0x166))k=Reflect[a3(0x16e)](e,f,g,h);else{for(var m=e[a3(0x17f)]-0x1;m>=0x0;m--)if(l=e[m])k=(j<0x3?l(k):j>0x3?l(f,g,k):l(f,g))||k;}return j>0x3&&k&&Object['defineProperty'](f,g,k),k;},__metadata=this&&this[a5(0x165)]||function(c,d){const a6=a5,a7=a2;if(typeof Reflect===a6(0x185)&&typeof Reflect['metadata']===a7(0x166))return Reflect[a6(0x160)](c,d);},__importDefault=this&&this[a2(0x168)]||function(c){const a8=a2;return c&&c[a8(0x15e)]?c:{'default':c};};Object[a2(0x163)](exports,a5(0x15e),{'value':!![]});const sequelize_typescript_1=require(a5(0x196)),CampaignContacts_1=__importDefault(require(a5(0x152))),Tenant_1=__importDefault(require(a5(0x173))),User_1=__importDefault(require(a2(0x175))),Whatsapp_1=__importDefault(require(a2(0x182)));function a(){const af=['all','design:returntype','prototype','pendentesEntrega','./Tenant','scheduled','./User','update','pBrkB','6ZVLLpL','getOwnPropertyDescriptor','start','GxxOz','default','STRING','CreatedAt','length','processing','design:type','./Whatsapp','ForeignKey','AutoIncrement','object','updatedInstances','DataType','xqwap','63twhdHP','__decorate','tenant','mediaType','recebidas','env','isArray','mediaUrl','delay','dataValues','4421711gaBRzX','HasMany','PrimaryKey','sequelize-typescript','Column','pending','updatedAt','design:paramtypes','Model','status','1418935tvjVPX','campaignContacts','./CampaignContacts','lidas','AfterFind','BelongsTo','273982lYAWBw','989956bboxUx','Default','ILiOG','map','/public/','1LVkwGe','finished','__esModule','includes','metadata','991152DTwBQq','10144050aBDjFS','defineProperty','4600387CKVGck','__metadata','function','getDataValue','__importDefault','12mOgynz','canceled','message2','PROXY_PORT','createdAt','decorate'];a=function(){return af;};return a();}let Campaign=class Campaign extends sequelize_typescript_1[a2(0x19b)]{get[a5(0x190)](){const a9=a5,aa=a2,c=this[a9(0x167)](aa(0x190));if(c&&c!=='null'){if(a9(0x159)!==a9(0x177)){const {BACKEND_URL:d}=process[a9(0x18e)];return d+':'+process[aa(0x18e)][a9(0x16c)]+aa(0x15b)+c;}else return d;}return null;}static async[a5(0x186)](c){const ab=a5,ac=a5;if(!Array[ab(0x18f)](c))return c;const d=await Promise[ac(0x16f)](c[ac(0x15a)](async e=>{const ad=ac,ae=ab;if(![ad(0x198),'finished','canceled'][ae(0x15f)](e['status'])){if(ad(0x17b)===ad(0x188)){var g=arguments['length'],h=g<0x3?z:A===null?B=C[ad(0x179)](D,E):F,i;if(typeof G===ae(0x185)&&typeof H['decorate']==='function')h=I[ad(0x16e)](J,K,L,M);else{for(var j=N[ae(0x17f)]-0x1;j>=0x0;j--)if(i=O[j])h=(g<0x3?i(h):g>0x3?i(P,Q,h):i(R,S))||h;}return g>0x3&&h&&T[ad(0x163)](U,V,h),h;}else{const g=+e[ad(0x192)][ad(0x172)],h=+e[ae(0x192)]['pendentesEnvio'],i=+e['dataValues'][ae(0x18d)],j=+e['dataValues'][ae(0x153)],k=+e[ae(0x192)]['contactsCount'],l=g+h+i+j;if(e['status']===ae(0x174)&&k===h)return e;if(k!==l){if('cqOwF'==='cqOwF')e[ad(0x19c)]=ad(0x180),await e[ad(0x176)]({'status':ad(0x180)});else{if(typeof h==='object'&&typeof i[ad(0x160)]==='function')return j[ad(0x160)](k,l);}}return k===l&&(e[ad(0x19c)]=ad(0x15d),await e['update']({'status':ae(0x15d)})),e;}}}));return d;}};__decorate([sequelize_typescript_1[a2(0x195)],sequelize_typescript_1[a2(0x184)],sequelize_typescript_1[a2(0x197)],__metadata(a5(0x181),Number)],Campaign[a5(0x171)],'id',void 0x0),__decorate([sequelize_typescript_1[a5(0x197)],__metadata(a2(0x181),String)],Campaign[a2(0x171)],'name',void 0x0),__decorate([sequelize_typescript_1[a2(0x197)],__metadata(a5(0x181),Date)],Campaign[a5(0x171)],a5(0x17a),void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x158)])(a5(0x198)),(0x0,sequelize_typescript_1[a2(0x197)])(sequelize_typescript_1['DataType']['ENUM'](a2(0x198),'scheduled',a5(0x180),a2(0x16a),a5(0x15d))),__metadata(a5(0x181),String)],Campaign['prototype'],a5(0x19c),void 0x0),__decorate([sequelize_typescript_1['Column'],__metadata('design:type',String)],Campaign[a2(0x171)],'message1',void 0x0),__decorate([sequelize_typescript_1[a2(0x197)],__metadata('design:type',String)],Campaign[a5(0x171)],a5(0x16b),void 0x0),__decorate([sequelize_typescript_1[a2(0x197)],__metadata('design:type',String)],Campaign[a5(0x171)],'message3',void 0x0),__decorate([(0x0,sequelize_typescript_1['Column'])(sequelize_typescript_1[a2(0x187)][a5(0x17d)]),__metadata(a2(0x181),String),__metadata(a5(0x19a),[])],Campaign[a2(0x171)],a2(0x190),null),__decorate([sequelize_typescript_1[a2(0x197)],__metadata(a5(0x181),String)],Campaign[a5(0x171)],a5(0x18c),void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x183)])(()=>User_1[a2(0x17c)]),sequelize_typescript_1[a5(0x197)],__metadata(a5(0x181),Number)],Campaign['prototype'],'userId',void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x155)])(()=>User_1[a2(0x17c)]),__metadata('design:type',User_1['default'])],Campaign['prototype'],'user',void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x183)])(()=>Whatsapp_1[a5(0x17c)]),sequelize_typescript_1[a2(0x197)],__metadata(a2(0x181),Number)],Campaign[a5(0x171)],'sessionId',void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x155)])(()=>Whatsapp_1[a5(0x17c)]),__metadata('design:type',Whatsapp_1['default'])],Campaign['prototype'],'session',void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x183)])(()=>Tenant_1[a5(0x17c)]),sequelize_typescript_1[a2(0x197)],__metadata('design:type',Number)],Campaign[a2(0x171)],'tenantId',void 0x0),__decorate([(0x0,sequelize_typescript_1[a5(0x155)])(()=>Tenant_1[a5(0x17c)]),__metadata('design:type',Tenant_1[a5(0x17c)])],Campaign[a5(0x171)],a5(0x18b),void 0x0),__decorate([(0x0,sequelize_typescript_1[a5(0x194)])(()=>CampaignContacts_1['default']),__metadata(a5(0x181),Array)],Campaign[a5(0x171)],a2(0x151),void 0x0),__decorate([sequelize_typescript_1[a2(0x17e)],__metadata(a2(0x181),Date)],Campaign['prototype'],a2(0x16d),void 0x0),__decorate([sequelize_typescript_1['UpdatedAt'],__metadata(a5(0x181),Date)],Campaign[a2(0x171)],a2(0x199),void 0x0),__decorate([sequelize_typescript_1['Column'],__metadata(a5(0x181),Number)],Campaign[a2(0x171)],a2(0x191),void 0x0),__decorate([sequelize_typescript_1[a5(0x154)],__metadata(a5(0x181),Function),__metadata(a5(0x19a),[Object]),__metadata(a2(0x170),Promise)],Campaign,a5(0x186),null),Campaign=__decorate([sequelize_typescript_1['Table']],Campaign),exports[a5(0x17c)]=Campaign;