'use strict';const a2=b,a5=b;(function(c,d){const a0=b,a1=b,e=c();while(!![]){try{const f=-parseInt(a0(0x1f5))/0x1+parseInt(a1(0x1fd))/0x2+parseInt(a0(0x1e5))/0x3*(-parseInt(a0(0x221))/0x4)+parseInt(a1(0x1ff))/0x5*(-parseInt(a0(0x200))/0x6)+parseInt(a0(0x214))/0x7+-parseInt(a1(0x1e6))/0x8*(parseInt(a1(0x217))/0x9)+-parseInt(a0(0x209))/0xa*(-parseInt(a1(0x1fb))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x1d4c7));function a(){const ab=['__importDefault','hookMessageStatus','messageId','WebHooksAPI','externalKey','object','length','__decorate','type','DATE','mediaName','default','__metadata','197793sRQrvf','DataType','./Whatsapp','authToken','session','getOwnPropertyDescriptor','2823139ZMDkae','Default','359856cMkkzH','sequelize-typescript','5VueeiR','672234xSPdgE','metadata','design:paramtypes','function','body','__esModule','apiConfig','Column','PrimaryKey','10IltvQU','design:type','decorate','mediaUrl','bDgKL','updatedAt','JSONB','BelongsTo','AfterCreate','AllowNull','ack','808661ioojCS','dbfBQ','createdAt','9eljzsW','number','design:returntype','./Tenant','prototype','urlMessageStatus','UpdatedAt','ForeignKey','add','tenantId','3048yNPYll','uuid','192EqxveX','587944imPRZd','sessionId'];a=function(){return ab;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0x1e5;let h=e[f];return h;},b(c,d);}var __decorate=this&&this[a2(0x1ef)]||function(e,f,g,h){const a3=a2,a4=a2;var j=arguments[a3(0x1ee)],k=j<0x3?f:h===null?h=Object[a3(0x1fa)](f,g):h,l;if(typeof Reflect===a4(0x1ed)&&typeof Reflect[a3(0x20b)]==='function')k=Reflect[a3(0x20b)](e,f,g,h);else{for(var m=e['length']-0x1;m>=0x0;m--)if(l=e[m])k=(j<0x3?l(k):j>0x3?l(f,g,k):l(f,g))||k;}return j>0x3&&k&&Object['defineProperty'](f,g,k),k;},__metadata=this&&this[a2(0x1f4)]||function(c,d){const a6=a2,a7=a5;if(typeof Reflect===a6(0x1ed)&&typeof Reflect[a6(0x201)]===a7(0x203))return Reflect[a7(0x201)](c,d);},__importDefault=this&&this[a2(0x1e8)]||function(c){const a8=a2;return c&&c[a8(0x205)]?c:{'default':c};};Object['defineProperty'](exports,a2(0x205),{'value':!![]});const sequelize_typescript_1=require(a5(0x1fe)),uuid_1=require(a5(0x222)),Queue_1=__importDefault(require('../libs/Queue')),Tenant_1=__importDefault(require(a5(0x21a))),Whatsapp_1=__importDefault(require(a5(0x1f7)));class ApiMessage extends sequelize_typescript_1['Model']{static['HookMessage'](c){const a9=a2,aa=a5;if(c?.[a9(0x206)]?.[aa(0x21c)]){if(a9(0x20d)===a9(0x215))return g&&h[a9(0x205)]?i:{'default':j};else{const e={'ack':c[a9(0x213)],'body':c[aa(0x204)],'messageId':c[aa(0x1ea)],'number':c['number'],'externalKey':c['externalKey'],'type':aa(0x1e9),'authToken':c[a9(0x1f8)]};Queue_1['default'][a9(0x21f)](a9(0x1eb),{'url':c[aa(0x206)][aa(0x21c)],'type':e[aa(0x1f0)],'payload':e});}}}}__decorate([sequelize_typescript_1[a2(0x208)],(0x0,sequelize_typescript_1['Default'])(uuid_1['v4']),(0x0,sequelize_typescript_1[a5(0x207)])(sequelize_typescript_1['DataType']['UUID']),__metadata('design:type',String)],ApiMessage[a5(0x21b)],'id',void 0x0),__decorate([(0x0,sequelize_typescript_1[a5(0x21e)])(()=>Whatsapp_1['default']),sequelize_typescript_1['Column'],__metadata(a5(0x20a),Number)],ApiMessage[a5(0x21b)],a5(0x1e7),void 0x0),__decorate([(0x0,sequelize_typescript_1['BelongsTo'])(()=>Whatsapp_1[a5(0x1f3)]),__metadata('design:type',Whatsapp_1[a2(0x1f3)])],ApiMessage[a5(0x21b)],a2(0x1f9),void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x1fc)])(0x0),sequelize_typescript_1[a2(0x207)],__metadata('design:type',Number)],ApiMessage[a2(0x21b)],a2(0x213),void 0x0),__decorate([sequelize_typescript_1[a2(0x208)],sequelize_typescript_1[a2(0x207)],__metadata(a5(0x20a),String)],ApiMessage[a5(0x21b)],a2(0x1ea),void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x207)])(sequelize_typescript_1[a2(0x1f6)]['TEXT']),__metadata(a2(0x20a),String)],ApiMessage['prototype'],a5(0x204),void 0x0),__decorate([(0x0,sequelize_typescript_1['AllowNull'])(![]),sequelize_typescript_1[a2(0x207)],__metadata('design:type',String)],ApiMessage[a2(0x21b)],a5(0x218),void 0x0),__decorate([sequelize_typescript_1['Column'],__metadata(a2(0x20a),String)],ApiMessage['prototype'],a2(0x1f2),void 0x0),__decorate([sequelize_typescript_1[a5(0x207)],__metadata(a5(0x20a),String)],ApiMessage[a2(0x21b)],a2(0x20c),void 0x0),__decorate([sequelize_typescript_1[a2(0x207)],__metadata(a5(0x20a),String)],ApiMessage[a2(0x21b)],a2(0x1ec),void 0x0),__decorate([(0x0,sequelize_typescript_1[a5(0x1fc)])(null),sequelize_typescript_1[a5(0x212)],(0x0,sequelize_typescript_1[a2(0x207)])(sequelize_typescript_1[a5(0x1f6)]['INTEGER']),__metadata(a5(0x20a),Number)],ApiMessage[a2(0x21b)],'timestamp',void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x1fc)])(null),sequelize_typescript_1[a5(0x212)],(0x0,sequelize_typescript_1[a5(0x207)])(sequelize_typescript_1[a5(0x1f6)][a2(0x20f)]),__metadata(a2(0x20a),Object)],ApiMessage[a2(0x21b)],'messageWA',void 0x0),__decorate([(0x0,sequelize_typescript_1[a2(0x1fc)])(null),sequelize_typescript_1[a5(0x212)],(0x0,sequelize_typescript_1[a2(0x207)])(sequelize_typescript_1[a2(0x1f6)]['JSONB']),__metadata('design:type',Object)],ApiMessage[a5(0x21b)],a2(0x206),void 0x0),__decorate([sequelize_typescript_1['CreatedAt'],(0x0,sequelize_typescript_1[a2(0x207)])(sequelize_typescript_1[a5(0x1f6)][a2(0x1f1)](0x6)),__metadata(a2(0x20a),Date)],ApiMessage[a2(0x21b)],a2(0x216),void 0x0),__decorate([sequelize_typescript_1[a5(0x21d)],(0x0,sequelize_typescript_1['Column'])(sequelize_typescript_1[a2(0x1f6)][a2(0x1f1)](0x6)),__metadata('design:type',Date)],ApiMessage['prototype'],a2(0x20e),void 0x0),__decorate([(0x0,sequelize_typescript_1['ForeignKey'])(()=>Tenant_1['default']),sequelize_typescript_1[a2(0x207)],__metadata(a2(0x20a),Number)],ApiMessage[a2(0x21b)],a2(0x220),void 0x0),__decorate([(0x0,sequelize_typescript_1[a5(0x210)])(()=>Tenant_1[a5(0x1f3)]),__metadata(a2(0x20a),Tenant_1['default'])],ApiMessage[a5(0x21b)],'tenant',void 0x0),__decorate([sequelize_typescript_1[a5(0x211)],sequelize_typescript_1['AfterUpdate'],__metadata(a2(0x20a),Function),__metadata(a5(0x202),[Object]),__metadata(a5(0x219),void 0x0)],ApiMessage,'HookMessage',null),exports[a2(0x1f3)]=ApiMessage;