'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x75;let h=e[f];return h;},b(c,d);}const D=b,E=b;function a(){const H=['__esModule','504jXxlps','headers','184lJkqvF','Invalid\x20token.','JukHy','72560mZNnHK','60JfUKXY','75775hFIWHu','authorization','split','verify','lumJs','secret','60108PyEtoL','gZuQh','5xeEnAz','jsonwebtoken','1950990McVlVT','default','15202vQaxZL','16zICDOB','Token\x20was\x20not\x20provided.','../config/auth','../errors/AppError','defineProperty','user','9041DimWky','8896716SjCPZt'];a=function(){return H;};return a();}(function(c,d){const A=b,B=b,e=c();while(!![]){try{const f=-parseInt(A(0x90))/0x1*(parseInt(B(0x7c))/0x2)+-parseInt(A(0x83))/0x3*(parseInt(A(0x8a))/0x4)+-parseInt(B(0x85))/0x5*(parseInt(B(0x87))/0x6)+-parseInt(B(0x7d))/0x7*(parseInt(B(0x78))/0x8)+-parseInt(A(0x76))/0x9*(-parseInt(A(0x7b))/0xa)+-parseInt(A(0x89))/0xb+parseInt(B(0x91))/0xc;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x35ea1));var __importDefault=this&&this['__importDefault']||function(c){const C=b;return c&&c[C(0x75)]?c:{'default':c};};Object[D(0x8e)](exports,'__esModule',{'value':!![]});const jsonwebtoken_1=require(D(0x86)),AppError_1=__importDefault(require(E(0x8d))),auth_1=__importDefault(require(E(0x8c))),isAuth=(c,d,e)=>{const F=D,G=E,f=c['headers'][F(0x7e)];if(!f)throw new AppError_1[(G(0x88))](F(0x8b),0x193);const [,g]=f[G(0x7f)]('\x20');try{if(F(0x81)!=='lumJs'){const i=j[G(0x77)][G(0x7e)];if(!i)throw new q[(G(0x88))](G(0x8b),0x193);const [,j]=i[G(0x7f)]('\x20');try{const k=(0x0,r['verify'])(j,s[G(0x88)][G(0x82)]),{id:l,profile:m,tenantId:n}=k;t[G(0x8f)]={'id':l,'profile':m,'tenantId':n};}catch(o){throw new v[(G(0x88))](G(0x79),0x193);}return p();}else{const i=(0x0,jsonwebtoken_1[F(0x80)])(g,auth_1['default'][F(0x82)]),{id:j,profile:k,tenantId:l}=i;c[G(0x8f)]={'id':j,'profile':k,'tenantId':l};}}catch(m){if(F(0x84)!==F(0x7a))throw new AppError_1[(F(0x88))](G(0x79),0x193);else return g&&h[F(0x75)]?i:{'default':j};}return e();};exports[E(0x88)]=isAuth;