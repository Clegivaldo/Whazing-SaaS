'use strict';const r=b,t=b;(function(c,d){const p=b,q=b,e=c();while(!![]){try{const f=-parseInt(p(0x190))/0x1*(-parseInt(q(0x187))/0x2)+parseInt(p(0x18b))/0x3+-parseInt(p(0x186))/0x4*(parseInt(q(0x19a))/0x5)+-parseInt(p(0x189))/0x6+-parseInt(p(0x184))/0x7*(-parseInt(p(0x197))/0x8)+parseInt(p(0x193))/0x9*(-parseInt(p(0x19e))/0xa)+parseInt(p(0x18a))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x65456));var __importDefault=this&&this[r(0x18c)]||function(c){const s=r;return c&&c[s(0x19f)]?c:{'default':c};};Object[r(0x1a1)](exports,r(0x19f),{'value':!![]});function a(){const w=['1272TMAvRd','../errors/AppError','ADMIN_DOMAIN','10MqKMyJ','../config/auth','email','jsonwebtoken','15460PUMrnH','__esModule','Not\x20admin\x20permission','defineProperty','verify','6139lHWkFm','default','544552TzIBoZ','75272hPjBTH','Not\x20exists\x20admin\x20domains\x20defined.','3081720TBpWjH','11348150CjCVfK','1759953gJoImB','__importDefault','../models/User','authorization','indexOf','2SNzRFQ','Invalid\x20token\x20or\x20not\x20Admin','wNuDy','3681UQpEcb','user','Token\x20was\x20not\x20provided.','headers'];a=function(){return w;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0x184;let h=e[f];return h;},b(c,d);}const jsonwebtoken_1=require(r(0x19d)),AppError_1=__importDefault(require(r(0x198))),auth_1=__importDefault(require(r(0x19b))),User_1=__importDefault(require(r(0x18d))),isAuthAdmin=async(c,d,e)=>{const u=r,v=r,f=c[u(0x196)][u(0x18e)],g=process['env'][v(0x199)];if(!f)throw new AppError_1[(v(0x185))](v(0x195),0x193);if(!g){if('uDFRV'!==u(0x192))throw new AppError_1[(v(0x185))](v(0x188),0x193);else throw new d[(u(0x185))](u(0x1a0),0x193);}const [,h]=f['split']('\x20');try{const j=(0x0,jsonwebtoken_1[u(0x1a2)])(h,auth_1['default']['secret']),{id:k,profile:l,tenantId:m}=j,n=await User_1[u(0x185)]['findByPk'](k);if(!n||n[u(0x19c)][v(0x18f)](g)===0x1)throw new AppError_1[(v(0x185))](u(0x1a0),0x193);c[u(0x194)]={'id':k,'profile':l,'tenantId':m};}catch(o){throw new AppError_1[(v(0x185))](v(0x191),0x193);}return e();};exports[r(0x185)]=isAuthAdmin;