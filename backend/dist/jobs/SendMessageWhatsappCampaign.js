'use strict';const n=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0x1ca))/0x1+parseInt(k(0x1b7))/0x2+parseInt(k(0x1b5))/0x3+parseInt(l(0x1c1))/0x4*(parseInt(k(0x1c6))/0x5)+-parseInt(k(0x1c7))/0x6+parseInt(k(0x1b4))/0x7+-parseInt(l(0x1bc))/0x8;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xddd92));var __importDefault=this&&this['__importDefault']||function(c){const m=b;return c&&c[m(0x1c3)]?c:{'default':c};};function a(){const r=['default','messageTimestamp','../libs/wbot-baileys','6679388mKgZFV','../models/CampaignContacts','__esModule','mediaName','../services/WbotServices/SendMessagesSystemWbotBaileys','5QWIitb','401766HRRfDz','public','update','1212929KFBZEf','sendMessage','whatsappId','messageRandom','join','@s.whatsapp.net','../utils/logger','message','12643218vgjuuf','3935682iTBEec','jobId','2965236cGQWIF','SendMessageWhatsappCampaign','error','campaignContact','mediaUrl','32655624WxnmyY','defineProperty'];a=function(){return r;};return a();}Object[n(0x1bd)](exports,n(0x1c3),{'value':!![]});const path_1=require('path'),logger_1=require(n(0x1b2)),CampaignContacts_1=__importDefault(require(n(0x1c2))),wbot_baileys_1=require(n(0x1c0)),SendMessagesSystemWbotBaileys_1=require(o(0x1c5));function b(c,d){const e=a();return b=function(f,g){f=f-0x1af;let h=e[f];return h;},b(c,d);}exports[o(0x1be)]={'key':n(0x1b8),'options':{'delay':0x3a98,'attempts':0x2,'removeOnComplete':!![]},async 'handle'({data:c}){const p=o,q=n;try{const d=(0x0,wbot_baileys_1['getWbot'])(c[p(0x1cc)]);let e={};const f=c['number']+p(0x1b1);if(c[p(0x1bb)]){const g=(0x0,path_1[p(0x1b0)])(__dirname,'..','..',q(0x1c8)),h=(0x0,path_1[p(0x1b0)])(g,c['mediaName']),i=await(0x0,SendMessagesSystemWbotBaileys_1['getMessageOptions'])(c['mediaName'],h,c[q(0x1b3)]);i&&(e=await d[q(0x1cb)](f,{...i}));}else e=await d['sendMessage'](f,{'text':c[q(0x1b3)]});return await CampaignContacts_1['default'][p(0x1c9)]({'messageId':e?.['key']['id'],'messageRandom':c[q(0x1af)],'body':c[p(0x1b3)],'mediaName':c[q(0x1c4)],'timestamp':e?.[q(0x1bf)],'jobId':c[p(0x1b6)]},{'where':{'id':c[q(0x1ba)]['id']}}),e;}catch(j){logger_1['logger'][q(0x1b9)]('Error\x20enviar\x20message\x20campaign:\x20'+j);throw new Error(j);}}};