'use strict';const s=b,t=b;(function(c,d){const q=b,r=b,e=c();while(!![]){try{const f=-parseInt(q(0xc2))/0x1+-parseInt(q(0xd6))/0x2*(parseInt(q(0xe2))/0x3)+-parseInt(r(0xce))/0x4+-parseInt(r(0xc3))/0x5+parseInt(r(0xd1))/0x6*(parseInt(r(0xc5))/0x7)+parseInt(q(0xcf))/0x8+-parseInt(q(0xde))/0x9*(-parseInt(q(0xe5))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x70c02));function b(c,d){const e=a();return b=function(f,g){f=f-0xc2;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[s(0xcd)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object[t(0xe6)](exports,t(0xe7),{'value':!![]});function a(){const w=['__esModule','Error\x20send\x20message\x20api:\x20','url','qrcode','BfNaO','hookMessage','433048KUQfqj','4283645HlVYxc','timestamp','21IlPdCy','name','externalKey','tnZIr','wRZtL','status','ticketId','error','__importDefault','2102376FPMYQe','2080280xRqTtC','IWOci','1023030ICaPrU','axios','number','msg','response','4mmvVWO','info','messageId','default','../utils/logger','url\x20configurar\x20no\x20webhook\x20não\x20existe.','authToken','logger','9femlpj','Queue\x20WebHooksAPI\x20success:\x20Data:\x20','ack','payload','1020549KHAZHv','hTgIz','type','21860130JVJyhE','defineProperty'];a=function(){return w;};return a();}const axios_1=__importDefault(require(s(0xd2))),logger_1=require(s(0xda));exports[t(0xd9)]={'key':'WebHooksAPI','options':{'delay':0x1770,'attempts':0x32},async 'handle'({data:c}){const u=t,v=t;try{let d={};if(!c?.[u(0xe9)])return{'message':u(0xdb)};c['type']==='hookMessageStatus'&&(d={'ack':c[v(0xe1)][u(0xe0)],'messageId':c['payload'][u(0xd8)],'externalKey':c['payload'][v(0xc7)],'type':c[u(0xe4)]});c['type']===u(0xec)&&(d={'timestamp':c[v(0xe1)][v(0xc4)],'message':c[v(0xe1)][u(0xd4)],'messageId':c[u(0xe1)][v(0xd8)],'ticketId':c['payload'][u(0xcb)],'externalKey':c[u(0xe1)]['externalKey'],'type':c[v(0xe4)]});c[u(0xe4)]==='hookSessionStatus'&&(d={'name':c[u(0xe1)][v(0xc6)],'number':c[v(0xe1)][u(0xd3)],'status':c[u(0xe1)][u(0xca)],'qrcode':c[u(0xe1)][u(0xea)],'timestamp':c['payload']['timestamp'],'type':c[u(0xe4)]});if(c[u(0xe1)]['authToken']){if(u(0xd0)!=='IWOci')return g&&h['__esModule']?i:{'default':j};else await axios_1[u(0xd9)]['post'](c[v(0xe9)],d,{'headers':{'authorization':c[u(0xe1)][u(0xdc)]}});}else v(0xeb)!=='BfNaO'?h={'ack':i[v(0xe1)]['ack'],'messageId':j[v(0xe1)][u(0xd8)],'externalKey':k['payload'][v(0xc7)],'type':l[u(0xe4)]}:await axios_1[u(0xd9)]['post'](c['url'],d);return logger_1[v(0xdd)][v(0xd7)](v(0xdf)+c+'\x20Payload:\x20'+d),{'data':c,'payload':d};}catch(g){if('wRZtL'!==u(0xc9))return{'message':'url\x20configurar\x20no\x20webhook\x20não\x20existe.'};else{logger_1[u(0xdd)][u(0xcc)](v(0xe8)+g);if(g?.[u(0xd5)]?.['status']===0x194){if(v(0xe3)!==v(0xc8))return{'message':'url\x20configurar\x20no\x20webhook\x20não\x20existe.'};else j={'name':k[u(0xe1)][u(0xc6)],'number':l['payload'][v(0xd3)],'status':m['payload'][u(0xca)],'qrcode':n[v(0xe1)][u(0xea)],'timestamp':o[v(0xe1)][v(0xc4)],'type':p[v(0xe4)]};}throw new Error(g);}}}};