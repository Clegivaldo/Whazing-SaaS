'use strict';const S=b,T=b;(function(c,d){const Q=b,R=b,e=c();while(!![]){try{const f=-parseInt(Q(0x167))/0x1*(-parseInt(Q(0x153))/0x2)+parseInt(R(0x13d))/0x3+parseInt(Q(0x14c))/0x4+-parseInt(Q(0x156))/0x5*(-parseInt(R(0x16c))/0x6)+-parseInt(R(0x13a))/0x7+-parseInt(Q(0x166))/0x8*(-parseInt(Q(0x16a))/0x9)+-parseInt(Q(0x139))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x4a8b0));function b(c,d){const e=a();return b=function(f,g){f=f-0x131;let h=e[f];return h;},b(c,d);}function a(){const a2=['Backend\x20est√°\x20funcionando\x20corretamente.\x20Acesse\x20o\x20frontend:\x20<a\x20href=\x22','message','./services/MessengerChannelServices/MessengerConsumer','status','helmet','./libs/Queue','34776xwMXSL','default','bull-board','\x27none\x27','/public','get','rabbitWhatsapp','2ARFpvV','64MB','./routes','324895BnUHnR','rabbit','Rabbit\x20started','error','logger','__esModule','static','Internal\x20server\x20error:\x20','localhost:\x203003','env','./bootstrap','Rabbit\x20started\x20Whatsapp','__importDefault','/admin/queues','queues','\x27self\x27','8jxXmLH','490098TzldtU','info','./config/upload','4343643odhVyv','map','36LfhEsl','FRONTEND_URL','reflect-metadata','./services/WABA360/Consumer360','https:','AMQP_URL','use','./utils/logger','bull','setQueues','start','9598800BjxYgO','1823003jxFENi','./errors/AppError','send','463032ekKfkE','contentSecurityPolicy','json','process','\x27unsafe-inline\x27','directory','data:','warn','statusCode'];a=function(){return a2;};return a();}var __importDefault=this&&this[S(0x162)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,T(0x15b),{'value':!![]}),require(S(0x160)),require(S(0x16e)),require('express-async-errors');const express_1=__importDefault(require('express')),cors_1=__importDefault(require('cors')),cookie_parser_1=__importDefault(require('cookie-parser')),helmet_1=__importDefault(require(S(0x14a))),bull_board_1=require(T(0x14e));require('./database');const process_1=__importDefault(require(S(0x140))),upload_1=__importDefault(require(S(0x169))),AppError_1=__importDefault(require(T(0x13b))),routes_1=__importDefault(require(S(0x155))),logger_1=require(T(0x135)),Queue_1=__importDefault(require(T(0x14b))),rabbitmq_server_1=__importDefault(require('./libs/rabbitmq-server')),Consumer360_1=__importDefault(require(S(0x131))),MessengerConsumer_1=__importDefault(require(T(0x148))),app=(0x0,express_1[S(0x14d)])();app[T(0x134)]((0x0,helmet_1[S(0x14d)])()),app[T(0x134)](helmet_1['default'][S(0x13e)]({'directives':{'default-src':[S(0x165)],'base-uri':[T(0x165)],'block-all-mixed-content':[],'font-src':[S(0x165),'https:',T(0x143)],'img-src':[T(0x165),S(0x143)],'object-src':[T(0x14f)],'script-src-attr':[S(0x14f)],'style-src':[S(0x165),S(0x132),S(0x141)],'upgrade-insecure-requests':[],'scriptSrc':['\x27self\x27','*'+(process_1[T(0x14d)][T(0x15f)][S(0x16d)]||T(0x15e))],'frameAncestors':[S(0x165),'*\x20'+(process_1['default'][T(0x15f)][S(0x16d)]||T(0x15e))]}})),Queue_1[T(0x14d)][S(0x140)](),(0x0,bull_board_1[T(0x137)])(Queue_1['default'][T(0x164)][T(0x16b)](c=>new bull_board_1['BullAdapter'](c[S(0x136)])));process_1[T(0x14d)][T(0x15f)]['AMQP_URL']&&(((async()=>{const U=T,V=S,c=new rabbitmq_server_1[(U(0x14d))](process_1[U(0x14d)][V(0x15f)][U(0x133)]||'');await c['start'](),logger_1['logger'][V(0x168)](U(0x158),process_1[U(0x14d)][V(0x15f)][U(0x133)]),app[U(0x157)]=c;})()),((async()=>{const W=S,X=T,c=new rabbitmq_server_1[(W(0x14d))](process_1[X(0x14d)]['env'][X(0x133)]||'');await c[W(0x138)](),logger_1[W(0x15a)]['info'](X(0x161),process_1[W(0x14d)][W(0x15f)][X(0x133)]),global[X(0x152)]=c;})()),(0x0,Consumer360_1[S(0x14d)])(),(0x0,MessengerConsumer_1['default'])());app[T(0x134)](S(0x163),bull_board_1['router']),app[S(0x134)]((0x0,cors_1[T(0x14d)])()),app[T(0x151)]('/',(c,d)=>{const Y=T,Z=S;d[Y(0x13c)](Z(0x146)+process_1[Z(0x14d)][Y(0x15f)][Y(0x16d)]+'\x22>'+process_1['default'][Y(0x15f)][Y(0x16d)]+'</a>');}),app[T(0x134)]((0x0,cookie_parser_1[S(0x14d)])()),app[T(0x134)](express_1[T(0x14d)]['json']({'limit':T(0x154)})),app[T(0x134)](express_1[T(0x14d)]['urlencoded']({'extended':!![],'limit':S(0x154)})),app['use'](T(0x150),express_1[S(0x14d)][T(0x15c)](upload_1[S(0x14d)][T(0x142)])),app[T(0x134)](routes_1[T(0x14d)]),app[T(0x134)](async(c,d,e,f)=>{const a0=S,a1=T;if(c instanceof AppError_1[a0(0x14d)])return c[a1(0x145)]===0x193?logger_1[a0(0x15a)][a1(0x144)](c):logger_1[a0(0x15a)][a0(0x159)](c),e[a0(0x149)](c[a0(0x145)])['json']({'error':c[a1(0x147)]});return logger_1[a0(0x15a)][a1(0x159)](c),e[a1(0x149)](0x1f4)[a0(0x13f)]({'error':a1(0x15d)+c});}),exports[S(0x14d)]=app;