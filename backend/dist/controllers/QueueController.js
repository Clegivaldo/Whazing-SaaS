'use strict';const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x16a))/0x1+parseInt(G(0x167))/0x2+parseInt(H(0x15b))/0x3+parseInt(H(0x166))/0x4*(parseInt(G(0x163))/0x5)+parseInt(G(0x148))/0x6*(-parseInt(G(0x13d))/0x7)+parseInt(G(0x15c))/0x8+parseInt(H(0x16b))/0x9*(-parseInt(G(0x161))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xe12fe));var __createBinding=this&&this[I(0x15e)]||(Object[I(0x16d)]?function(c,d,e,f){const K=I,L=I;if(f===undefined)f=e;var g=Object[K(0x13e)](d,e);(!g||(L(0x143)in g?!d[K(0x15d)]:g['writable']||g[L(0x13f)]))&&(g={'enumerable':!![],'get':function(){return d[e];}}),Object['defineProperty'](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[J(0x16e)]||(Object[J(0x16d)]?function(c,d){Object['defineProperty'](c,'default',{'enumerable':!![],'value':d});}:function(c,d){const M=J;c[M(0x162)]=d;}),__importStar=this&&this[I(0x142)]||function(c){const N=J,O=I;if(c&&c[N(0x15d)])return c;var d={};if(c!=null){for(var e in c)if(e!==N(0x162)&&Object[O(0x152)][N(0x150)][N(0x149)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this['__importDefault']||function(c){const P=J;return c&&c[P(0x15d)]?c:{'default':c};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[J(0x14c)]=exports[I(0x154)]=exports[I(0x169)]=exports[I(0x168)]=exports['store']=void 0x0;const Yup=__importStar(require(I(0x141))),AppError_1=__importDefault(require(I(0x153))),CreateQueueService_1=__importDefault(require('../services/QueueServices/CreateQueueService')),ListQueueService_1=__importDefault(require(J(0x158))),DeleteQueueService_1=__importDefault(require(I(0x147))),UpdateQueueService_1=__importDefault(require(I(0x160))),ListUserQueueService_1=__importDefault(require(I(0x14e))),store=async(c,d)=>{const Q=J,R=J,{tenantId:e}=c[Q(0x14b)];if(c['user'][R(0x15f)]!=='admin')throw new AppError_1[(R(0x162))](Q(0x144),0x193);const f={...c[Q(0x16c)],'userId':c[Q(0x14b)]['id'],'tenantId':e},g=Yup[Q(0x164)]()['shape']({'queue':Yup[Q(0x13c)]()[Q(0x159)](),'userId':Yup[R(0x165)]()[R(0x159)](),'tenantId':Yup[R(0x165)]()[R(0x159)]()});try{await g[Q(0x151)](f);}catch(i){if(R(0x155)!=='DXhoR')throw new AppError_1['default'](i[R(0x145)]);else{if(p===q)r=s;var k=t['getOwnPropertyDescriptor'](u,v);(!k||('get'in k?!w[R(0x15d)]:k[Q(0x14f)]||k[Q(0x13f)]))&&(k={'enumerable':!![],'get':function(){return k[F];}}),z['defineProperty'](A,B,k);}}const h=await(0x0,CreateQueueService_1[Q(0x162)])(f);return d[Q(0x14d)](0xc8)[R(0x13b)](h);};function b(c,d){const e=a();return b=function(f,g){f=f-0x13b;let h=e[f];return h;},b(c,d);}exports[I(0x15a)]=store;const index=async(c,d)=>{const S=J,T=I,{tenantId:e}=c['user'],f=await(0x0,ListQueueService_1[S(0x162)])({'tenantId':e});return d[T(0x14d)](0xc8)[S(0x13b)](f);};function a(){const a0=['default','1207400aihwxs','object','number','12KsRltt','1313208BEPoxU','index','update','1165426MdfMkA','9NgJJsH','body','create','__setModuleDefault','json','string','40607SEmOQH','getOwnPropertyDescriptor','configurable','admin','yup','__importStar','get','ERR_NO_PERMISSION','message','wtQuP','../services/QueueServices/DeleteQueueService','1548JapEFb','call','Qdczl','user','listUserQueues','status','../services/QueueServices/ListUserQueueService','writable','hasOwnProperty','validate','prototype','../errors/AppError','remove','XcGuu','shape','params','../services/QueueServices/ListQueueService','required','store','5188731FJcQyf','7527352hmGIUZ','__esModule','__createBinding','profile','../services/QueueServices/UpdateQueueService','27979420QTFbNg'];a=function(){return a0;};return a();}exports[J(0x168)]=index;const update=async(c,d)=>{const U=I,V=I,{tenantId:e}=c['user'];if(c[U(0x14b)][U(0x15f)]!=='admin')throw new AppError_1[(U(0x162))](U(0x144),0x193);const f={...c[V(0x16c)],'userId':c[V(0x14b)]['id'],'tenantId':e},g=Yup['object']()[V(0x156)]({'queue':Yup[V(0x13c)]()[V(0x159)](),'isActive':Yup['boolean']()[U(0x159)](),'userId':Yup[U(0x165)]()[V(0x159)]()});try{if(U(0x14a)===V(0x146))throw new d[(U(0x162))](U(0x144),0x193);else await g[V(0x151)](f);}catch(k){throw new AppError_1[(V(0x162))](k[U(0x145)]);}const {queueId:h}=c[U(0x157)],i=await(0x0,UpdateQueueService_1[U(0x162)])({'queueData':f,'queueId':h});return d['status'](0xc8)[V(0x13b)](i);};exports[J(0x169)]=update;const remove=async(c,d)=>{const W=J,X=I,{tenantId:e}=c[W(0x14b)];if(c[X(0x14b)]['profile']!==X(0x140))throw new AppError_1[(W(0x162))]('ERR_NO_PERMISSION',0x193);const {queueId:f}=c[X(0x157)];return await(0x0,DeleteQueueService_1[W(0x162)])({'id':f,'tenantId':e}),d[X(0x14d)](0xc8)[X(0x13b)]({'message':'Queue\x20deleted'});};exports[J(0x154)]=remove;const listUserQueues=async(c,d)=>{const Y=J,Z=I,{tenantId:e,id:f}=c[Y(0x14b)],g=await(0x0,ListUserQueueService_1[Z(0x162)])({'tenantId':e,'userId':f});return d[Y(0x14d)](0xc8)[Z(0x13b)](g);};exports[J(0x14c)]=listUserQueues;