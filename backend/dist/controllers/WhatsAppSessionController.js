'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x184;let h=e[f];return h;},b(c,d);}const o=b,q=b;(function(c,d){const m=b,n=b,e=c();while(!![]){try{const f=-parseInt(m(0x197))/0x1*(parseInt(m(0x1a4))/0x2)+parseInt(n(0x1b5))/0x3*(-parseInt(m(0x19a))/0x4)+parseInt(m(0x19d))/0x5+-parseInt(m(0x1a5))/0x6*(-parseInt(n(0x1a7))/0x7)+parseInt(m(0x1ad))/0x8*(parseInt(m(0x1b3))/0x9)+parseInt(n(0x1af))/0xa+parseInt(n(0x18b))/0xb*(parseInt(m(0x1ae))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x98db4));var __importDefault=this&&this[o(0x19e)]||function(c){const p=o;return c&&c[p(0x18f)]?c:{'default':c};};Object[o(0x189)](exports,o(0x18f),{'value':!![]});const ShowWhatsAppService_1=__importDefault(require(q(0x1a9))),StartWhatsAppSession_1=require(q(0x192)),UpdateWhatsAppService_1=__importDefault(require(q(0x196))),redisClient_1=require(o(0x1a2)),logger_1=require(q(0x193)),tbot_1=require(q(0x198)),InstaBot_1=require(q(0x19f)),AppError_1=__importDefault(require(o(0x19c))),socket_1=require('../libs/socket'),wbot_baileys_1=require('../libs/wbot-baileys'),store=async(c,d)=>{const r=q,s=q,{whatsappId:e}=c[r(0x18c)],{tenantId:f}=c[r(0x190)],g=await(0x0,ShowWhatsAppService_1['default'])({'id':e,'tenantId':f,'isInternal':!![]});return(0x0,StartWhatsAppSession_1[r(0x18a)])(g),d[r(0x1a0)](0xc8)[s(0x18d)]({'message':s(0x19b)});},update=async(c,d)=>{const t=q,u=q,{whatsappId:e}=c[t(0x18c)],{tenantId:f}=c[u(0x190)],{whatsapp:g}=await(0x0,UpdateWhatsAppService_1[u(0x187)])({'whatsappId':e,'whatsappData':{'session':''},'tenantId':f});return(0x0,StartWhatsAppSession_1[t(0x18a)])(g),d[u(0x1a0)](0xc8)[t(0x18d)]({'message':u(0x19b)});},remove=async(c,d)=>{const v=o,w=q,{whatsappId:e}=c[v(0x18c)],{tenantId:f}=c[v(0x190)],g=await(0x0,ShowWhatsAppService_1[v(0x187)])({'id':e,'tenantId':f}),h=(0x0,socket_1[v(0x1b2)])();try{if(g[w(0x185)]===v(0x195)){const i=(0x0,wbot_baileys_1[v(0x199)])(g['id']);await(0x0,redisClient_1['setValue'])(g['id']+w(0x1ab),0x0),await i[v(0x188)](),i['ws'][w(0x1b0)](),(0x0,wbot_baileys_1[w(0x1a3)])(g['id']);}if(g[v(0x185)]===w(0x18e)){const j=(0x0,tbot_1[w(0x1a8)])(g['id']);await j[w(0x18e)][w(0x1b1)]()[w(0x1b4)](k=>logger_1['logger'][v(0x194)](w(0x1aa),k)),(0x0,tbot_1['removeTbot'])(g['id']);}if(g[w(0x185)]===v(0x184)){const k=(0x0,InstaBot_1['getInstaBot'])(g['id']);await k[w(0x191)](),(0x0,InstaBot_1['removeInstaBot'])(g);}await g[w(0x1a1)]({'status':w(0x1ac),'session':'','qrcode':null,'retries':0x0});}catch(l){logger_1['logger'][w(0x194)](l),await g[w(0x1a1)]({'status':'DISCONNECTED','session':'','qrcode':null,'retries':0x0}),h['emit'](g['tenantId']+':whatsappSession',{'action':'update','session':g});throw new AppError_1[(w(0x187))](w(0x1a6),0x194);}return d['status'](0xc8)['json']({'message':w(0x186)});};exports[q(0x187)]={'store':store,'remove':remove,'update':update};function a(){const x=['getIO','45erhSVd','catch','2010dmyAoE','instagram','type','Session\x20disconnected.','default','logout','defineProperty','StartWhatsAppSession','10175154jIvYmz','params','json','telegram','__esModule','user','destroy','../services/WbotServices/StartWhatsAppSession','../utils/logger','error','whatsapp','../services/WhatsappService/UpdateWhatsAppService','11Dprdqr','../libs/tbot','getWbot','6528PpSUyM','Starting\x20session.','../errors/AppError','311495GAicOq','__importDefault','../libs/InstaBot','status','update','../libs/redisClient','removeWbot','71486xcaEEJ','595980aQVDPR','ERR_NO_WAPP_FOUND','21szESjQ','getTbot','../services/WhatsappService/ShowWhatsAppService','Erro\x20ao\x20fazer\x20logout\x20da\x20conex√£o','-retryQrCode','DISCONNECTED','980080AJIiku','12PQnXrq','2148600BtbBMo','close','logOut'];a=function(){return x;};return a();}