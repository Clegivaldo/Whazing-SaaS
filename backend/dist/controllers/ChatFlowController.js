'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x68;let h=e[f];return h;},b(c,d);}const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x86))/0x1+parseInt(l(0x7c))/0x2*(-parseInt(l(0x6a))/0x3)+-parseInt(l(0x69))/0x4*(-parseInt(l(0x72))/0x5)+parseInt(k(0x82))/0x6+-parseInt(k(0x6b))/0x7+parseInt(l(0x71))/0x8+-parseInt(l(0x7b))/0x9*(parseInt(k(0x74))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x31e34));function a(){const x=['profile','admin','body','../errors/AppError','params','defineProperty','99882LEnYuX','4GGApgi','store','update','__esModule','user','default','2227764JrMiGd','json','../services/ChatFlowServices/UpdateChatFlowService','isReactive','98428RIDJCU','__importDefault','347644UlAMvZ','390975XtalSv','1111782WYTizp','index','name','../services/ChatFlowServices/ListChatFlowService','status','ERR_NO_PERMISSION','803816Gppwtk','5yxEKiv','remove','30qBISdF'];a=function(){return x;};return a();}var __importDefault=this&&this[m(0x68)]||function(c){const n=m;return c&&c[n(0x7f)]?c:{'default':c};};Object[o(0x7a)](exports,o(0x7f),{'value':!![]}),exports[o(0x73)]=exports[m(0x7e)]=exports['index']=exports['store']=void 0x0;const CreateChatFlowService_1=__importDefault(require('../services/ChatFlowServices/CreateChatFlowService')),ListChatFlowService_1=__importDefault(require(o(0x6e))),AppError_1=__importDefault(require(o(0x78))),UpdateChatFlowService_1=__importDefault(require(o(0x84))),DeleteChatFlowService_1=__importDefault(require('../services/ChatFlowServices/DeleteChatFlowService')),store=async(c,d)=>{const p=m,q=o,{tenantId:e}=c['user'];if(c[p(0x80)][p(0x75)]!==q(0x76))throw new AppError_1[(q(0x81))]('ERR_NO_PERMISSION',0x193);const f={'flow':{...c['body']},'name':c[p(0x77)][q(0x6d)],'isActive':!![],'userId':+c['user']['id'],'tenantId':e},g=await(0x0,CreateChatFlowService_1[p(0x81)])(f);return d[q(0x6f)](0xc8)[p(0x83)](g);};exports[m(0x7d)]=store;const index=async(c,d)=>{const r=m,s=o,{tenantId:e}=c[r(0x80)],f=await(0x0,ListChatFlowService_1[s(0x81)])({'tenantId':e});return d[s(0x6f)](0xc8)['json'](f);};exports[m(0x6c)]=index;const update=async(c,d)=>{const t=o,u=m;if(c['user'][t(0x75)]!==t(0x76))throw new AppError_1[(u(0x81))](u(0x70),0x193);const {tenantId:e}=c['user'],f={'flow':{...c[t(0x77)]},'name':c['body'][t(0x6d)],'isActive':c[u(0x77)][t(0x85)],'userId':+c[u(0x80)]['id'],'tenantId':e},{chatFlowId:g}=c['params'],h=await(0x0,UpdateChatFlowService_1[u(0x81)])({'chatFlowData':f,'chatFlowId':g,'tenantId':e});return d[t(0x6f)](0xc8)['json'](h);};exports['update']=update;const remove=async(c,d)=>{const v=o,w=m,{chatFlowId:e}=c[v(0x79)],{tenantId:f}=c[v(0x80)];return await(0x0,DeleteChatFlowService_1[w(0x81)])({'id':e,'tenantId':f}),d[v(0x6f)](0xc8)[w(0x83)]({'message':'Flow\x20deleted'});};exports[m(0x73)]=remove;