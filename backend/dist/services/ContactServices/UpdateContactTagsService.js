'use strict';function a(){const w=['__importDefault','1483340QBNwaq','defineProperty','7KQidJA','tags','../../models/ContactTag','903261QoAIoN','767472BMSuLj','10wxFOsK','email','ERR_NO_CONTACT_FOUND','push','destroy','default','__esModule','bulkCreate','18702tBAYvF','../../models/Contact','wallets','profilePicUrl','1063720HuMprn','872qqdrXQ','3206kaDtqN','name','findOne','2082828QgBHCV'];a=function(){return w;};return a();}const q=b,s=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x19f;let h=e[f];return h;},b(c,d);}(function(c,d){const o=b,p=b,e=c();while(!![]){try{const f=parseInt(o(0x1a1))/0x1+-parseInt(p(0x19f))/0x2+-parseInt(p(0x1ab))/0x3+-parseInt(o(0x1ac))/0x4*(-parseInt(p(0x1ad))/0x5)+-parseInt(p(0x1a4))/0x6*(-parseInt(p(0x1a8))/0x7)+-parseInt(o(0x1a0))/0x8*(-parseInt(o(0x1b5))/0x9)+parseInt(p(0x1a6))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x43601));var __importDefault=this&&this[q(0x1a5)]||function(c){const r=q;return c&&c[r(0x1b3)]?c:{'default':c};};Object[s(0x1a7)](exports,q(0x1b3),{'value':!![]});const AppError_1=__importDefault(require('../../errors/AppError')),Contact_1=__importDefault(require(q(0x1b6))),ContactTag_1=__importDefault(require(s(0x1aa))),UpdateContactService=async({tags:c,contactId:d,tenantId:e})=>{const t=q,v=q;await ContactTag_1['default'][t(0x1b1)]({'where':{'tenantId':e,'contactId':d}});const f=[];c['forEach'](h=>{const u=t;f[u(0x1b0)]({'tagId':!h['id']?h:h['id'],'contactId':d,'tenantId':e});}),await ContactTag_1['default'][v(0x1b4)](f);const g=await Contact_1[t(0x1b2)][v(0x1a3)]({'where':{'id':d,'tenantId':e},'attributes':['id','name','number',t(0x1ae),t(0x1b8)],'include':['extraInfo',v(0x1a9),{'association':t(0x1b7),'attributes':['id',v(0x1a2)]}]});if(!g)throw new AppError_1[(v(0x1b2))](v(0x1af),0x194);return g;};exports[q(0x1b2)]=UpdateContactService;