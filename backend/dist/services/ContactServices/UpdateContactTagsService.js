'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x189;let h=e[f];return h;},b(c,d);}const q=b,s=b;(function(c,d){const o=b,p=b,e=c();while(!![]){try{const f=-parseInt(o(0x191))/0x1*(-parseInt(p(0x19d))/0x2)+parseInt(o(0x192))/0x3*(-parseInt(p(0x1a0))/0x4)+-parseInt(p(0x1a2))/0x5*(parseInt(o(0x190))/0x6)+-parseInt(p(0x197))/0x7+parseInt(p(0x18c))/0x8+-parseInt(o(0x189))/0x9*(parseInt(p(0x18f))/0xa)+-parseInt(p(0x199))/0xb*(-parseInt(p(0x193))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x97216));function a(){const w=['6787hJUdPZ','forEach','number','../../models/Contact','791756KEqqak','push','default','16twWxbP','__importDefault','5lrcTcv','destroy','../../errors/AppError','__esModule','198zUooLQ','bulkCreate','email','4739176qHSwET','profilePicUrl','findOne','407870RqANGW','2480694wSZgDc','1mymXfN','261288UEoVpZ','40188NuNrMR','../../models/ContactTag','defineProperty','name','5435017aKiHzt','extraInfo'];a=function(){return w;};return a();}var __importDefault=this&&this[q(0x1a1)]||function(c){const r=q;return c&&c[r(0x1a5)]?c:{'default':c};};Object[s(0x195)](exports,q(0x1a5),{'value':!![]});const AppError_1=__importDefault(require(q(0x1a4))),Contact_1=__importDefault(require(q(0x19c))),ContactTag_1=__importDefault(require(q(0x194))),UpdateContactService=async({tags:c,contactId:d,tenantId:e})=>{const t=s,u=q;await ContactTag_1[t(0x19f)][u(0x1a3)]({'where':{'tenantId':e,'contactId':d}});const f=[];c[u(0x19a)](h=>{const v=u;f[v(0x19e)]({'tagId':!h['id']?h:h['id'],'contactId':d,'tenantId':e});}),await ContactTag_1[t(0x19f)][t(0x18a)](f);const g=await Contact_1[u(0x19f)][u(0x18e)]({'where':{'id':d,'tenantId':e},'attributes':['id',u(0x196),t(0x19b),u(0x18b),t(0x18d)],'include':[t(0x198),'tags',{'association':'wallets','attributes':['id',u(0x196)]}]});if(!g)throw new AppError_1[(t(0x19f))]('ERR_NO_CONTACT_FOUND',0x194);return g;};exports[s(0x19f)]=UpdateContactService;