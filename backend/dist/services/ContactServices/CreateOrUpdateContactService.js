'use strict';const F=b,H=b;(function(c,d){const D=b,E=b,e=c();while(!![]){try{const f=-parseInt(D(0x1ba))/0x1+parseInt(D(0x1b0))/0x2*(parseInt(D(0x1b2))/0x3)+-parseInt(E(0x1c0))/0x4*(parseInt(E(0x1af))/0x5)+parseInt(D(0x1bb))/0x6+-parseInt(E(0x1b6))/0x7*(-parseInt(E(0x1b4))/0x8)+parseInt(D(0x1c1))/0x9*(parseInt(D(0x1b1))/0xa)+-parseInt(E(0x1c2))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xc67a8));var __importDefault=this&&this[F(0x1bf)]||function(c){const G=F;return c&&c[G(0x1bd)]?c:{'default':c};};Object[F(0x1b9)](exports,H(0x1bd),{'value':!![]});const socketEmit_1=__importDefault(require(F(0x1c5))),Contact_1=__importDefault(require('../../models/Contact')),CreateOrUpdateContactService=async({name:c,number:d,profilePicUrl:e,isGroup:f,tenantId:g,pushname:h,isUser:i,isWAContact:j,email:email='',telegramId:k,instagramPK:l,messengerId:m,extraInfo:extraInfo=[],origem:origem=F(0x1c6)})=>{const I=F,J=H,n=f?d:d[I(0x1b3)](/[^0-9]/g,'');let o=null;origem===J(0x1c6)&&(o=await Contact_1['default'][J(0x1b5)]({'where':{'number':n,'tenantId':g}}));origem==='telegram'&&k&&(o=await Contact_1[J(0x1be)][J(0x1b5)]({'where':{'telegramId':k,'tenantId':g}}));origem==='instagram'&&l&&(o=await Contact_1['default'][I(0x1b5)]({'where':{'instagramPK':l,'tenantId':g}}));origem===I(0x1c4)&&m&&(o=await Contact_1[J(0x1be)][J(0x1b5)]({'where':{'messengerId':m,'tenantId':g}}));if(o){let p;o[I(0x1c3)]==o[I(0x1b8)]?p=c:p=o[J(0x1c3)],o[J(0x1b7)]({'name':p,'profilePicUrl':e,'pushname':h,'isUser':i,'isWAContact':j,'telegramId':k,'instagramPK':l,'messengerId':m});}else o=await Contact_1[J(0x1be)][I(0x1bc)]({'name':c,'number':n,'profilePicUrl':e,'email':email,'isGroup':f,'pushname':h,'isUser':i,'isWAContact':j,'tenantId':g,'extraInfo':extraInfo,'telegramId':k,'instagramPK':l,'messengerId':m});return(0x0,socketEmit_1['default'])({'tenantId':g,'type':'contact:update','payload':o}),o;};function b(c,d){const e=a();return b=function(f,g){f=f-0x1af;let h=e[f];return h;},b(c,d);}function a(){const K=['8WfZish','findOne','5634713QmEKFt','update','number','defineProperty','571837zqJyZq','4821672ddHfSt','create','__esModule','default','__importDefault','211252HzZfDL','1457145JWKyIB','20879881iLXUUG','name','messenger','../../helpers/socketEmit','whatsapp','5WrHsIA','734RDZqmy','20wUfpQS','11472sLWGjH','replace'];a=function(){return K;};return a();}exports[H(0x1be)]=CreateOrUpdateContactService;