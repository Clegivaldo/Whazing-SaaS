'use strict';const F=b,H=b;function a(){const K=['5050ZvZZhn','139192bKRAFD','instagram','number','__importDefault','60pWatSn','388289pQXTZc','8429OOUnFH','update','findOne','contact:update','__esModule','133CfMado','default','1696014ggBMUW','748UYufzL','256026hAvwzP','defineProperty','1037601spifur','create','name','replace','../../models/Contact','telegram','messenger','whatsapp','50ykPYXI'];a=function(){return K;};return a();}(function(c,d){const D=b,E=b,e=c();while(!![]){try{const f=parseInt(D(0xfa))/0x1*(-parseInt(E(0xf2))/0x2)+parseInt(E(0x105))/0x3+parseInt(D(0x102))/0x4*(parseInt(E(0xf3))/0x5)+parseInt(D(0x103))/0x6+-parseInt(E(0xff))/0x7*(-parseInt(E(0xf4))/0x8)+-parseInt(E(0x101))/0x9+parseInt(D(0xf8))/0xa*(-parseInt(E(0xf9))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x48840));var __importDefault=this&&this[F(0xf7)]||function(c){const G=F;return c&&c[G(0xfe)]?c:{'default':c};};Object[F(0x104)](exports,F(0xfe),{'value':!![]});const socketEmit_1=__importDefault(require('../../helpers/socketEmit')),Contact_1=__importDefault(require(H(0xee))),CreateOrUpdateContactService=async({name:c,number:d,profilePicUrl:e,isGroup:f,tenantId:g,pushname:h,isUser:i,isWAContact:j,email:email='',telegramId:k,instagramPK:l,messengerId:m,extraInfo:extraInfo=[],origem:origem='whatsapp'})=>{const I=F,J=F,n=f?d:d[I(0x108)](/[^0-9]/g,'');let o=null;origem===J(0xf1)&&(o=await Contact_1['default'][J(0xfc)]({'where':{'number':n,'tenantId':g}}));origem===I(0xef)&&k&&(o=await Contact_1[I(0x100)][J(0xfc)]({'where':{'telegramId':k,'tenantId':g}}));origem===I(0xf5)&&l&&(o=await Contact_1['default'][I(0xfc)]({'where':{'instagramPK':l,'tenantId':g}}));origem===J(0xf0)&&m&&(o=await Contact_1['default'][J(0xfc)]({'where':{'messengerId':m,'tenantId':g}}));if(o){let p;o[I(0x107)]==o[J(0xf6)]?p=c:p=o[J(0x107)],o[J(0xfb)]({'name':p,'profilePicUrl':e,'pushname':h,'isUser':i,'isWAContact':j,'telegramId':k,'instagramPK':l,'messengerId':m});}else o=await Contact_1[J(0x100)][J(0x106)]({'name':c,'number':n,'profilePicUrl':e,'email':email,'isGroup':f,'pushname':h,'isUser':i,'isWAContact':j,'tenantId':g,'extraInfo':extraInfo,'telegramId':k,'instagramPK':l,'messengerId':m});return(0x0,socketEmit_1['default'])({'tenantId':g,'type':I(0xfd),'payload':o}),o;};function b(c,d){const e=a();return b=function(f,g){f=f-0xee;let h=e[f];return h;},b(c,d);}exports[H(0x100)]=CreateOrUpdateContactService;