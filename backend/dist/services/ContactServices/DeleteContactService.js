'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x16b;let h=e[f];return h;},b(c,d);}const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x177))/0x1*(-parseInt(l(0x17c))/0x2)+parseInt(k(0x176))/0x3+-parseInt(l(0x17b))/0x4+parseInt(l(0x16d))/0x5+parseInt(k(0x17a))/0x6*(-parseInt(k(0x16c))/0x7)+-parseInt(k(0x170))/0x8+parseInt(l(0x16f))/0x9*(parseInt(l(0x175))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x71d0e));var __importDefault=this&&this[m(0x171)]||function(c){const n=m;return c&&c[n(0x172)]?c:{'default':c};};Object['defineProperty'](exports,o(0x172),{'value':!![]});const Contact_1=__importDefault(require(o(0x16b))),AppError_1=__importDefault(require('../../errors/AppError')),Ticket_1=__importDefault(require(m(0x174))),socketEmit_1=__importDefault(require(m(0x178))),DeleteContactService=async({id:c,tenantId:d})=>{const p=o,q=m,e=await Contact_1[p(0x17e)][q(0x173)]({'where':{'id':c,'tenantId':d}});if(!e)throw new AppError_1[(q(0x17e))](p(0x17d),0x194);const f=await Ticket_1[p(0x17e)][p(0x16e)]({'where':{'contactId':c}});if(f)throw new AppError_1['default'](q(0x179),0x194);await e[p(0x17f)](),(0x0,socketEmit_1[p(0x17e)])({'tenantId':d,'type':'contact:delete','payload':e});};function a(){const r=['ERR_NO_CONTACT_FOUND','default','destroy','../../models/Contact','1407IDFAxj','3645315xOrOKs','count','6651sRQTIN','5657432JDiGHI','__importDefault','__esModule','findOne','../../models/Ticket','30980ZHIdtW','1864950lGFZCi','1KWIjaa','../../helpers/socketEmit','ERR_CONTACT_TICKETS_REGISTERED','25686nVhdyK','3146716sLwrHq','1639212eKtzOR'];a=function(){return r;};return a();}exports[o(0x17e)]=DeleteContactService;