'use strict';
const _0xe31a11 = _0x5d79;
(function (_0x5b0890, _0x4b36d2) {
    const _0x31abdd = _0x5d79, _0x3162f4 = _0x5b0890();
    while (!![]) {
        try {
            const _0x2b0563 = parseInt(_0x31abdd(0x13a)) / (0x575 + 0x2a * 0xda + -0x8 * 0x527) * (parseInt(_0x31abdd(0x14a)) / (-0x1831 + 0x8f * 0x3d + 0x2 * -0x4f0)) + parseInt(_0x31abdd(0x132)) / (-0x589 + 0x2677 + -0xaf9 * 0x3) * (parseInt(_0x31abdd(0x159)) / (-0xaaf + 0x41a + 0x699)) + -parseInt(_0x31abdd(0x154)) / (-0x237 * 0x2 + -0x4ab + 0x91e) + parseInt(_0x31abdd(0x143)) / (0x2025 * -0x1 + -0x2 * 0x169 + 0x22fd) * (parseInt(_0x31abdd(0x14f)) / (-0x6 * -0x1eb + 0x1c * 0x146 + -0x2f23)) + parseInt(_0x31abdd(0x164)) / (0xac5 + 0x6 * 0x4ab + -0x26bf) * (parseInt(_0x31abdd(0x127)) / (-0xb92 + 0x1 * -0x1769 + -0x6c * -0x53)) + parseInt(_0x31abdd(0x166)) / (-0x1 * 0x719 + -0x1 * 0x8bd + 0xfe0) + parseInt(_0x31abdd(0x153)) / (0x35 * 0x91 + -0x17b7 + -0x643);
            if (_0x2b0563 === _0x4b36d2)
                break;
            else
                _0x3162f4['push'](_0x3162f4['shift']());
        } catch (_0x53e0f9) {
            _0x3162f4['push'](_0x3162f4['shift']());
        }
    }
}(_0x1d5d, -0x4ed * -0xcf + 0x44371 + -0x53602));
function _0x5d79(_0x273305, _0x31f732) {
    const _0x536d2c = _0x1d5d();
    return _0x5d79 = function (_0x3e423a, _0x486b62) {
        _0x3e423a = _0x3e423a - (-0xba8 + -0x1031 + 0x1cfc);
        let _0x2b1e47 = _0x536d2c[_0x3e423a];
        return _0x2b1e47;
    }, _0x5d79(_0x273305, _0x31f732);
}
var __importDefault = this && this[_0xe31a11(0x135) + _0xe31a11(0x165)] || function (_0x30066d) {
    const _0xc8ac45 = _0xe31a11;
    return _0x30066d && _0x30066d[_0xc8ac45(0x15c)] ? _0x30066d : { 'default': _0x30066d };
};
function _0x1d5d() {
    const _0x14c6b0 = [
        'Emit',
        '__importDe',
        'extraInfo',
        'findOne',
        'tenantId',
        'erty',
        '35120iFUmTW',
        'profilePic',
        'attributes',
        'obbAL',
        'TACT_FOUND',
        'number',
        '../../erro',
        'payload',
        'Url',
        '740772rVENLI',
        'UExbV',
        'wallets',
        'where',
        'walletId',
        'update',
        'sreyR',
        '18EamadI',
        'ERR_NO_CON',
        'findIndex',
        'defineProp',
        'Wallet',
        '7HUXzkz',
        'all',
        'map',
        'contact:up',
        '109681BSobBP',
        '1819310LaJvXG',
        'rs/AppErro',
        'name',
        'contactId',
        'jpaAQ',
        '12JOZEXn',
        '../../mode',
        'lBGXi',
        '__esModule',
        'tags',
        'reload',
        'hwBFU',
        'upsert',
        'push',
        'AdhyP',
        'type',
        '3728MddWfy',
        'fault',
        '455140llfamz',
        '../../help',
        'ls/Contact',
        'value',
        'VfTVt',
        '198MhyKcu',
        'default',
        'forEach',
        'destroy',
        'date',
        'ers/socket',
        'cqMXk',
        'email',
        'CustomFiel',
        'lQSBF',
        'include',
        '57513wpmubK',
        'bulkCreate'
    ];
    _0x1d5d = function () {
        return _0x14c6b0;
    };
    return _0x1d5d();
}
const _0x15da24 = {};
_0x15da24[_0xe31a11(0x125)] = !![], Object[_0xe31a11(0x14d) + _0xe31a11(0x139)](exports, _0xe31a11(0x15c), _0x15da24);
const AppError_1 = __importDefault(require(_0xe31a11(0x140) + _0xe31a11(0x155) + 'r')), socketEmit_1 = __importDefault(require(_0xe31a11(0x123) + _0xe31a11(0x12c) + _0xe31a11(0x134))), Contact_1 = __importDefault(require(_0xe31a11(0x15a) + _0xe31a11(0x124))), ContactCustomField_1 = __importDefault(require(_0xe31a11(0x15a) + _0xe31a11(0x124) + _0xe31a11(0x12f) + 'd')), ContactWallet_1 = __importDefault(require(_0xe31a11(0x15a) + _0xe31a11(0x124) + _0xe31a11(0x14e))), UpdateContactService = async ({
        contactData: _0x5b3df4,
        contactId: _0x46466f,
        tenantId: _0x504950
    }) => {
        const _0x26c238 = _0xe31a11, _0x5648e7 = {};
        _0x5648e7[_0x26c238(0x158)] = function (_0x1aaba6, _0x233f1c) {
            return _0x1aaba6 === _0x233f1c;
        }, _0x5648e7[_0x26c238(0x144)] = _0x26c238(0x156), _0x5648e7[_0x26c238(0x130)] = _0x26c238(0x13f), _0x5648e7[_0x26c238(0x15b)] = _0x26c238(0x12e), _0x5648e7[_0x26c238(0x126)] = _0x26c238(0x13b) + _0x26c238(0x142), _0x5648e7[_0x26c238(0x162)] = _0x26c238(0x136), _0x5648e7[_0x26c238(0x149)] = _0x26c238(0x15d), _0x5648e7[_0x26c238(0x12d)] = _0x26c238(0x145), _0x5648e7[_0x26c238(0x15f)] = _0x26c238(0x14b) + _0x26c238(0x13e), _0x5648e7[_0x26c238(0x13d)] = _0x26c238(0x152) + _0x26c238(0x12b);
        const _0x24cad6 = _0x5648e7, {
                email: _0x61586b,
                name: _0x282587,
                number: _0x37bb2f,
                extraInfo: _0xfba913,
                wallets: _0x4fcbce
            } = _0x5b3df4, _0x52e640 = {};
        _0x52e640['id'] = _0x46466f, _0x52e640[_0x26c238(0x138)] = _0x504950;
        const _0x814926 = {};
        _0x814926[_0x26c238(0x146)] = _0x52e640, _0x814926[_0x26c238(0x13c)] = [
            'id',
            _0x24cad6[_0x26c238(0x144)],
            _0x24cad6[_0x26c238(0x130)],
            _0x24cad6[_0x26c238(0x15b)],
            _0x24cad6[_0x26c238(0x126)]
        ], _0x814926[_0x26c238(0x131)] = [
            _0x24cad6[_0x26c238(0x162)],
            _0x24cad6[_0x26c238(0x149)],
            {
                'association': _0x24cad6[_0x26c238(0x12d)],
                'attributes': [
                    'id',
                    _0x24cad6[_0x26c238(0x144)]
                ]
            }
        ];
        const _0x4148ed = await Contact_1[_0x26c238(0x128)][_0x26c238(0x137)](_0x814926);
        if (!_0x4148ed)
            throw new AppError_1[(_0x26c238(0x128))](_0x24cad6[_0x26c238(0x15f)], -0x191 * 0xb + 0x5a6 + 0xd29 * 0x1);
        _0xfba913 && (await Promise[_0x26c238(0x150)](_0xfba913[_0x26c238(0x151)](async _0xbba077 => {
            const _0x5f3c7b = _0x26c238, _0x19db55 = { ..._0xbba077 };
            _0x19db55[_0x5f3c7b(0x157)] = _0x4148ed['id'], await ContactCustomField_1[_0x5f3c7b(0x128)][_0x5f3c7b(0x160)](_0x19db55);
        })), await Promise[_0x26c238(0x150)](_0x4148ed[_0x26c238(0x136)][_0x26c238(0x151)](async _0xb75024 => {
            const _0x22b3ab = _0x26c238, _0x5668d2 = _0xfba913[_0x22b3ab(0x14c)](_0x2c46ed => _0x2c46ed['id'] === _0xb75024['id']);
            if (_0x24cad6[_0x22b3ab(0x158)](_0x5668d2, -(0x4 * 0x7b1 + 0x2 * 0x299 + -0x23f5))) {
                const _0x45b517 = {};
                _0x45b517['id'] = _0xb75024['id'];
                const _0xeac9a3 = {};
                _0xeac9a3[_0x22b3ab(0x146)] = _0x45b517, await ContactCustomField_1[_0x22b3ab(0x128)][_0x22b3ab(0x12a)](_0xeac9a3);
            }
        })));
        if (_0x4fcbce) {
            const _0x419508 = {};
            _0x419508[_0x26c238(0x138)] = _0x504950, _0x419508[_0x26c238(0x157)] = _0x46466f;
            const _0x48fcde = {};
            _0x48fcde[_0x26c238(0x146)] = _0x419508, await ContactWallet_1[_0x26c238(0x128)][_0x26c238(0x12a)](_0x48fcde);
            const _0x20b736 = [];
            _0x4fcbce[_0x26c238(0x129)](_0x4fdbc9 => {
                const _0x3327d8 = _0x26c238, _0x198fa5 = {};
                _0x198fa5[_0x3327d8(0x147)] = !_0x4fdbc9['id'] ? _0x4fdbc9 : _0x4fdbc9['id'], _0x198fa5[_0x3327d8(0x157)] = _0x46466f, _0x198fa5[_0x3327d8(0x138)] = _0x504950, _0x20b736[_0x3327d8(0x161)](_0x198fa5);
            }), await ContactWallet_1[_0x26c238(0x128)][_0x26c238(0x133)](_0x20b736);
        }
        const _0x13d2d9 = {};
        _0x13d2d9[_0x26c238(0x156)] = _0x282587, _0x13d2d9[_0x26c238(0x13f)] = _0x37bb2f, _0x13d2d9[_0x26c238(0x12e)] = _0x61586b, await _0x4148ed[_0x26c238(0x148)](_0x13d2d9);
        const _0x45b779 = {};
        _0x45b779[_0x26c238(0x13c)] = [
            'id',
            _0x24cad6[_0x26c238(0x144)],
            _0x24cad6[_0x26c238(0x130)],
            _0x24cad6[_0x26c238(0x15b)],
            _0x24cad6[_0x26c238(0x126)]
        ], _0x45b779[_0x26c238(0x131)] = [
            _0x24cad6[_0x26c238(0x162)],
            _0x24cad6[_0x26c238(0x149)],
            {
                'association': _0x24cad6[_0x26c238(0x12d)],
                'attributes': [
                    'id',
                    _0x24cad6[_0x26c238(0x144)]
                ]
            }
        ], await _0x4148ed[_0x26c238(0x15e)](_0x45b779);
        const _0x267b7c = {};
        return _0x267b7c[_0x26c238(0x138)] = _0x504950, _0x267b7c[_0x26c238(0x163)] = _0x24cad6[_0x26c238(0x13d)], _0x267b7c[_0x26c238(0x141)] = _0x4148ed, (0x2 * 0x98e + 0x14f3 + -0x280f, socketEmit_1[_0x26c238(0x128)])(_0x267b7c), _0x4148ed;
    };
exports[_0xe31a11(0x128)] = UpdateContactService;