'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x191;let h=e[f];return h;},b(c,d);}const t=b,v=b;(function(c,d){const r=b,s=b,e=c();while(!![]){try{const f=-parseInt(r(0x19e))/0x1+parseInt(r(0x1a9))/0x2*(-parseInt(r(0x1a3))/0x3)+parseInt(r(0x1a6))/0x4*(parseInt(r(0x1b8))/0x5)+-parseInt(s(0x1b2))/0x6*(parseInt(r(0x194))/0x7)+-parseInt(r(0x19c))/0x8*(parseInt(s(0x192))/0x9)+-parseInt(r(0x1aa))/0xa+-parseInt(r(0x1b5))/0xb*(-parseInt(r(0x1b3))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x4ad46));var __importDefault=this&&this[t(0x19a)]||function(c){const u=t;return c&&c[u(0x195)]?c:{'default':c};};function a(){const z=['\x20offset\x20','toLowerCase','__importDefault','\x0a\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22\x20=\x20','504LpWSZN','\x0a\x20\x20\x20\x20select\x20count(*)\x0a\x20\x20\x20\x20from\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20where\x20','129055yQIzxt','\x0a\x20\x20\x20\x20order\x20by\x20\x22Contact\x22.\x22name\x22\x20asc\x0a\x20\x20\x20\x20limit\x20','query','count','../SettingServices/ListSettingsService','882543vDdaeH','\x27\x20=\x20\x27N\x27)\x20OR\x20(\x27','value','574492qhUPxE','\x0a\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20distinct\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22id\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22name\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22number\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22email\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22profilePicUrl\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22pushname\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22telegramId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22messengerId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22instagramPK\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isUser\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isWAContact\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isGroup\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22createdAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22updatedAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22cw\x22.\x22walletId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22u\x22.\x22name\x22\x20as\x20\x22wallet\x22\x0a\x20\x20\x20\x20from\x0a\x20\x20\x20\x20\x20\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20left\x20join\x20\x22Users\x22\x20u\x20on\x20cw.\x22walletId\x22\x20=\x20u.\x22id\x22\x0a\x20\x20\x20\x20where\x20','find','2Nqncjh','5561810VnHPBj','../../database','trim','%\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20or\x20\x22Contact\x22.\x22number\x22\x20like\x20\x27%','\x27\x20=\x20\x27S\x27\x20and\x20((\x22cw\x22.\x22walletId\x22\x20=\x20','defineProperty','\x27\x20=\x20\x27N\x27))\x0a\x20\x20','\x27\x20=\x20\x27admin\x27\x20and\x20\x27','57516BaEDNX','15902232BxHaea','\x27\x20=\x20\x27user\x27\x20and\x20\x27','11sGDZIA','key','\x0a\x20\x20','5tvlJTb','\x0a\x20\x20\x20\x20and\x20(LOWER(\x22Contact\x22.\x22name\x22)\x20like\x20\x27%','%\x27)\x0a\x20\x20\x20\x20and((\x27','enabled','108mCntji','default','133DVxlXP','__esModule','SELECT','QueryTypes'];a=function(){return z;};return a();}Object[v(0x1af)](exports,t(0x195),{'value':!![]});const sequelize_1=require('sequelize'),database_1=__importDefault(require(t(0x1ab))),ListSettingsService_1=__importDefault(require(v(0x1a2))),ListContactsService=async({searchParam:searchParam='',pageNumber:pageNumber='1',tenantId:c,profile:d,userId:e})=>{const w=t,x=t,f=0x28,g=f*(+pageNumber-0x1),h=await(0x0,ListSettingsService_1[w(0x193)])(c),i=h?.[w(0x1a8)](q=>{const y=w;return q[y(0x1b6)]==='userContactWallet';})?.[x(0x1a5)]===w(0x191)?'S':'N',j=x(0x19b)+c+w(0x1b9)+searchParam[w(0x199)]()['trim']()+x(0x1ad)+searchParam[x(0x199)]()[x(0x1ac)]()+x(0x1ba)+i+x(0x1ae)+e+')\x20or\x20(\x22cw\x22.\x22walletId\x22\x20is\x20null)))\x20OR\x20(\x27'+i+w(0x1a4)+d+x(0x1b1)+i+'\x27\x20=\x20\x27S\x27)OR\x20(\x27'+d+w(0x1b4)+i+w(0x1b0),k=w(0x19d)+j+x(0x1b7),l=x(0x1a7)+j+w(0x19f)+f+x(0x198)+g+'\x0a\x20\x20',m=await database_1['default'][x(0x1a0)](l,{'type':sequelize_1[x(0x197)][w(0x196)]}),n=await database_1['default'][w(0x1a0)](k,{'type':sequelize_1[w(0x197)][w(0x196)]}),o=n&&n[0x0]?.[x(0x1a1)]||0x0,p=o>g+m['length'];return{'contacts':m,'count':o,'hasMore':p};};exports[v(0x193)]=ListContactsService;