'use strict';const t=b,u=b;(function(c,d){const r=b,s=b,e=c();while(!![]){try{const f=parseInt(r(0x169))/0x1+parseInt(s(0x155))/0x2*(parseInt(s(0x15b))/0x3)+-parseInt(r(0x15c))/0x4+-parseInt(s(0x15d))/0x5+parseInt(s(0x153))/0x6+parseInt(s(0x15a))/0x7+-parseInt(s(0x162))/0x8;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x966bd));var __importDefault=this&&this[t(0x151)]||function(c){return c&&c['__esModule']?c:{'default':c};};function a(){const y=['QueryTypes','145106tReSGU','\x27\x20=\x20\x27N\x27)\x20OR\x20(\x27','defineProperty','enabled','\x0a\x20\x20','7765212gUtsfz','21Hftxek','1781036zUJdmb','352595sDWDoc','SELECT','\x0a\x20\x20\x20\x20select\x20count(*)\x0a\x20\x20\x20\x20from\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20where\x20','%\x27)\x0a\x20\x20\x20\x20and((\x27','\x27\x20=\x20\x27S\x27\x20and\x20((\x22cw\x22.\x22walletId\x22\x20=\x20','11523688hvsVjL','default','\x0a\x20\x20\x20\x20order\x20by\x20\x22Contact\x22.\x22name\x22\x20asc\x0a\x20\x20\x20\x20limit\x20','\x27\x20=\x20\x27S\x27)OR\x20(\x27','query','\x0a\x20\x20\x20\x20and\x20(LOWER(\x22Contact\x22.\x22name\x22)\x20like\x20\x27%','../../database','781920kwQqsC','\x27\x20=\x20\x27N\x27))\x0a\x20\x20','key','__esModule','count','\x27\x20=\x20\x27admin\x27\x20and\x20\x27','\x20offset\x20','../SettingServices/ListSettingsService','%\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20or\x20\x22Contact\x22.\x22number\x22\x20like\x20\x27%','value',')\x20or\x20(\x22cw\x22.\x22walletId\x22\x20is\x20null)))\x20OR\x20(\x27','sequelize','\x0a\x20\x20\x20\x20select\x0a\x20\x20\x20\x20\x20\x20distinct\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22id\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22name\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22number\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22email\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22profilePicUrl\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22pushname\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22telegramId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22messengerId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22instagramPK\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isUser\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isWAContact\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22isGroup\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22createdAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22Contact\x22.\x22updatedAt\x22,\x0a\x20\x20\x20\x20\x20\x20\x22cw\x22.\x22walletId\x22,\x0a\x20\x20\x20\x20\x20\x20\x22u\x22.\x22name\x22\x20as\x20\x22wallet\x22\x0a\x20\x20\x20\x20from\x0a\x20\x20\x20\x20\x20\x20\x22Contacts\x22\x20as\x20\x22Contact\x22\x0a\x20\x20\x20\x20left\x20join\x20\x22ContactWallets\x22\x20cw\x20on\x20cw.\x22contactId\x22\x20=\x20\x22Contact\x22.id\x0a\x20\x20\x20\x20left\x20join\x20\x22Users\x22\x20u\x20on\x20cw.\x22walletId\x22\x20=\x20u.\x22id\x22\x0a\x20\x20\x20\x20where\x20','toLowerCase','__importDefault','length','1039542YxgioT'];a=function(){return y;};return a();}Object[u(0x157)](exports,t(0x16c),{'value':!![]});const sequelize_1=require(t(0x14e)),database_1=__importDefault(require(u(0x168))),ListSettingsService_1=__importDefault(require(t(0x170))),ListContactsService=async({searchParam:searchParam='',pageNumber:pageNumber='1',tenantId:c,profile:d,userId:e})=>{const v=t,x=u,f=0x28,g=f*(+pageNumber-0x1),h=await(0x0,ListSettingsService_1[v(0x163)])(c),i=h?.['find'](q=>{const w=v;return q[w(0x16b)]==='userContactWallet';})?.[x(0x14c)]===x(0x158)?'S':'N',j='\x0a\x20\x20\x20\x20\x22Contact\x22.\x22tenantId\x22\x20=\x20'+c+x(0x167)+searchParam['toLowerCase']()['trim']()+v(0x14b)+searchParam[x(0x150)]()['trim']()+x(0x160)+i+x(0x161)+e+v(0x14d)+i+v(0x156)+d+x(0x16e)+i+x(0x165)+d+'\x27\x20=\x20\x27user\x27\x20and\x20\x27'+i+x(0x16a),k=v(0x15f)+j+'\x0a\x20\x20',l=x(0x14f)+j+v(0x164)+f+x(0x16f)+g+x(0x159),m=await database_1['default'][v(0x166)](l,{'type':sequelize_1[v(0x154)]['SELECT']}),n=await database_1[v(0x163)][v(0x166)](k,{'type':sequelize_1[x(0x154)][v(0x15e)]}),o=n&&n[0x0]?.[v(0x16d)]||0x0,p=o>g+m[x(0x152)];return{'contacts':m,'count':o,'hasMore':p};};function b(c,d){const e=a();return b=function(f,g){f=f-0x14b;let h=e[f];return h;},b(c,d);}exports[t(0x163)]=ListContactsService;