'use strict';const m=b,n=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x87;let h=e[f];return h;},b(c,d);}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0x8c))/0x1+parseInt(k(0x91))/0x2*(parseInt(l(0xa4))/0x3)+parseInt(l(0x8b))/0x4*(parseInt(l(0xa1))/0x5)+-parseInt(l(0xa0))/0x6+parseInt(k(0x8f))/0x7*(parseInt(k(0x9d))/0x8)+-parseInt(l(0xa6))/0x9+parseInt(l(0xa8))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2553c));var __importDefault=this&&this[m(0xa7)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object[n(0x93)](exports,'__esModule',{'value':!![]}),exports[m(0xa2)]=void 0x0;const AppError_1=__importDefault(require(m(0x87))),InstaBot_1=require('../../libs/InstaBot'),socket_1=require(n(0x9b)),logger_1=require(m(0x89)),InstaBotMessageListener_1=require(n(0x95)),InstagramSendMessagesSystem_1=__importDefault(require(m(0x8d))),checkingInstagram={},checkMessages=async(c,d)=>{const o=m,p=n;if(checkingInstagram[d])return;checkingInstagram[d]=!![];try{await(0x0,InstagramSendMessagesSystem_1[o(0x8e)])(c,d);}catch(e){logger_1[o(0x9e)]['error'](p(0x97)+d+'::',e);}checkingInstagram[d]=![];},StartInstaBotSession=async c=>{const q=n,r=n,d=(0x0,socket_1[q(0x9f)])();await c[q(0x99)]({'status':'OPENING'}),d[r(0x94)](c[r(0xa9)]+':whatsappSession',{'action':r(0x99),'session':c});try{const e=await(0x0,InstaBot_1['initInstaBot'])(c);(0x0,InstaBotMessageListener_1[r(0x96)])(e),setInterval(checkMessages,+(process[r(0x9c)][r(0x90)]||0x1388),e,c[r(0xa9)]),logger_1['logger'][q(0x88)]('Conex√£o\x20Instagram\x20iniciada\x20|\x20Empresa:\x20'+c[q(0xa9)]),await c['update']({'status':q(0x92)}),d['emit'](c[q(0xa9)]+r(0xa3),{'action':'update','session':c});}catch(f){logger_1[r(0x9e)][q(0x8a)](r(0x98)+f),await c[q(0x99)]({'status':q(0x9a)}),d[r(0x94)](c[r(0xa9)]+':whatsappSession',{'action':'update','session':c});throw new AppError_1[(r(0x8e))](q(0xa5)+f,0x194);}};function a(){const s=['ERROR_CONNECT_INSTAGRAM:\x20','2532906VLOFJD','__importDefault','2996480ybPkjj','tenantId','../../errors/AppError','info','../../utils/logger','error','44oluClC','46188lIVIUe','./InstagramSendMessagesSystem','default','35vhljyW','CHECK_INTERVAL','4sQQxGe','CONNECTED','defineProperty','emit','./InstaBotMessageListener','InstaBotMessageListener','ERROR:\x20checkMessages\x20Tenant:\x20','StartInstaBotSession\x20|\x20Error:\x20','update','DISCONNECTED','../../libs/socket','env','78488euBlGt','logger','getIO','1710456CIQzoT','91395MsUYio','StartInstaBotSession',':whatsappSession','323727vxVmuD'];a=function(){return s;};return a();}exports[m(0xa2)]=StartInstaBotSession;