'use strict';
const H = b, I = b;
(function (c, d) {
    const F = b, G = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(F(0x187)) / (-0x19f2 + 0x1a86 + 0x93 * -0x1) + -parseInt(G(0x1d4)) / (-0x1b11 + 0x1 * 0x1d57 + 0x1 * -0x244) * (-parseInt(G(0x17d)) / (0x6 * -0x28a + -0x1 * 0x1843 + -0xd * -0x30a)) + parseInt(G(0x18e)) / (0x1cd + -0x8 * 0x3cc + 0xd * 0x233) * (-parseInt(F(0x1a6)) / (0x1c2c + -0x15 * 0xdc + -0x1 * 0xa1b)) + parseInt(G(0x1c1)) / (0x431 + -0x6fe + 0x3 * 0xf1) + -parseInt(F(0x186)) / (0x1933 + -0x1cb9 + 0x38d) + -parseInt(F(0x1b4)) / (-0x5 * -0x517 + -0x1357 * 0x2 + 0x5 * 0x2a7) + parseInt(G(0x1c2)) / (-0x1d16 + -0x1f2c + 0x3c4b) * (parseInt(F(0x180)) / (-0xc84 + -0x404 + 0x1092));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0xf412 + -0xf690d + 0x2 * 0xd9a8a));
var __importDefault = this && this[H(0x1da) + I(0x1ba)] || function (c) {
    const J = I;
    return c && c[J(0x1ae)] ? c : { 'default': c };
};
const u = {};
u[H(0x1c8)] = !![], Object[I(0x196) + H(0x1cf)](exports, H(0x1ae), u);
const path_1 = require(I(0x1de)), fs_1 = require('fs'), axios_1 = __importDefault(require(H(0x1a5))), CreateMessageService_1 = __importDefault(require(H(0x19c) + I(0x1ab) + H(0x175) + I(0x1ac))), getExt = d => {
        const K = I, L = H, e = {};
        e[K(0x190)] = function (j, k) {
            return j - k;
        };
        const f = e, g = d[K(0x1b6)]('?'), h = g[-0x1e08 + -0x8fc + -0x16 * -0x1c6][K(0x1b6)]('/'), i = h[f[K(0x190)](h[L(0x189)], -0x24 * 0x78 + -0x317 + 0x13f8)][K(0x1b6)]('.');
        return i[-0x10b4 * 0x2 + 0x1234 + 0xf35];
    }, downloadFile = async (c, d) => {
        const M = H, N = I, e = {
                'UTXMD': function (g, h) {
                    return g - h;
                },
                'jBtPY': M(0x19b),
                'MeRPt': function (g, h) {
                    return g(h);
                },
                'HluDf': M(0x1d1),
                'pEPsB': M(0x1b5),
                'ehpPJ': function (g, h) {
                    return g === h;
                },
                'eeEyY': M(0x1d6),
                'KFSqa': N(0x1b1),
                'ezSTQ': M(0x1dc) + M(0x1d7),
                'VromB': function (g, h) {
                    return g === h;
                },
                'XDlFp': N(0x17c),
                'WyzNs': M(0x181),
                'nxSTg': M(0x1c7),
                'FsUbB': N(0x1bc),
                'iQyLs': N(0x1ce)
            }, f = await (-0x9fe + 0x4f * 0x9 + 0x1 * 0x737, axios_1[N(0x1a7)])({
                'url': c[M(0x18b)](),
                'method': e[M(0x155)],
                'responseType': e[M(0x1d2)]
            });
        await new Promise((g, h) => {
            const O = N, Q = M, i = {
                    'aiKUE': e[O(0x16a)],
                    'YVvfS': function (j, k) {
                        const P = O;
                        return e[P(0x166)](j, k);
                    },
                    'ZvJtW': e[Q(0x185)],
                    'ePXdL': e[O(0x1c0)],
                    'nUVPH': function (j, k) {
                        const R = O;
                        return e[R(0x173)](j, k);
                    },
                    'SsGnp': e[Q(0x193)],
                    'eUNoj': e[O(0x1c9)],
                    'nIRpR': e[O(0x18d)]
                };
            if (e[O(0x1bf)](e[O(0x15b)], e[Q(0x15b)]))
                f[Q(0x164)][O(0x16d)]((0x1143 + 0x1 * 0x163c + -0x277f, fs_1[Q(0x17a) + Q(0x1bd)])(d))['on'](e[Q(0x17f)], async () => g(!![]))['on'](e[Q(0x156)], j => {
                    const S = O, U = O, k = {
                            'MZhFX': i[S(0x1d3)],
                            'QWklm': function (l, m) {
                                const T = S;
                                return i[T(0x1b7)](l, m);
                            },
                            'uYlpV': i[S(0x1b9)],
                            'DIlJx': i[S(0x15d)]
                        };
                    if (i[U(0x170)](i[U(0x157)], i[S(0x182)])) {
                        const m = k[S(0x17e)][U(0x1b6)]('|');
                        let n = -0x1d07 + 0x16f * 0x14 + 0x5b;
                        while (!![]) {
                            switch (m[n++]) {
                            case '0':
                                l = m[U(0x1d5)][S(0x178)];
                                continue;
                            case '1':
                                [n] = o[U(0x1d5)][S(0x178)][S(0x163) + U(0x1be)];
                                continue;
                            case '2':
                                p = k[S(0x1dd)](q, r[S(0x174)]);
                                continue;
                            case '3':
                                s = k[U(0x198)];
                                continue;
                            case '4':
                                t = k[S(0x16f)];
                                continue;
                            }
                            break;
                        }
                    } else
                        console[S(0x1c7)](i[S(0x1b3)], j), i[S(0x1b7)](h, new Error(j));
                });
            else {
                const k = d[O(0x1b6)]('?'), l = k[-0x32 * -0x5 + -0x6ce * -0x2 + 0x2 * -0x74b][O(0x1b6)]('/'), m = l[e[Q(0x176)](l[O(0x189)], 0x83f * 0x1 + 0xaae * -0x3 + 0x17cc)][Q(0x1b6)]('.');
                return m[-0x2144 + -0x1 * -0x2298 + -0x153 * 0x1];
            }
        });
    }, VerifyMediaMessage = async (d, e, f, g) => {
        const V = I, W = H, h = {
                'IkApv': V(0x188),
                'vmYNl': W(0x1e0),
                'FJHEi': W(0x19e),
                'Nvmql': function (t, v) {
                    return t(v);
                },
                'DQdyX': V(0x1dc) + V(0x1d7),
                'sghUT': V(0x181),
                'tfjMd': V(0x1c7),
                'UCcSK': W(0x18a) + 'n',
                'CHUWX': W(0x179),
                'RNZoh': function (t, v) {
                    return t === v;
                },
                'sQlIr': function (t, v) {
                    return t !== v;
                },
                'pWnfd': V(0x1b8),
                'GyEIa': W(0x1cb),
                'MaFOn': V(0x1a9),
                'uxNyk': V(0x194),
                'FziKs': W(0x172),
                'SarXM': function (t, v) {
                    return t === v;
                },
                'JitKn': W(0x195),
                'eAWUs': V(0x1d1),
                'OoEqJ': function (t, v) {
                    return t(v);
                },
                'riazW': W(0x1b5),
                'riapM': V(0x192) + 'a',
                'Minfl': function (t, v) {
                    return t === v;
                },
                'NVBri': V(0x1a3),
                'yRfZx': V(0x168),
                'mLpum': function (t, v) {
                    return t(v);
                },
                'rVAem': V(0x15c),
                'txDJM': function (t, v, w) {
                    return t(v, w);
                },
                'OmvbY': function (t, v) {
                    return t(v);
                },
                'zAidT': V(0x1a2),
                'SCjMs': V(0x1b2),
                'yGZNN': function (t, v) {
                    return t || v;
                }
            };
        let i, j, k, l = h[V(0x1d0)], m = h[V(0x1cd)];
        if (h[W(0x158)](d[V(0x1d5)]?.[V(0x178)]?.[W(0x183)], 0x1d02 * -0x1 + 0x2 * -0x11f0 + 0x40e3)) {
            if (h[W(0x16e)](h[W(0x1d9)], h[V(0x199)])) {
                const t = h[W(0x1cc)][V(0x1b6)]('|');
                let v = -0x1 * 0x9a + 0x263e + -0x42 * 0x92;
                while (!![]) {
                    switch (t[v++]) {
                    case '0':
                        m = h[W(0x19d)];
                        continue;
                    case '1':
                        l = h[V(0x169)];
                        continue;
                    case '2':
                        k = h[W(0x171)](getExt, i[W(0x174)]);
                        continue;
                    case '3':
                        [i] = d[V(0x1d5)][W(0x178)][V(0x18f) + W(0x161)][W(0x1ad)];
                        continue;
                    case '4':
                        j = d[V(0x1d5)][W(0x178)];
                        continue;
                    }
                    break;
                }
            } else {
                const x = h[W(0x1c3)][V(0x1b6)]('|');
                let y = 0x1586 + -0x1e8d + 0x907;
                while (!![]) {
                    switch (x[y++]) {
                    case '0':
                        s = h[W(0x1a1)];
                        continue;
                    case '1':
                        n = o[W(0x1d5)][W(0x192) + 'a'][V(0x178)][V(0x1e0)];
                        continue;
                    case '2':
                        t = h[V(0x1d8)];
                        continue;
                    case '3':
                        p = h[V(0x171)](q, r[V(0x1db)]);
                        continue;
                    case '4':
                        l = m[W(0x1d5)][V(0x192) + 'a'][W(0x178)];
                        continue;
                    }
                    break;
                }
            }
        }
        if (h[W(0x1c5)](d[W(0x1d5)]?.[W(0x178)]?.[V(0x183)], 0x202 * 0x13 + -0x1167 + -0x14bd * 0x1)) {
            const x = h[W(0x1ca)][W(0x1b6)]('|');
            let y = 0xaf * -0x33 + -0x8d * -0x1 + 0x2250;
            while (!![]) {
                switch (x[y++]) {
                case '0':
                    j = d[V(0x1d5)][V(0x178)];
                    continue;
                case '1':
                    l = h[W(0x1a4)];
                    continue;
                case '2':
                    [i] = d[V(0x1d5)][W(0x178)][V(0x163) + V(0x1be)];
                    continue;
                case '3':
                    k = h[W(0x1af)](getExt, i[W(0x174)]);
                    continue;
                case '4':
                    m = h[W(0x1a8)];
                    continue;
                }
                break;
            }
        }
        if (h[V(0x1c5)](d[W(0x1d5)]?.[V(0x159)], h[V(0x167)])) {
            if (h[W(0x15a)](h[V(0x15e)], h[V(0x15e)])) {
                const z = h[V(0x197)][V(0x1b6)]('|');
                let A = -0x3 * -0x3b9 + -0x3 * 0x52 + -0x367 * 0x3;
                while (!![]) {
                    switch (z[A++]) {
                    case '0':
                        i = d[V(0x1d5)][W(0x192) + 'a'][W(0x178)][W(0x1e0)];
                        continue;
                    case '1':
                        k = h[V(0x1df)](getExt, i[W(0x1db)]);
                        continue;
                    case '2':
                        m = h[V(0x1d8)];
                        continue;
                    case '3':
                        l = h[W(0x1a1)];
                        continue;
                    case '4':
                        j = d[W(0x1d5)][W(0x192) + 'a'][W(0x178)];
                        continue;
                    }
                    break;
                }
            } else {
                const C = {
                    'zTcxe': h[V(0x18c)],
                    'lLhIE': function (D, E) {
                        const X = W;
                        return h[X(0x171)](D, E);
                    }
                };
                j[V(0x164)][V(0x16d)]((-0x1798 + -0x1c62 + 0x2 * 0x19fd, k[V(0x17a) + V(0x1bd)])(l))['on'](h[V(0x1a0)], async () => q(!![]))['on'](h[V(0x160)], D => {
                    const Y = V, Z = W;
                    q[Y(0x1c7)](C[Y(0x165)], D), C[Z(0x162)](r, new s(D));
                });
            }
        }
        const n = f['id'] + '_' + j['id'] + '_' + new Date()[V(0x1b0)]() + '.' + k, o = (0x455 * 0x8 + -0x2f * 0x79 + 0x5b * -0x23, path_1[W(0x177)])(__dirname, '..', '..', '..', h[W(0x191)], n), p = h[V(0x15a)](d[W(0x1d5)][V(0x159)], h[W(0x167)]) ? i[V(0x1db)] : i[W(0x174)];
        await h[V(0x1c4)](downloadFile, p, o);
        const q = {
            'messageId': h[W(0x19f)](String, d[V(0x1d5)]?.[V(0x16b)]),
            'ticketId': f['id'],
            'contactId': e ? undefined : g['id'],
            'body': d[V(0x1d5)]?.[V(0x19a)] || d[V(0x1d5)]?.[W(0x16c)] || m,
            'fromMe': e,
            'read': e,
            'mediaUrl': n,
            'mediaType': l,
            'quotedMsgId': '',
            'timestamp': new Date()[V(0x1b0)](),
            'status': e ? h[W(0x1aa)] : h[V(0x17b)]
        };
        await f[W(0x15f)]({
            'lastMessage': d[W(0x1d5)]?.[V(0x19a)] || d[V(0x1d5)]?.[W(0x16c)] || m,
            'lastMessageAt': new Date()[V(0x1b0)](),
            'answered': h[W(0x1bb)](e, ![])
        });
        const r = {};
        r[W(0x184) + 'a'] = q, r[W(0x1c6)] = f[W(0x1c6)];
        const s = await (-0x1e91 + -0x2 * 0x62f + 0x17b * 0x1d, CreateMessageService_1[W(0x1a7)])(r);
        return s;
    };
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0xa8b * 0x3 + 0x1b70 + -0x39bc);
        let h = e[f];
        return h;
    }, b(c, d);
}
function a() {
    const a0 = [
        'stream',
        'erty',
        'UCcSK',
        'video',
        'iQyLs',
        'aiKUE',
        '44Mvcijy',
        'message',
        'osDcF',
        'LOAD',
        'FJHEi',
        'pWnfd',
        '__importDe',
        'audio_src',
        'ERROR\x20DONW',
        'QWklm',
        'path',
        'mLpum',
        'audio',
        'FsUbB',
        'nxSTg',
        'SsGnp',
        'RNZoh',
        'item_type',
        'Minfl',
        'XDlFp',
        'public',
        'ePXdL',
        'NVBri',
        'update',
        'tfjMd',
        'ions2',
        'lLhIE',
        'video_vers',
        'data',
        'zTcxe',
        'MeRPt',
        'riapM',
        '4|0|1|3|2',
        'FziKs',
        'jBtPY',
        'item_id',
        'caption',
        'pipe',
        'sQlIr',
        'DIlJx',
        'nUVPH',
        'Nvmql',
        'image',
        'ehpPJ',
        'url',
        'reateMessa',
        'UTXMD',
        'join',
        'media',
        'arquivo',
        'createWrit',
        'SCjMs',
        'jZBfA',
        '162489xDJEOb',
        'MZhFX',
        'WyzNs',
        '10ytCSZN',
        'finish',
        'eUNoj',
        'media_type',
        'messageDat',
        'HluDf',
        '6168029iXXwpo',
        '910747uzTdzQ',
        '4|1|3|0|2',
        'length',
        'applicatio',
        'toString',
        'DQdyX',
        'ezSTQ',
        '24IjvviD',
        'image_vers',
        'PyuOh',
        'rVAem',
        'voice_medi',
        'eeEyY',
        'imagem',
        '0|2|3|1|4',
        'defineProp',
        'yRfZx',
        'uYlpV',
        'GyEIa',
        'text',
        '0|1|2|3|4',
        '../Message',
        'uxNyk',
        'áudio',
        'OmvbY',
        'sghUT',
        'vmYNl',
        'sended',
        'HBabZ',
        'eAWUs',
        'axios',
        '1103260dsOQva',
        'default',
        'riazW',
        '4|3|2|1|0',
        'zAidT',
        'Services/C',
        'geService',
        'candidates',
        '__esModule',
        'OoEqJ',
        'getTime',
        'XgMNI',
        'received',
        'nIRpR',
        '4583056dXJCLy',
        'vídeo',
        'split',
        'YVvfS',
        'CRVPj',
        'ZvJtW',
        'fault',
        'yGZNN',
        'GET',
        'eStream',
        'ions',
        'VromB',
        'pEPsB',
        '2442108EqoxVm',
        '25206561rDFWTp',
        'IkApv',
        'txDJM',
        'SarXM',
        'tenantId',
        'error',
        'value',
        'KFSqa',
        'JitKn',
        'pImRe',
        'MaFOn',
        'CHUWX'
    ];
    a = function () {
        return a0;
    };
    return a();
}
exports[I(0x1a7)] = VerifyMediaMessage;