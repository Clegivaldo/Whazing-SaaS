'use strict';
const _0x1b58c1 = _0x4536;
(function (_0x1aece0, _0x10ed7b) {
    const _0x355cfa = _0x4536, _0x1348a7 = _0x1aece0();
    while (!![]) {
        try {
            const _0x5d9b90 = -parseInt(_0x355cfa(0x10a)) / (-0x19e + 0x2 * 0x266 + -0x32d) + -parseInt(_0x355cfa(0x119)) / (-0x4 * 0x880 + -0x1948 * 0x1 + 0x3b4a) * (-parseInt(_0x355cfa(0xf1)) / (-0x23cb + 0xfa1 * -0x1 + 0x39 * 0xe7)) + parseInt(_0x355cfa(0x102)) / (0x457 * -0x2 + 0xf8 * -0xc + -0x242 * -0x9) * (-parseInt(_0x355cfa(0x112)) / (0x856 * -0x1 + -0xb39 + -0x1c * -0xb3)) + -parseInt(_0x355cfa(0x101)) / (0x19 + 0x2f9 + 0x9c * -0x5) + -parseInt(_0x355cfa(0x104)) / (-0x13e9 + 0x24d1 + -0x95 * 0x1d) * (parseInt(_0x355cfa(0x9c)) / (-0xc52 + -0x7 * 0x21a + 0x2 * 0xd88)) + parseInt(_0x355cfa(0xdc)) / (-0xde * -0x25 + -0x1a93 + 0x2 * -0x2bd) + parseInt(_0x355cfa(0xda)) / (0x1d5c + -0x160d * 0x1 + -0x745);
            if (_0x5d9b90 === _0x10ed7b)
                break;
            else
                _0x1348a7['push'](_0x1348a7['shift']());
        } catch (_0x3bff67) {
            _0x1348a7['push'](_0x1348a7['shift']());
        }
    }
}(_0x1f8a, -0x1 * 0x9897f + -0x6871b + 0x197f5e));
function _0x4536(_0x17cb4a, _0x55d3c7) {
    const _0x209ade = _0x1f8a();
    return _0x4536 = function (_0x5eebc8, _0x5ed877) {
        _0x5eebc8 = _0x5eebc8 - (0x1583 + 0x4 * 0x41 + -0x15ee);
        let _0xf50148 = _0x209ade[_0x5eebc8];
        return _0xf50148;
    }, _0x4536(_0x17cb4a, _0x55d3c7);
}
var __importDefault = this && this[_0x1b58c1(0x109) + _0x1b58c1(0x114)] || function (_0x466e60) {
    const _0x4ab3fa = _0x1b58c1;
    return _0x466e60 && _0x466e60[_0x4ab3fa(0xe9)] ? _0x466e60 : { 'default': _0x466e60 };
};
const _0x3f5b03 = {};
_0x3f5b03[_0x1b58c1(0x116)] = !![], Object[_0x1b58c1(0xa0) + _0x1b58c1(0x9d)](exports, _0x1b58c1(0xe9), _0x3f5b03);
const promises_1 = require(_0x1b58c1(0xa1) + 's'), fluent_ffmpeg_1 = __importDefault(require(_0x1b58c1(0xe5) + _0x1b58c1(0x100))), path_1 = require(_0x1b58c1(0xd6)), sequelize_1 = require(_0x1b58c1(0xc8)), sharp_1 = __importDefault(require(_0x1b58c1(0xfe))), socketEmit_1 = __importDefault(require(_0x1b58c1(0x10e) + _0x1b58c1(0xd1) + _0x1b58c1(0xbf))), Message_1 = __importDefault(require(_0x1b58c1(0xde) + _0x1b58c1(0x103))), Ticket_1 = __importDefault(require(_0x1b58c1(0xde) + _0x1b58c1(0xae))), logger_1 = require(_0x1b58c1(0xf4) + _0x1b58c1(0xd8)), sleepRandomTime_1 = require(_0x1b58c1(0xf4) + _0x1b58c1(0xcc) + _0x1b58c1(0xc0)), SendMessagesSystemWbot = async (_0x4c3965, _0x5311d1) => {
        const _0xdc0adb = _0x1b58c1, _0xbd8320 = {
                'tFAKo': _0xdc0adb(0xa2),
                'yesOX': _0xdc0adb(0xd7),
                'ESimF': _0xdc0adb(0xc1),
                'MszBA': _0xdc0adb(0xa5),
                'PciHL': _0xdc0adb(0xfd),
                'GSuzB': _0xdc0adb(0xa7),
                'YHfnf': _0xdc0adb(0x9f),
                'xkQeQ': _0xdc0adb(0x9a),
                'gIqfo': _0xdc0adb(0xe0),
                'OshPE': _0xdc0adb(0xa6),
                'dCpTT': _0xdc0adb(0xcd),
                'bMJKE': _0xdc0adb(0xbc),
                'rcxtE': _0xdc0adb(0xb7),
                'AoSNX': _0xdc0adb(0xf9),
                'kRqcY': function (_0x2fcb66, _0x442a2b) {
                    return _0x2fcb66 === _0x442a2b;
                },
                'SSewK': _0xdc0adb(0xef),
                'rEXZa': function (_0x118eec, _0x43891a) {
                    return _0x118eec === _0x43891a;
                },
                'IrOOa': _0xdc0adb(0xbb),
                'DHVQF': _0xdc0adb(0xe3),
                'izQwk': _0xdc0adb(0x10c),
                'fvswx': _0xdc0adb(0xe8) + _0xdc0adb(0xa8),
                'fEQcE': _0xdc0adb(0xe8) + _0xdc0adb(0xea),
                'ZBydj': _0xdc0adb(0xa9),
                'PEgrQ': _0xdc0adb(0xc6),
                'QhxOH': _0xdc0adb(0xb2) + _0xdc0adb(0xb0),
                'HdcdV': function (_0x480e74, _0x47d62d) {
                    return _0x480e74(_0x47d62d);
                }
            }, _0x1bb099 = { [sequelize_1['Op']['is']]: null }, _0x58ba62 = {
                'fromMe': !![],
                'messageId': _0x1bb099,
                'status': _0xbd8320[_0xdc0adb(0xd4)],
                [sequelize_1['Op']['or']]: [
                    { 'scheduleDate': { [sequelize_1['Op'][_0xdc0adb(0xcf)]]: new Date() } },
                    { 'scheduleDate': { [sequelize_1['Op']['is']]: null } }
                ]
            }, _0xf4dd52 = await Message_1[_0xdc0adb(0xc4)][_0xdc0adb(0xbd)]({
                'where': _0x58ba62,
                'include': [
                    _0xbd8320[_0xdc0adb(0xfc)],
                    {
                        'model': Ticket_1[_0xdc0adb(0xc4)],
                        'as': _0xbd8320[_0xdc0adb(0xb5)],
                        'where': {
                            'tenantId': _0x5311d1,
                            [sequelize_1['Op']['or']]: {
                                'status': { [sequelize_1['Op']['ne']]: _0xbd8320[_0xdc0adb(0xaa)] },
                                'isFarewellMessage': !![]
                            },
                            'channel': _0xbd8320[_0xdc0adb(0xfb)],
                            'whatsappId': _0x4c3965['id']
                        },
                        'include': [_0xbd8320[_0xdc0adb(0xfc)]]
                    },
                    {
                        'model': Message_1[_0xdc0adb(0xc4)],
                        'as': _0xbd8320[_0xdc0adb(0xc5)],
                        'include': [_0xbd8320[_0xdc0adb(0xfc)]]
                    }
                ],
                'order': [[
                        _0xbd8320[_0xdc0adb(0xad)],
                        _0xbd8320[_0xdc0adb(0xb9)]
                    ]]
            });
        let _0x20f368;
        for (const _0x1b0267 of _0xf4dd52) {
            const _0x21f9e3 = _0x1b0267, {ticket: _0x4bd265} = _0x21f9e3, _0x5e7a66 = _0x4bd265[_0xdc0adb(0xfd)][_0xdc0adb(0x10f) + 'K'], _0x316a5e = await _0x4c3965[_0xdc0adb(0xfa)][_0xdc0adb(0x11b) + 'ad']([_0x5e7a66]);
            try {
                if (![
                        _0xbd8320[_0xdc0adb(0x115)],
                        _0xbd8320[_0xdc0adb(0x118)]
                    ][_0xdc0adb(0xab)](_0x21f9e3[_0xdc0adb(0x11d)]) && _0x21f9e3[_0xdc0adb(0xd3)]) {
                    const _0x18b00b = (-0x1693 + 0x14c9 * -0x1 + 0x2b5c, path_1[_0xdc0adb(0x10d)])(__dirname, '..', '..', '..', _0xbd8320[_0xdc0adb(0xdd)]), _0x82740a = (0xbf7 + -0x97 * 0x13 + 0x61 * -0x2, path_1[_0xdc0adb(0x10d)])(_0x18b00b, _0x21f9e3[_0xdc0adb(0xd3)]), _0x1776f4 = await (0x74b * 0x2 + -0xdd9 + 0x1b * -0x7, promises_1[_0xdc0adb(0xe6)])(_0x82740a);
                    console[_0xdc0adb(0xb6)](_0x82740a);
                    if (_0xbd8320[_0xdc0adb(0x108)](_0x21f9e3[_0xdc0adb(0x11d)], _0xbd8320[_0xdc0adb(0x9e)]) || _0xbd8320[_0xdc0adb(0x111)](_0x21f9e3[_0xdc0adb(0x11d)], _0xbd8320[_0xdc0adb(0xf2)])) {
                        const _0x522349 = _0x21f9e3[_0xdc0adb(0xd3)][_0xdc0adb(0xd9)]('.'), _0x2f61c3 = (-0x185 * 0xb + 0x1055 + 0x62, path_1[_0xdc0adb(0x10d)])(_0x18b00b, _0x522349[-0xc32 + 0x183e + -0x303 * 0x4] + _0xdc0adb(0xff));
                        await new Promise((_0x27342d, _0x4d663d) => {
                            const _0x51fa6b = _0xdc0adb;
                            (0x896 * -0x3 + -0xc48 + 0x260a, fluent_ffmpeg_1[_0x51fa6b(0xc4)])(_0x82740a)[_0x51fa6b(0x11a)](_0xbd8320[_0x51fa6b(0xe4)])['on'](_0xbd8320[_0x51fa6b(0xce)], _0x25e2e7 => _0x4d663d(_0x25e2e7))['on'](_0xbd8320[_0x51fa6b(0xa4)], () => _0x27342d(!![]))[_0x51fa6b(0xcb)](_0x2f61c3);
                        });
                        const _0x208468 = await (0x2 * 0x1289 + -0xb2f + -0x19e3, promises_1[_0xdc0adb(0xe6)])(_0x2f61c3), _0x2dcc10 = {};
                        _0x2dcc10[_0xdc0adb(0xb3)] = _0x208468, _0x20f368 = await _0x316a5e[_0xdc0adb(0x106) + _0xdc0adb(0x11c)](_0x2dcc10);
                    }
                    if (_0xbd8320[_0xdc0adb(0x108)](_0x21f9e3[_0xdc0adb(0x11d)], _0xbd8320[_0xdc0adb(0x110)])) {
                        const _0x4d2e3d = await (-0x2 * -0x3cd + -0x1 * 0x1483 + 0xce9, sharp_1[_0xdc0adb(0xc4)])(_0x1776f4)[_0xdc0adb(0xb8)]()[_0xdc0adb(0xf0)](), _0x17b214 = {};
                        _0x17b214[_0xdc0adb(0xb3)] = _0x4d2e3d, _0x20f368 = await _0x316a5e[_0xdc0adb(0xe1) + _0xdc0adb(0xeb)](_0x17b214);
                    }
                    if (_0xbd8320[_0xdc0adb(0x108)](_0x21f9e3[_0xdc0adb(0x11d)], _0xbd8320[_0xdc0adb(0x113)])) {
                        const _0x17ad03 = {};
                        _0x17ad03[_0xdc0adb(0x10c)] = _0x1776f4, _0x20f368 = await _0x316a5e[_0xdc0adb(0x106) + _0xdc0adb(0xf5)](_0x17ad03);
                    }
                    logger_1[_0xdc0adb(0xc9)][_0xdc0adb(0xf3)](_0xbd8320[_0xdc0adb(0xdb)]);
                }
                [
                    _0xbd8320[_0xdc0adb(0x115)],
                    _0xbd8320[_0xdc0adb(0x118)]
                ][_0xdc0adb(0xab)](_0x21f9e3[_0xdc0adb(0x11d)]) && !_0x21f9e3[_0xdc0adb(0xd3)] && (_0x20f368 = await _0x316a5e[_0xdc0adb(0x10b) + _0xdc0adb(0xaf)](_0x21f9e3[_0xdc0adb(0x99)]), logger_1[_0xdc0adb(0xc9)][_0xdc0adb(0xf3)](_0xbd8320[_0xdc0adb(0xee)]));
                const _0x3db407 = {
                    ..._0x21f9e3,
                    ..._0x20f368
                };
                _0x3db407['id'] = _0x21f9e3['id'], _0x3db407[_0xdc0adb(0xbe)] = _0x21f9e3[_0xdc0adb(0xbe)], _0x3db407[_0xdc0adb(0xed)] = _0x20f368[_0xdc0adb(0xc3)], _0x3db407[_0xdc0adb(0xac)] = _0xbd8320[_0xdc0adb(0xf8)], _0x3db407[_0xdc0adb(0xca)] = 0x2;
                const _0x47f7ee = _0x3db407, _0x42f132 = { ..._0x47f7ee }, _0x48bde2 = {};
                _0x48bde2['id'] = _0x21f9e3['id'];
                const _0x5928a0 = {};
                _0x5928a0[_0xdc0adb(0xba)] = _0x48bde2, await Message_1[_0xdc0adb(0xc4)][_0xdc0adb(0x107)](_0x42f132, _0x5928a0);
                const _0x3ee514 = {};
                _0x3ee514[_0xdc0adb(0xf6)] = _0x4bd265[_0xdc0adb(0xf6)], _0x3ee514[_0xdc0adb(0xd5)] = _0xbd8320[_0xdc0adb(0xb4)], _0x3ee514[_0xdc0adb(0x11e)] = { ..._0x21f9e3[_0xdc0adb(0xe2)] }, _0x3ee514[_0xdc0adb(0x11e)][_0xdc0adb(0x117)] = _0x21f9e3[_0xdc0adb(0x117)], _0x3ee514[_0xdc0adb(0x11e)]['id'] = _0x21f9e3['id'], _0x3ee514[_0xdc0adb(0x11e)][_0xdc0adb(0xbe)] = _0x21f9e3[_0xdc0adb(0xbe)], _0x3ee514[_0xdc0adb(0x11e)][_0xdc0adb(0xed)] = _0x20f368[_0xdc0adb(0xc3)], _0x3ee514[_0xdc0adb(0x11e)][_0xdc0adb(0xac)] = _0xbd8320[_0xdc0adb(0xf8)], _0x3ee514[_0xdc0adb(0x11e)][_0xdc0adb(0xca)] = 0x2, (0x4 * 0x6ac + 0x2 * -0x8fa + -0x8bc, socketEmit_1[_0xdc0adb(0xc4)])(_0x3ee514), logger_1[_0xdc0adb(0xc9)][_0xdc0adb(0xf3)](_0xbd8320[_0xdc0adb(0xb1)]), await (-0x20a0 + 0x1 * 0x1ed3 + 0x1cd * 0x1, sleepRandomTime_1[_0xdc0adb(0x9b) + _0xdc0adb(0xf7)])({
                    'minMilliseconds': _0xbd8320[_0xdc0adb(0xdf)](Number, 0x44e * -0x1 + 0x16f6 * -0x1 + 0x1c1 * 0x14),
                    'maxMilliseconds': _0xbd8320[_0xdc0adb(0xdf)](Number, -0x4f * -0x7d + 0xde2 + -0x28bd)
                });
            } catch (_0x505814) {
                const _0x3e5f04 = _0x21f9e3['id'], _0x56ebd2 = _0x21f9e3[_0xdc0adb(0xa7)]['id'];
                logger_1[_0xdc0adb(0xc9)][_0xdc0adb(0xd7)](_0xdc0adb(0xd0) + _0xdc0adb(0xec) + _0xdc0adb(0x105) + _0x5311d1 + (_0xdc0adb(0xc2) + '\x20') + _0x56ebd2 + ')'), logger_1[_0xdc0adb(0xc9)][_0xdc0adb(0xd7)](_0xdc0adb(0xe7) + _0xdc0adb(0xc7) + _0xdc0adb(0xa3) + _0x3e5f04 + _0xdc0adb(0xd2) + _0x505814);
            }
        }
    };
exports[_0x1b58c1(0xc4)] = SendMessagesSystemWbot;
function _0x1f8a() {
    const _0x140001 = [
        'nant:\x20',
        'broadcastV',
        'update',
        'kRqcY',
        '__importDe',
        '476029wsdSFv',
        'broadcastT',
        'video',
        'join',
        '../../help',
        'instagramP',
        'DHVQF',
        'rEXZa',
        '3322595EYuYdy',
        'izQwk',
        'fault',
        'bMJKE',
        'value',
        'mediaUrl',
        'rcxtE',
        '10EhHOYX',
        'toFormat',
        'directThre',
        'oice',
        'mediaType',
        'payload',
        'body',
        'instagram',
        'sleepRando',
        '8tIkWFe',
        'erty',
        'SSewK',
        'closed',
        'defineProp',
        'fs/promise',
        'mp4',
        'id:\x20',
        'ESimF',
        'pending',
        'createdAt',
        'ticket',
        'e\x20media',
        'sended',
        'YHfnf',
        'includes',
        'status',
        'OshPE',
        'ls/Ticket',
        'ext',
        'date\x20ok',
        'QhxOH',
        'Message\x20Up',
        'file',
        'PEgrQ',
        'GSuzB',
        'log',
        'text',
        'jpeg',
        'dCpTT',
        'where',
        'ptt',
        'chat',
        'findAll',
        'timestamp',
        'Emit',
        'domTime',
        'end',
        '\x20|\x20Ticket:',
        'item_id',
        'default',
        'gIqfo',
        'chat:ack',
        '\x20message\x20(',
        'sequelize',
        'logger',
        'ack',
        'saveToFile',
        's/sleepRan',
        'ASC',
        'yesOX',
        'lte',
        'Error\x20mess',
        'ers/socket',
        ')::\x20',
        'mediaName',
        'MszBA',
        'type',
        'path',
        'error',
        's/logger',
        'split',
        '17166970gcHKxB',
        'fvswx',
        '3919941nUFCsL',
        'AoSNX',
        '../../mode',
        'HdcdV',
        'quotedMsg',
        'broadcastP',
        'dataValues',
        'image',
        'tFAKo',
        'fluent-ffm',
        'readFile',
        'Error\x20send',
        'sendMessag',
        '__esModule',
        'e\x20text',
        'hoto',
        'age\x20is\x20(te',
        'messageId',
        'fEQcE',
        'audio',
        'toBuffer',
        '68739sqIYwk',
        'IrOOa',
        'info',
        '../../util',
        'ideo',
        'tenantId',
        'mTime',
        'ZBydj',
        'public',
        'entity',
        'xkQeQ',
        'PciHL',
        'contact',
        'sharp',
        '.mp4',
        'peg',
        '1661220tTgpWx',
        '4CTwnQD',
        'ls/Message',
        '1618491VKJTjF'
    ];
    _0x1f8a = function () {
        return _0x140001;
    };
    return _0x1f8a();
}