'use strict';
const _0x3f342e = _0x76d9;
function _0x76d9(_0x4e3fc1, _0x2402f7) {
    const _0x4233a2 = _0x3893();
    return _0x76d9 = function (_0x460fdc, _0x35d9b0) {
        _0x460fdc = _0x460fdc - (-0x1877 * -0x1 + 0x1ae1 + 0x9 * -0x5a6);
        let _0x2381ae = _0x4233a2[_0x460fdc];
        return _0x2381ae;
    }, _0x76d9(_0x4e3fc1, _0x2402f7);
}
(function (_0x160195, _0x10d662) {
    const _0x1e3626 = _0x76d9, _0x4729a8 = _0x160195();
    while (!![]) {
        try {
            const _0x35deba = parseInt(_0x1e3626(0xa6)) / (-0x1d * -0xbf + 0x19fa + 0x4 * -0xbe7) + -parseInt(_0x1e3626(0xc2)) / (0x1 * 0x22b + -0xc1 * -0xa + -0x9b3) + -parseInt(_0x1e3626(0x85)) / (-0xc36 + 0x1d * 0x1d + 0x8f0) * (parseInt(_0x1e3626(0xb3)) / (-0x29f * -0xc + -0x2652 + 0x6e2)) + parseInt(_0x1e3626(0xb2)) / (-0x4 * 0x16f + -0x1 * -0x1b34 + -0x1573) * (parseInt(_0x1e3626(0xa7)) / (0x1 * -0x7ae + 0xa53 + -0x29f)) + -parseInt(_0x1e3626(0x8a)) / (0x1 * 0x1205 + -0x636 * -0x4 + -0x2ad6 * 0x1) + -parseInt(_0x1e3626(0xc0)) / (-0x3 * -0x805 + -0x1a4 * -0xc + 0x169 * -0x1f) * (parseInt(_0x1e3626(0x8b)) / (0x7f9 + 0x16 * 0x13 + -0x992)) + -parseInt(_0x1e3626(0xbb)) / (-0x32d * -0x9 + -0x1f3f + 0x1 * 0x2b4) * (-parseInt(_0x1e3626(0xbd)) / (-0x6b * 0x19 + -0x1 * -0x1633 + -0xbb5));
            if (_0x35deba === _0x10d662)
                break;
            else
                _0x4729a8['push'](_0x4729a8['shift']());
        } catch (_0x311735) {
            _0x4729a8['push'](_0x4729a8['shift']());
        }
    }
}(_0x3893, -0xc * -0x7b95 + -0x1 * -0x5903c + -0x4d0ee));
function _0x3893() {
    const _0x5303da = [
        'ls/Campaig',
        'reload',
        'CANCELED_P',
        'findOne',
        's/logger',
        '../../erro',
        'pending',
        'xEgIy',
        '../../util',
        '__esModule',
        'filename',
        'split',
        'indexOf',
        'Sortl',
        'HxOTL',
        'default',
        'canceled',
        'BHkTF',
        'all',
        'dNnmR',
        '805070GcnCHn',
        '6eLshcJ',
        'ATE_CAMPAI',
        'defineProp',
        '../../mode',
        'rs/AppErro',
        'hLLlT',
        'mediaUrl',
        'value',
        'fault',
        'error',
        'YRqHU',
        '1842565Actbta',
        '2824FEQGCm',
        'mimetype',
        'tenantId',
        'where',
        'map',
        'null',
        'ikqzS',
        '__importDe',
        '10PkpcDH',
        'update',
        '12612677DhgyNt',
        'UjWSR',
        'ERR_NO_CAM',
        '24bGTufO',
        'logger',
        '1635032hBNarS',
        'start',
        'ENDING',
        'mediaType',
        '60FWiZvK',
        'status',
        'erty',
        'isArray',
        'substr',
        '5901903petLhZ',
        '650421HcDeVt',
        'lOJoA',
        'PAIGN_FOUN',
        'ERR_NO_UPD',
        'getTime',
        'GN_NOT_IN_',
        'length'
    ];
    _0x3893 = function () {
        return _0x5303da;
    };
    return _0x3893();
}
var __importDefault = this && this[_0x3f342e(0xba) + _0x3f342e(0xaf)] || function (_0x4363d4) {
    const _0x3e7a9f = _0x3f342e;
    return _0x4363d4 && _0x4363d4[_0x3e7a9f(0x9b)] ? _0x4363d4 : { 'default': _0x4363d4 };
};
const _0x4ec25d = {};
_0x4ec25d[_0x3f342e(0xae)] = !![], Object[_0x3f342e(0xa9) + _0x3f342e(0x87)](exports, _0x3f342e(0x9b), _0x4ec25d);
const AppError_1 = __importDefault(require(_0x3f342e(0x97) + _0x3f342e(0xab) + 'r')), Campaign_1 = __importDefault(require(_0x3f342e(0xaa) + _0x3f342e(0x92) + 'n')), logger_1 = require(_0x3f342e(0x9a) + _0x3f342e(0x96)), cArquivoName = _0x91ce7 => {
        const _0x2a84d9 = _0x3f342e, _0x347d11 = {};
        _0x347d11[_0x2a84d9(0x9f)] = function (_0x413e25, _0x6f5ba3) {
            return _0x413e25 - _0x6f5ba3;
        };
        const _0x3939bc = _0x347d11;
        if (!_0x91ce7)
            return '';
        const _0x2a5545 = _0x91ce7[_0x2a84d9(0x9d)]('/'), _0x24bb13 = _0x2a5545[_0x3939bc[_0x2a84d9(0x9f)](_0x2a5545[_0x2a84d9(0x91)], 0x769 * 0x5 + -0x1 * 0x1337 + 0xb * -0x19f)];
        return _0x24bb13;
    }, UpdateCampaignService = async ({
        campaignData: _0x487e1c,
        medias: _0x2261ea,
        campaignId: _0x153343,
        tenantId: _0x31829a
    }) => {
        const _0x10126d = _0x3f342e, _0x5437bd = {
                'HxOTL': function (_0x540701, _0x3b9b47) {
                    return _0x540701(_0x3b9b47);
                },
                'UjWSR': function (_0x311459, _0x1d7008) {
                    return _0x311459 !== _0x1d7008;
                },
                'xEgIy': _0x10126d(0x98),
                'ikqzS': function (_0x50073c, _0xa5ae9d) {
                    return _0x50073c !== _0xa5ae9d;
                },
                'hLLlT': _0x10126d(0xa2),
                'YRqHU': _0x10126d(0x8e) + _0x10126d(0xa8) + _0x10126d(0x90) + _0x10126d(0x94) + _0x10126d(0x83),
                'dNnmR': function (_0x42a618, _0x3b6f1d) {
                    return _0x42a618 === _0x3b6f1d;
                },
                'BHkTF': _0x10126d(0xb8),
                'lOJoA': _0x10126d(0xbf) + _0x10126d(0x8d) + 'D'
            };
        let _0xaedb4c, _0x108342 = {
                ..._0x487e1c,
                'mediaUrl': _0x5437bd[_0x10126d(0xa0)](cArquivoName, _0x487e1c[_0x10126d(0xad)]),
                'start': _0x487e1c[_0x10126d(0x82)]
            };
        const _0x38fba2 = {};
        _0x38fba2['id'] = _0x153343, _0x38fba2[_0x10126d(0xb5)] = _0x31829a;
        const _0x116179 = {};
        _0x116179[_0x10126d(0xb6)] = _0x38fba2;
        const _0xab783a = await Campaign_1[_0x10126d(0xa1)][_0x10126d(0x95)](_0x116179);
        if (_0x5437bd[_0x10126d(0xbe)](_0xab783a?.[_0x10126d(0x86)], _0x5437bd[_0x10126d(0x99)]) && _0x5437bd[_0x10126d(0xb9)](_0xab783a?.[_0x10126d(0x86)], _0x5437bd[_0x10126d(0xac)]))
            throw new AppError_1[(_0x10126d(0xa1))](_0x5437bd[_0x10126d(0xb1)], 0x1255 + -0xe9c + -0x1 * 0x225);
        if (_0x2261ea && Array[_0x10126d(0x88)](_0x2261ea) && _0x2261ea[_0x10126d(0x91)])
            await Promise[_0x10126d(0xa4)](_0x2261ea[_0x10126d(0xb7)](async _0x33e7fb => {
                const _0x586f05 = _0x10126d;
                try {
                    if (!_0x33e7fb[_0x586f05(0x9c)]) {
                        const _0x55f560 = _0x33e7fb[_0x586f05(0xb4)][_0x586f05(0x9d)]('/')[-0x13aa + 0x216f + -0xdc4][_0x586f05(0x9d)](';')[0x941 * 0x3 + 0x3c5 + -0x1 * 0x1f88];
                        _0x33e7fb[_0x586f05(0x9c)] = new Date()[_0x586f05(0x8f)]() + '.' + _0x55f560;
                    }
                    _0xaedb4c = _0x33e7fb;
                } catch (_0xa5e694) {
                    logger_1[_0x586f05(0xc1)][_0x586f05(0xb0)](_0xa5e694);
                }
            })), _0x108342 = {
                ..._0x487e1c,
                'mediaUrl': _0xaedb4c?.[_0x10126d(0x9c)],
                'mediaType': _0xaedb4c?.[_0x10126d(0xb4)][_0x10126d(0x89)](0x10 * -0x159 + -0x1 * -0xc13 + -0x7 * -0x15b, _0xaedb4c[_0x10126d(0xb4)][_0x10126d(0x9e)]('/'))
            };
        else {
            if (_0x5437bd[_0x10126d(0xa5)](_0x487e1c[_0x10126d(0xad)], _0x5437bd[_0x10126d(0xa3)])) {
                const _0x29dde6 = { ..._0x487e1c };
                _0x29dde6[_0x10126d(0xad)] = '', _0x29dde6[_0x10126d(0x84)] = '', _0x108342 = _0x29dde6;
            }
        }
        if (!_0xab783a)
            throw new AppError_1[(_0x10126d(0xa1))](_0x5437bd[_0x10126d(0x8c)], 0x1047 * 0x2 + -0x27 * -0xe + -0x211c);
        return await _0xab783a[_0x10126d(0xbc)](_0x108342), await _0xab783a[_0x10126d(0x93)](), _0xab783a;
    };
exports[_0x3f342e(0xa1)] = UpdateCampaignService;