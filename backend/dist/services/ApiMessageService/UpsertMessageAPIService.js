'use strict';const s=b,u=b;(function(c,d){const q=b,r=b,e=c();while(!![]){try{const f=parseInt(q(0x15e))/0x1+-parseInt(r(0x156))/0x2*(parseInt(q(0x15c))/0x3)+parseInt(r(0x15f))/0x4*(parseInt(q(0x15d))/0x5)+-parseInt(r(0x158))/0x6+-parseInt(q(0x159))/0x7+parseInt(r(0x161))/0x8+parseInt(r(0x163))/0x9*(parseInt(r(0x155))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x43922));var __importDefault=this&&this[s(0x157)]||function(c){const t=s;return c&&c[t(0x160)]?c:{'default':c};};function a(){const x=['24IvwquT','__esModule','4244840zmITad','update','36paKOOi','reload','549160SIXIsR','114vocnvT','__importDefault','2661804rMPLql','3712569Tjarqi','defineProperty','default','12207EbuRgq','303205APZynw','368589xmpZHr'];a=function(){return x;};return a();}Object[s(0x15a)](exports,s(0x160),{'value':!![]});const ApiMessage_1=__importDefault(require('../../models/ApiMessage')),UpsertMessageAPIService=async({sessionId:c,messageId:d,body:e,ack:f,number:g,mediaName:h,mediaUrl:i,timestamp:j,externalKey:k,messageWA:l,apiConfig:m,tenantId:n})=>{const v=u,w=u;let o;const p=await ApiMessage_1['default']['findOne']({'where':{'messageId':d,'tenantId':n}});p?(await p[v(0x162)]({'sessionId':c,'messageId':d,'body':e,'ack':f,'number':g,'mediaName':h,'mediaUrl':i,'timestamp':j,'externalKey':k,'messageWA':l,'apiConfig':m,'tenantId':n}),o=await p[v(0x154)]()):o=await ApiMessage_1[w(0x15b)]['create']({'sessionId':c,'messageId':d,'body':e,'ack':f,'number':g,'mediaName':h,'mediaUrl':i,'timestamp':j,'externalKey':k,'messageWA':l,'apiConfig':m,'tenantId':n});if(!o)throw new Error('ERR_CREATING_MESSAGE');return o;};function b(c,d){const e=a();return b=function(f,g){f=f-0x154;let h=e[f];return h;},b(c,d);}exports['default']=UpsertMessageAPIService;