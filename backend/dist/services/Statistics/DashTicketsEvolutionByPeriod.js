'use strict';const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0xf9))/0x1*(parseInt(k(0xfc))/0x2)+parseInt(k(0xf3))/0x3+-parseInt(l(0xef))/0x4*(parseInt(l(0xf4))/0x5)+-parseInt(k(0xf5))/0x6*(parseInt(l(0xfb))/0x7)+-parseInt(l(0xf2))/0x8*(parseInt(k(0xed))/0x9)+-parseInt(k(0xf0))/0xa+parseInt(l(0xf1))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xbdeed));function b(c,d){const e=a();return b=function(f,g){f=f-0xeb;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[m(0xff)]||function(c){const n=m;return c&&c[n(0xf8)]?c:{'default':c};};Object[m(0xfa)](exports,m(0xf8),{'value':!![]});function a(){const r=['query','QueryTypes','__esModule','1207aFZjdw','defineProperty','35qsJwmQ','1514KheLzd','../../database','default','__importDefault','sequelize','SELECT','2002356CtNyZh','\x0a\x20\x20select\x0a\x20\x20dt_ref,\x0a\x20\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20as\x20label,\x0a\x20\x20qtd\x0a\x20\x20--ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x0a\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22tenantId\x22\x20=\x20:tenantId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a','28904hnPtPb','4109740EZAcjw','9583871ihynOW','8phLFSn','1348782xXzuVS','205MNXVqL','632238QqUDXZ'];a=function(){return r;};return a();}const sequelize_1=require(m(0xeb)),database_1=__importDefault(require(o(0xfd))),queryAdmin=o(0xee),query='\x0a\x20\x20select\x0a\x20\x20dt_ref,\x0a\x20\x20to_char(dt_ref,\x20\x27DD/MM/YYYY\x27)\x20as\x20label,\x0a\x20\x20qtd\x0a\x20\x20--ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x0a\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20dt_ref,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20INNER\x20JOIN\x20\x22LogTickets\x22\x20lt\x20ON\x20lt.\x22ticketId\x22\x20=\x20t.\x22id\x22\x0a\x20\x20where\x20t.\x22tenantId\x22\x20=\x20:tenantId\x20and\x20lt.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20(lt.\x22type\x22\x20LIKE\x20\x27open\x27\x20OR\x20lt.\x22type\x22\x20LIKE\x20\x27receivedTransfer\x27)\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x201\x0a',DashTicketsEvolutionByPeriod=async({startDate:c,endDate:d,tenantId:e,userId:f,userProfile:g})=>{const p=m,q=o,h=await database_1[p(0xfe)][q(0xf6)](g=='admin'?queryAdmin:query,{'replacements':{'tenantId':e,'startDate':c,'endDate':d,'userId':f},'type':sequelize_1[p(0xf7)][q(0xec)]});return h;};exports[o(0xfe)]=DashTicketsEvolutionByPeriod;