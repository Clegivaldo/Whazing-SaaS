'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x91;let h=e[f];return h;},b(c,d);}const m=b,n=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x99))/0x1*(-parseInt(l(0x97))/0x2)+parseInt(l(0x94))/0x3*(-parseInt(k(0x93))/0x4)+parseInt(k(0x91))/0x5+parseInt(l(0xa0))/0x6+parseInt(k(0x9b))/0x7+parseInt(l(0x9d))/0x8*(parseInt(l(0x92))/0x9)+-parseInt(l(0x9c))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xeec81));var __importDefault=this&&this['__importDefault']||function(c){return c&&c['__esModule']?c:{'default':c};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a(){const q=['5307474JtHJzi','default','6755120qhzUXI','8122662ztNiqS','1994468xidaam','6NeRhPF','sequelize','\x0a\x20\x20select\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20where\x20t.\x22tenantId\x22\x20=\x20:tenantId\x20AND\x20t.\x22userId\x22\x20=\x20:userId\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x202\x20Desc\x0a','865342NYDPxi','QueryTypes','2QmVwSA','query','6721624JrRQdf','12577280waZCDP','8cSHOLA','../../database','SELECT'];a=function(){return q;};return a();}const sequelize_1=require(m(0x95)),database_1=__importDefault(require(n(0x9e))),queryAdmin='\x0a\x20\x20select\x20label,\x20qtd,\x20ROUND(100.0*(qtd/sum(qtd)\x20over\x20()),\x202)\x20pertentual\x20\x20from\x20(\x0a\x20\x20select\x0a\x20\x20t.channel\x20as\x20label,\x0a\x20\x20count(1)\x20as\x20qtd\x0a\x20\x20from\x20\x22Tickets\x22\x20t\x0a\x20\x20where\x20t.\x22tenantId\x22\x20=\x20:tenantId\x0a\x20\x20and\x20date_trunc(\x27day\x27,\x20t.\x22createdAt\x22)\x20between\x20:startDate\x20and\x20:endDate\x0a\x20\x20group\x20by\x20t.channel\x0a\x20\x20)\x20a\x0a\x20\x20order\x20by\x202\x20Desc\x0a',query=m(0x96),DashTicketsChannels=async({startDate:c,endDate:d,tenantId:e,userId:f,userProfile:g})=>{const o=m,p=m,h=await database_1[o(0xa1)][o(0x9a)](g=='admin'?queryAdmin:query,{'replacements':{'tenantId':e,'startDate':c,'endDate':d,'userId':f},'type':sequelize_1[p(0x98)][o(0x9f)]});return h;};exports[m(0xa1)]=DashTicketsChannels;