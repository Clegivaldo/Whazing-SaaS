'use strict';const n=b,o=b;(function(c,d){const l=b,m=b,e=c();while(!![]){try{const f=-parseInt(l(0x11c))/0x1+-parseInt(m(0x105))/0x2+-parseInt(m(0x108))/0x3*(-parseInt(l(0x10a))/0x4)+parseInt(l(0x110))/0x5*(parseInt(m(0x106))/0x6)+parseInt(l(0x109))/0x7*(parseInt(m(0x10f))/0x8)+-parseInt(m(0x112))/0x9*(parseInt(l(0x10d))/0xa)+parseInt(m(0x114))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xc004d));function a(){const r=['../MessageServices/CreateMessageService','chat','538778pyhCkD','message_id','1521924ciVNPp','2742LLHbWj','text','194928LYjNhz','744443QemekT','16JXGIxx','tenantId','__importDefault','14799130RKiFDH','default','16zjjbiJ','6995ppffwY','edited_message','9zaZiVS','getTime','26996387vnPjLW','defineProperty','message','reply_to_message','received','update'];a=function(){return r;};return a();}function b(c,d){const e=a();return b=function(f,g){f=f-0x104;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[n(0x10c)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object[n(0x115)](exports,'__esModule',{'value':!![]});const getQuotedForMessageId_1=__importDefault(require('../../helpers/getQuotedForMessageId')),CreateMessageService_1=__importDefault(require(n(0x11a))),VerifyMessage=async(c,d,e,f)=>{const p=n,q=o;let g,h={};g=c?.[p(0x116)],h=c?.[q(0x119)];!g&&h&&(g=h?.[q(0x111)]);let i;if(g?.[p(0x117)]?.[q(0x104)]){const k=await(0x0,getQuotedForMessageId_1[q(0x10e)])(g['reply_to_message']['message_id'],e[q(0x10b)]);i=k?.['id']||undefined;}const j={'messageId':String(g?.[p(0x104)]),'ticketId':e['id'],'contactId':d?undefined:f['id'],'body':g[p(0x107)],'fromMe':d,'read':d,'mediaType':p(0x11b),'quotedMsgId':i,'timestamp':+g['date']*0x3e8,'status':p(0x118)};await e[p(0x119)]({'lastMessage':g[q(0x107)],'lastMessageAt':new Date()[q(0x113)](),'answered':d||![]}),await(0x0,CreateMessageService_1[q(0x10e)])({'messageData':j,'tenantId':e[p(0x10b)]});};exports['default']=VerifyMessage;