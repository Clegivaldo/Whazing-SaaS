'use strict';const n=b,p=b;(function(c,d){const l=b,m=b,e=c();while(!![]){try{const f=-parseInt(l(0x158))/0x1+-parseInt(l(0x145))/0x2*(-parseInt(m(0x149))/0x3)+parseInt(m(0x154))/0x4+parseInt(m(0x156))/0x5*(-parseInt(m(0x15b))/0x6)+parseInt(l(0x148))/0x7+parseInt(l(0x157))/0x8*(parseInt(l(0x15a))/0x9)+-parseInt(l(0x14e))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x2643a));var __importDefault=this&&this[n(0x15c)]||function(c){const o=n;return c&&c[o(0x147)]?c:{'default':c};};Object[p(0x150)](exports,n(0x147),{'value':!![]});const getQuotedForMessageId_1=__importDefault(require(n(0x155))),CreateMessageService_1=__importDefault(require('../MessageServices/CreateMessageService')),VerifyMessage=async(c,d,e,f)=>{const q=n,r=p;let g,h={};g=c?.[q(0x14f)],h=c?.[r(0x14a)];!g&&h&&(g=h?.['edited_message']);let i;if(g?.[r(0x146)]?.['message_id']){const k=await(0x0,getQuotedForMessageId_1[r(0x14d)])(g[q(0x146)][q(0x14b)],e[r(0x159)]);i=k?.['id']||undefined;}const j={'messageId':String(g?.[r(0x14b)]),'ticketId':e['id'],'contactId':d?undefined:f['id'],'body':g[q(0x14c)],'fromMe':d,'read':d,'mediaType':q(0x151),'quotedMsgId':i,'timestamp':+g[q(0x152)]*0x3e8,'status':q(0x15d)};await e[q(0x14a)]({'lastMessage':g[r(0x14c)],'lastMessageAt':new Date()[q(0x153)](),'answered':d||![]}),await(0x0,CreateMessageService_1[r(0x14d)])({'messageData':j,'tenantId':e[q(0x159)]});};function b(c,d){const e=a();return b=function(f,g){f=f-0x145;let h=e[f];return h;},b(c,d);}function a(){const s=['message','defineProperty','chat','date','getTime','757352otlksC','../../helpers/getQuotedForMessageId','280AEGiWA','8XmYJrS','248779VwapSo','tenantId','272232QERokc','17622IerWim','__importDefault','received','2Skeaoz','reply_to_message','__esModule','1749832tNFuId','815523HfCCxt','update','message_id','text','default','1714220DGhLeE'];a=function(){return s;};return a();}exports[n(0x14d)]=VerifyMessage;