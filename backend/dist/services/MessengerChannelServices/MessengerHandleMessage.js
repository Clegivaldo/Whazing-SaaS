'use strict';
function a() {
    const a2 = [
        '1726JKdfsU',
        'IMydS',
        'OqUPX',
        'dTmtY',
        'IZpon',
        'evhkm',
        'defineProp',
        'unreadMess',
        'slnMh',
        'default',
        'VYECv',
        'ice',
        '1053648iTMddM',
        'bfnse',
        'cmvWs',
        'Groom',
        'read',
        'TXvmv',
        'VzXqe',
        'xzXZW',
        'vMEfB',
        'whatsappId',
        '254kWDXiq',
        'UKznR',
        '../../util',
        'PijPa',
        'iaMessage',
        '../TicketS',
        'mIxhV',
        'KDTPs',
        'logger',
        'LFqMB',
        'eQDLp',
        'text',
        'jgwUH',
        'fault',
        'TicketServ',
        'pzAbx',
        '__esModule',
        'RbGhx',
        'fallback',
        'error',
        'sage',
        'XPbMk',
        'cgvzK',
        'shift',
        'dqzqq',
        '91kVLSId',
        'rVerifyMed',
        'SDDPD',
        'jFCWo',
        'page',
        'ETYBb',
        'NvWRj',
        '/messenger',
        'getMesseng',
        'qfrmm',
        'RPmaU',
        'YmvKz',
        'length',
        'icket',
        'erBot',
        'bHaPR',
        'Bot',
        'contact',
        'gWXXa',
        'hULMY',
        '../WbotSer',
        'audio',
        'BQesf',
        'mUFcx',
        'roaWG',
        'isFarewell',
        'entry',
        'VerifyStep',
        's/logger',
        'wServices/',
        'ages',
        'gvnAU',
        '731196AnTdWj',
        'tenantId',
        'mQtYA',
        'WxyHT',
        'fbPageId',
        'EirTG',
        'Rxmfs',
        'HWZXI',
        'rShowChann',
        'PiRBR',
        'NjaKL',
        'timestamp',
        'Rimor',
        'messenger',
        '1157559crpdpT',
        'ervices/Fi',
        'value',
        'ZPawO',
        'mid',
        'yqzLy',
        '1670qnAmKa',
        'channel',
        'LgOWb',
        'video',
        'DUjwg',
        'RLgse',
        '229384AKjpYn',
        'cgEsy',
        'messaging',
        'FnHso',
        'xTHtM',
        'ZIQJI',
        '../../libs',
        'YTsxH',
        'BusinessHo',
        'wLqnd',
        'erty',
        'rVerifyMes',
        '../ChatFlo',
        'tjqTN',
        '1878TVNHpy',
        'xKlSG',
        'message',
        'ruWve',
        'tact',
        './Messenge',
        'WROwd',
        'ZWbmy',
        'file',
        'iTxva',
        '2444870AHemum',
        'type',
        'image',
        'PQIUI',
        'ers/Verify',
        'uvwdZ',
        'rVerifyCon',
        'HTWch',
        'ljuLT',
        'TGRAP',
        'object',
        '__importDe',
        'rMarkRead',
        'sKjza',
        'location',
        'sChatFlowT',
        'CScmb',
        'UyJHF',
        'isCampaign',
        'Message',
        'mYhgA',
        'ZrsYL',
        'xjGkD',
        'vices/help',
        'mtxZJ',
        'msg',
        'rGzrd',
        'tnfZf',
        'odndv',
        'eTvCe',
        'ndOrCreate',
        'urs',
        'sender'
    ];
    a = function () {
        return a2;
    };
    return a();
}
const A = b, B = b;
(function (c, d) {
    const y = b, z = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(y(0x1c2)) / (-0x1a * -0x160 + -0x1 * 0x234e + -0x71) * (parseInt(y(0x1d8)) / (0x370 + 0x2d * 0x54 + -0x1232)) + -parseInt(y(0x17d)) / (0x3 * 0x4e9 + -0x1 * 0x1d93 + -0x1 * -0xedb) + parseInt(y(0x1ce)) / (-0x23ab * -0x1 + 0x9d5 + -0x2d7c) + -parseInt(z(0x183)) / (0x1294 + 0xa70 + -0x1cff) * (parseInt(z(0x197)) / (0xf46 * 0x2 + 0xc49 + 0xe45 * -0x3)) + -parseInt(y(0x14f)) / (-0x8db * 0x2 + 0x55 * 0x1 + 0x1 * 0x1168) * (-parseInt(z(0x189)) / (-0x1063 + -0x1b6d + 0x1e8 * 0x17)) + parseInt(y(0x16f)) / (0xfb3 + -0x43 * -0x47 + -0x223f) + -parseInt(y(0x1a1)) / (-0x481 * 0x5 + -0x201a + 0x36a9);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x7 * -0x1651 + -0x2a8f3 + 0x65927));
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x1b29 + 0x1f2 + -0x1be1);
        let h = e[f];
        return h;
    }, b(c, d);
}
var __importDefault = this && this[A(0x1ac) + B(0x143)] || function (c) {
    const C = B;
    return c && c[C(0x146)] ? c : { 'default': c };
};
const k = {};
k[A(0x17f)] = !![], Object[B(0x1c8) + B(0x193)](exports, A(0x146), k);
const logger_1 = require(B(0x1da) + B(0x16b)), FindOrCreateTicketService_1 = __importDefault(require(B(0x13b) + B(0x17e) + B(0x1bf) + A(0x144) + A(0x1cd))), messengerBot_1 = require(B(0x18f) + A(0x156) + A(0x15f)), MessengerVerifyContact_1 = __importDefault(require(B(0x19c) + B(0x1a7) + A(0x19b))), MessengerVerifyMessage_1 = __importDefault(require(B(0x19c) + A(0x194) + A(0x14a))), MessengerVerifyMediaMessage_1 = __importDefault(require(A(0x19c) + B(0x150) + B(0x13a))), VerifyStepsChatFlowTicket_1 = __importDefault(require(A(0x195) + A(0x16c) + A(0x16a) + B(0x1b0) + A(0x15c))), MessengerMarkRead_1 = __importDefault(require(B(0x19c) + A(0x1ad))), MessengerShowChannel_1 = __importDefault(require(B(0x19c) + A(0x177) + 'el')), VerifyBusinessHours_1 = __importDefault(require(B(0x163) + B(0x1b8) + B(0x1a5) + A(0x191) + B(0x1c0))), getMessageType = d => {
        const D = B, E = A, e = {};
        e[D(0x185)] = function (i, j) {
            return i > j;
        }, e[D(0x1b9)] = D(0x141), e[E(0x1b7)] = function (i, j) {
            return i === j;
        }, e[E(0x13f)] = E(0x1a3), e[E(0x13c)] = function (i, j) {
            return i === j;
        }, e[E(0x140)] = D(0x164), e[D(0x1d1)] = function (i, j) {
            return i === j;
        }, e[E(0x1aa)] = E(0x186), e[D(0x190)] = E(0x1af), e[D(0x161)] = D(0x19f), e[E(0x1bc)] = function (i, j) {
            return i === j;
        }, e[D(0x1cf)] = E(0x148);
        const f = e, {attachments: g} = d, h = g && f[D(0x185)](g[E(0x15b)], 0x1df9 * -0x1 + 0x1 * -0x14b2 + 0x2fb * 0x11);
        if (d[E(0x141)] && !h)
            return f[E(0x1b9)];
        if (h && f[D(0x1b7)](g[0xc * 0x133 + -0xfd * 0x1c + -0xd48 * -0x1][E(0x1a2)], f[D(0x13f)]))
            return f[E(0x13f)];
        if (h && f[D(0x13c)](g[-0x2 * -0xd3 + -0x1f3d + -0x9dd * -0x3][D(0x1a2)], f[D(0x140)]))
            return f[E(0x140)];
        if (h && f[E(0x1d1)](g[0x42f * 0x5 + 0x4 * 0x481 + -0x1 * 0x26ef][E(0x1a2)], f[D(0x1aa)]))
            return f[D(0x1aa)];
        if (h && f[E(0x13c)](g[-0x20f4 + -0xe59 * 0x1 + 0x2f4d][E(0x1a2)], f[D(0x190)]))
            return f[D(0x190)];
        if (h && f[E(0x13c)](g[-0x11d * 0x16 + 0x1916 + -0x98][D(0x1a2)], f[D(0x161)]))
            return f[D(0x161)];
        if (h && f[D(0x1bc)](g[0x284 + 0xce2 * -0x1 + 0xa5e][D(0x1a2)], f[E(0x1cf)]))
            return f[D(0x1cf)];
    }, MessengerHandleMessage = async c => {
        const F = A, G = B, d = {
                'ljuLT': function (e) {
                    return e();
                },
                'IMydS': function (e, f) {
                    return e(f);
                },
                'TXvmv': function (e, f) {
                    return e > f;
                },
                'ZPawO': F(0x141),
                'UyJHF': function (e, f) {
                    return e === f;
                },
                'mYhgA': F(0x1a3),
                'ZWbmy': F(0x164),
                'BQesf': G(0x186),
                'pzAbx': F(0x1af),
                'dTmtY': function (e, f) {
                    return e === f;
                },
                'jFCWo': G(0x19f),
                'NvWRj': function (e, f) {
                    return e === f;
                },
                'cgvzK': G(0x148),
                'sKjza': function (e, f) {
                    return e !== f;
                },
                'PiRBR': G(0x153),
                'WROwd': G(0x18a),
                'evhkm': G(0x17c),
                'jgwUH': G(0x1cc),
                'RLgse': G(0x1d5),
                'uvwdZ': function (e) {
                    return e();
                },
                'EirTG': function (e, f) {
                    return e !== f;
                },
                'dqzqq': G(0x1d9),
                'XPbMk': G(0x166),
                'KDTPs': function (e, f) {
                    return e !== f;
                },
                'PijPa': G(0x1c6)
            };
        return new Promise((e, f) => {
            const J = G, L = G, g = {
                    'roaWG': function (h, i) {
                        const H = b;
                        return d[H(0x1c3)](h, i);
                    },
                    'gvnAU': function (h, i) {
                        const I = b;
                        return d[I(0x1d3)](h, i);
                    },
                    'iTxva': d[J(0x180)],
                    'qfrmm': function (h, i) {
                        const K = J;
                        return d[K(0x1b2)](h, i);
                    },
                    'vMEfB': d[J(0x1b5)],
                    'HWZXI': d[L(0x19e)],
                    'ruWve': d[L(0x165)],
                    'WxyHT': d[L(0x145)],
                    'mQtYA': function (h, i) {
                        const M = L;
                        return d[M(0x1c5)](h, i);
                    },
                    'rGzrd': d[J(0x152)],
                    'SDDPD': function (h, i) {
                        const N = L;
                        return d[N(0x155)](h, i);
                    },
                    'PQIUI': d[L(0x14c)],
                    'VzXqe': function (h, i) {
                        const O = L;
                        return d[O(0x1ae)](h, i);
                    },
                    'bHaPR': d[L(0x178)],
                    'RPmaU': d[J(0x19d)],
                    'Rimor': d[L(0x1c7)],
                    'NjaKL': d[J(0x142)],
                    'odndv': d[J(0x188)],
                    'cmvWs': function (h) {
                        const P = L;
                        return d[P(0x1a9)](h);
                    },
                    'wLqnd': function (h) {
                        const Q = J;
                        return d[Q(0x1a6)](h);
                    },
                    'ZrsYL': function (h, i) {
                        const R = L;
                        return d[R(0x174)](h, i);
                    },
                    'eTvCe': function (h, i) {
                        const S = L;
                        return d[S(0x174)](h, i);
                    },
                    'tjqTN': d[J(0x14e)],
                    'OqUPX': d[J(0x14b)],
                    'RbGhx': function (h, i) {
                        const T = J;
                        return d[T(0x1c3)](h, i);
                    }
                };
            if (d[J(0x13d)](d[L(0x1db)], d[L(0x1db)])) {
                d[L(0x1a9)](d);
                return;
            } else
                ((async () => {
                    const V = J, X = J, i = {
                            'ETYBb': function (n, o) {
                                const U = b;
                                return g[U(0x16e)](n, o);
                            },
                            'YmvKz': g[V(0x1a0)],
                            'yqzLy': function (n, o) {
                                const W = V;
                                return g[W(0x158)](n, o);
                            },
                            'FnHso': g[V(0x1d6)],
                            'ZIQJI': g[X(0x176)],
                            'CScmb': function (n, o) {
                                const Y = V;
                                return g[Y(0x158)](n, o);
                            },
                            'slnMh': g[V(0x19a)],
                            'DUjwg': function (n, o) {
                                const Z = X;
                                return g[Z(0x158)](n, o);
                            },
                            'Rxmfs': g[V(0x172)],
                            'xTHtM': function (n, o) {
                                const a0 = X;
                                return g[a0(0x171)](n, o);
                            },
                            'xKlSG': g[X(0x1bb)],
                            'hULMY': function (n, o) {
                                const a1 = V;
                                return g[a1(0x151)](n, o);
                            },
                            'HTWch': g[V(0x1a4)]
                        };
                    let j, l;
                    const m = 0x1316 + -0x1283 * 0x2 + 0x3 * 0x5fb;
                    try {
                        if (g[V(0x1d4)](c[X(0x1ab)], g[V(0x15e)]))
                            return;
                        const n = c[X(0x169)][X(0x14d)](), o = n?.[X(0x18b)][V(0x14d)](), p = {};
                        p[V(0x173)] = n['id'], j = await (-0xd3 * -0x2b + 0x5 * 0x77c + 0x32b * -0x17, MessengerShowChannel_1[V(0x1cb)])(p);
                        if (!j)
                            return;
                        const q = await (0x225e + 0x2349 * -0x1 + -0x2f * -0x5, messengerBot_1[X(0x157) + X(0x15d)])(j['id']);
                        if (!o?.[X(0x199)] && o[V(0x1d2)]) {
                            if (g[X(0x1d4)](g[V(0x159)], g[X(0x159)])) {
                                (-0x100e + 0x1f91 * 0x1 + -0xf83, f[X(0x1cb)])(g, h[X(0x170)]);
                                return;
                            } else {
                                (-0xd * -0x293 + 0x21fb * -0x1 + 0x84, MessengerMarkRead_1[V(0x1cb)])(o, j[X(0x170)]);
                                return;
                            }
                        }
                        l = await (-0x19b1 + 0x7e7 * 0x1 + -0xb * -0x19e, MessengerVerifyContact_1[V(0x1cb)])(o[V(0x1c1)], q, j[V(0x170)]);
                        const r = {
                                ...o,
                                'type': g[X(0x167)](getMessageType, o[X(0x199)]),
                                'fromMe': ![],
                                'body': o?.[X(0x199)]?.[V(0x141)] || '',
                                'timestamp': o[X(0x17a)],
                                'message_id': o[X(0x199)][X(0x181)]
                            }, s = {};
                        s[V(0x160)] = l, s[V(0x1d7)] = j['id'], s[V(0x1c9) + X(0x16d)] = m, s[X(0x170)] = j[X(0x170)], s[X(0x1ba)] = r, s[X(0x184)] = g[X(0x17b)];
                        const t = await (0x10a9 + -0x2551 + 0x14a8, FindOrCreateTicketService_1[V(0x1cb)])(s);
                        if (t?.[X(0x1b3) + V(0x1b4)]) {
                            if (g[X(0x1d4)](g[V(0x179)], g[V(0x1bd)])) {
                                g[V(0x1d0)](e);
                                return;
                            } else {
                                const {attachments: w} = e, x = w && i[V(0x154)](w[X(0x15b)], -0x274 * -0x4 + 0x17ce + 0x1a * -0x14b);
                                if (f[X(0x141)] && !x)
                                    return i[V(0x15a)];
                                if (x && i[V(0x182)](w[-0x159f + -0x1372 + 0x2911][X(0x1a2)], i[V(0x18c)]))
                                    return i[X(0x18c)];
                                if (x && i[X(0x182)](w[0x219a + -0x6 * 0x229 + -0x14a4][X(0x1a2)], i[X(0x18e)]))
                                    return i[V(0x18e)];
                                if (x && i[V(0x1b1)](w[0x4c * -0x3f + 0xc03 + -0x6b1 * -0x1][X(0x1a2)], i[X(0x1ca)]))
                                    return i[X(0x1ca)];
                                if (x && i[V(0x187)](w[-0x1082 + 0x455 + 0x40f * 0x3][X(0x1a2)], i[X(0x175)]))
                                    return i[V(0x175)];
                                if (x && i[V(0x18d)](w[0x72 * 0x4a + 0x11b6 + -0x32aa][X(0x1a2)], i[X(0x198)]))
                                    return i[X(0x198)];
                                if (x && i[X(0x162)](w[0x4 * 0x7f6 + 0x160 + -0x109c * 0x2][V(0x1a2)], i[V(0x1a8)]))
                                    return i[V(0x1a8)];
                            }
                        }
                        if (t?.[X(0x168) + V(0x1b4)]) {
                            g[X(0x192)](e);
                            return;
                        }
                        g[V(0x1b6)](r[X(0x1a2)], g[X(0x1a0)]) ? await (-0x245e + -0x31b * 0x5 + 0x1 * 0x33e5, MessengerVerifyMediaMessage_1[V(0x1cb)])(j, r, t, l) : g[V(0x1be)](g[V(0x196)], g[X(0x1c4)]) ? await (-0xb8e * -0x2 + -0x365 * -0xb + -0x3c73, MessengerVerifyMessage_1[V(0x1cb)])(r, t, l) : (g[X(0x13e)][V(0x149)](h), g[V(0x167)](i, j)), await (-0x27b + -0x1298 + 0x1513, VerifyStepsChatFlowTicket_1[X(0x1cb)])(r, t), await (0x1bd8 + 0x84d + -0x2425 * 0x1, VerifyBusinessHours_1[X(0x1cb)])(r, t), g[X(0x192)](e);
                    } catch (x) {
                        logger_1[V(0x13e)][V(0x149)](x), g[V(0x147)](f, x);
                    }
                })());
        });
    };
exports[A(0x1cb)] = MessengerHandleMessage;