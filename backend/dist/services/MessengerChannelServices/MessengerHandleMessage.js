'use strict';
function a() {
    const U = [
        'object',
        'fallback',
        'MpXTL',
        'PSiGu',
        'XAkVS',
        'RDSwB',
        'sChatFlowT',
        'THjEg',
        'sender',
        'location',
        'sage',
        'read',
        '4797QeVNiu',
        'isFarewell',
        'rSNdv',
        '../TicketS',
        'mvSph',
        'length',
        'rVerifyMes',
        '../../libs',
        'video',
        'lRTVU',
        'Bot',
        'cvneF',
        'wREYw',
        'aKmGM',
        'rfajc',
        'message',
        'unreadMess',
        'Rjtef',
        '13180DDndaA',
        'YYOxp',
        '__importDe',
        'KujEr',
        'rpBCI',
        'JWeBT',
        'VPvAE',
        'page',
        'fault',
        's/logger',
        'timestamp',
        'iITcJ',
        '720bxSmhI',
        'QvhTx',
        'rVerifyCon',
        'Cuwpz',
        '../ChatFlo',
        'gfWIC',
        'pZJbw',
        'messenger',
        'default',
        'CcfFf',
        'text',
        'VerifyStep',
        '1801432eGXpgr',
        'whatsappId',
        'iRLBv',
        'lUqaE',
        '12126800hepDvP',
        'fbPageId',
        'buNSn',
        'error',
        '/messenger',
        'rVerifyMed',
        'qYqoV',
        'fmdRx',
        'wrkpn',
        'TchLt',
        '6AOIORm',
        'SNBKn',
        'tenantId',
        '991032hXMzkW',
        'LBvNg',
        'channel',
        'icket',
        'NLECg',
        '2149290XSlaJP',
        'msg',
        'mcCKO',
        'rcqID',
        'ervices/Fi',
        '593386lUMiUB',
        'iaMessage',
        'eihtX',
        'messaging',
        'shift',
        'yMtfS',
        'urs',
        'ZuORn',
        'kdPNj',
        'Message',
        'TmDGI',
        'rMarkRead',
        '__esModule',
        'RHFJJ',
        'IoIbC',
        'image',
        '../../util',
        'erty',
        'rrIqP',
        'fURZn',
        'QIeuw',
        'ers/Verify',
        'EaRJr',
        'type',
        'oyseB',
        'logger',
        'QAnln',
        'bTUiM',
        'entry',
        'DYhIB',
        'dzQNp',
        'nzOOv',
        'defineProp',
        'audio',
        'yCNRt',
        'crWnb',
        '../WbotSer',
        'isCampaign',
        'dXtXb',
        'ice',
        'ndOrCreate',
        'contact',
        'gnJai',
        'getMesseng',
        'ages',
        'SWibm',
        'gITYg',
        'bZHET',
        './Messenge',
        'wServices/',
        'rShowChann',
        'BusinessHo',
        '1768EAKjIB',
        'mid',
        'rmZOD',
        'value',
        'TlFDc',
        'erBot',
        'hdvMk',
        'file',
        'dzZXu',
        'TicketServ',
        'vices/help',
        'tact'
    ];
    a = function () {
        return U;
    };
    return a();
}
const C = b, D = b;
(function (c, d) {
    const A = b, B = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(A(0xbb)) / (-0x8ff * -0x3 + -0x11 * 0x57 + 0x1 * -0x1535) + parseInt(A(0xb1)) / (-0x8 * -0x92 + 0x5 * 0x3ad + -0x16ef) * (-parseInt(B(0xae)) / (-0x1 * 0x21 + 0x411 + -0x3ed)) + -parseInt(A(0xa0)) / (-0x7 * 0x50b + 0x7f + 0x2 * 0x1169) + parseInt(B(0x119)) / (-0xa6b + -0x824 * 0x3 + 0x22dc) * (parseInt(A(0x125)) / (-0x3 * 0x8f5 + -0x104e + -0x1 * -0x2b33)) + parseInt(A(0xa4)) / (0x1a32 + -0x8f4 * -0x1 + -0x231f) + parseInt(A(0xef)) / (-0x62a + 0x6a6 * 0x5 + 0x2 * -0xd86) * (-parseInt(B(0x107)) / (-0x1af0 + -0x2561 + 0x1 * 0x405a)) + -parseInt(A(0xb6)) / (-0x2 * 0x826 + 0xe6f * -0x1 + 0x1ec5);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x1 * -0x190817 + 0x1683 * 0xb3 + 0x3eeba * -0x7));
var __importDefault = this && this[C(0x11b) + C(0x121)] || function (c) {
    const E = C;
    return c && c[E(0xc7)] ? c : { 'default': c };
};
const k = {};
k[D(0xf2)] = !![], Object[C(0xdb) + D(0xcc)](exports, C(0xc7), k);
const logger_1 = require(D(0xcb) + D(0x122)), FindOrCreateTicketService_1 = __importDefault(require(C(0x10a) + C(0xba) + C(0xe3) + D(0xf8) + D(0xe2))), messengerBot_1 = require(C(0x10e) + C(0xa8) + D(0x111)), MessengerVerifyContact_1 = __importDefault(require(C(0xeb) + C(0x127) + C(0xfa))), MessengerVerifyMessage_1 = __importDefault(require(C(0xeb) + D(0x10d) + C(0x105))), MessengerVerifyMediaMessage_1 = __importDefault(require(D(0xeb) + D(0xa9) + D(0xbc))), VerifyStepsChatFlowTicket_1 = __importDefault(require(D(0x98) + C(0xec) + D(0x9f) + C(0x101) + C(0xb4))), MessengerMarkRead_1 = __importDefault(require(D(0xeb) + D(0xc6))), MessengerShowChannel_1 = __importDefault(require(D(0xeb) + C(0xed) + 'el')), VerifyBusinessHours_1 = __importDefault(require(C(0xdf) + D(0xf9) + D(0xd0) + D(0xee) + C(0xc1))), getMessageType = d => {
        const F = C, G = C, e = {};
        e[F(0x9d)] = function (i, j) {
            return i > j;
        }, e[G(0xf5)] = G(0x9e), e[F(0xa3)] = function (i, j) {
            return i === j;
        }, e[F(0xf7)] = F(0xca), e[G(0x102)] = G(0xdc), e[F(0x100)] = function (i, j) {
            return i === j;
        }, e[G(0xd5)] = G(0x10f), e[F(0x11a)] = G(0x104), e[G(0x9a)] = function (i, j) {
            return i === j;
        }, e[G(0x99)] = G(0xf6), e[G(0x11f)] = F(0xfc);
        const f = e, {attachments: g} = d, h = g && f[G(0x9d)](g[F(0x10c)], -0x18da + 0x3b * 0x39 + 0xbb7);
        if (d[G(0x9e)] && !h)
            return f[G(0xf5)];
        if (h && f[F(0xa3)](g[-0x2 * 0xe3b + -0x234d + 0x3fc3][F(0xd2)], f[F(0xf7)]))
            return f[G(0xf7)];
        if (h && f[F(0xa3)](g[-0x4ff * 0x3 + 0xf6 + 0x3 * 0x4ad][F(0xd2)], f[F(0x102)]))
            return f[G(0x102)];
        if (h && f[G(0x100)](g[0x1 * 0xa2e + 0x1 * 0x25d9 + -0x3007][F(0xd2)], f[F(0xd5)]))
            return f[F(0xd5)];
        if (h && f[F(0xa3)](g[0x1001 + -0x187e + 0x87d][G(0xd2)], f[G(0x11a)]))
            return f[F(0x11a)];
        if (h && f[G(0x9a)](g[0x263b + 0x9 * 0x3f + 0x1439 * -0x2][F(0xd2)], f[F(0x99)]))
            return f[F(0x99)];
        if (h && f[F(0x100)](g[-0x1 * -0x11c5 + 0x2bd + -0x1482][F(0xd2)], f[F(0x11f)]))
            return f[F(0x11f)];
    }, MessengerHandleMessage = async c => {
        const H = D, I = D, d = {
                'fmdRx': function (e) {
                    return e();
                },
                'PSiGu': function (e, f) {
                    return e === f;
                },
                'QvhTx': H(0xda),
                'wREYw': I(0xc9),
                'kdPNj': function (e, f) {
                    return e !== f;
                },
                'ZuORn': I(0x120),
                'NLECg': H(0x112),
                'rcqID': function (e, f) {
                    return e(f);
                },
                'qYqoV': H(0x9b),
                'XAkVS': H(0xe5),
                'MpXTL': function (e) {
                    return e();
                },
                'rrIqP': I(0x124),
                'Cuwpz': function (e) {
                    return e();
                },
                'TmDGI': H(0x9e),
                'rfajc': function (e, f) {
                    return e === f;
                },
                'iRLBv': I(0xe9),
                'rSNdv': I(0xc0),
                'LBvNg': function (e, f) {
                    return e !== f;
                },
                'QIeuw': I(0x11d),
                'aKmGM': I(0xaf),
                'dzQNp': function (e) {
                    return e();
                },
                'rmZOD': function (e, f) {
                    return e > f;
                },
                'DYhIB': I(0xca),
                'buNSn': H(0xdc),
                'SWibm': I(0x10f),
                'Rjtef': H(0x104),
                'bZHET': I(0xf6),
                'fURZn': function (e, f) {
                    return e === f;
                },
                'TchLt': H(0xfc),
                'eihtX': function (e, f) {
                    return e(f);
                }
            };
        return new Promise((e, f) => {
            const L = H, N = H, g = {
                    'crWnb': function (h) {
                        const J = b;
                        return d[J(0x97)](h);
                    },
                    'dXtXb': function (h, i) {
                        const K = b;
                        return d[K(0xf1)](h, i);
                    },
                    'wrkpn': d[L(0xc5)],
                    'yCNRt': function (h, i) {
                        const M = L;
                        return d[M(0xfe)](h, i);
                    },
                    'lRTVU': d[N(0xd8)],
                    'JWeBT': function (h, i) {
                        const O = L;
                        return d[O(0x115)](h, i);
                    },
                    'RHFJJ': d[N(0xa6)],
                    'mvSph': d[N(0xe8)],
                    'oyseB': d[L(0x118)],
                    'KujEr': d[L(0xea)],
                    'mcCKO': function (h, i) {
                        const P = N;
                        return d[P(0xce)](h, i);
                    },
                    'TlFDc': d[L(0xad)],
                    'EaRJr': function (h, i) {
                        const Q = L;
                        return d[Q(0xbd)](h, i);
                    }
                };
            ((async () => {
                const S = N, T = L, h = {
                        'bTUiM': function (m) {
                            const R = b;
                            return d[R(0xab)](m);
                        }
                    };
                let i, j;
                const l = -0x1b0a * 0x1 + 0x1d6d + -0x262;
                try {
                    if (d[S(0xfe)](d[S(0x126)], d[T(0x113)])) {
                        g[S(0xde)](d);
                        return;
                    } else {
                        if (d[T(0xc3)](c[S(0xfb)], d[S(0xc2)]))
                            return;
                        const n = c[T(0xd7)][T(0xbf)](), o = n?.[S(0xbe)][T(0xbf)](), p = {};
                        p[S(0xa5)] = n['id'], i = await (0x2708 + -0x785 + -0x1f83, MessengerShowChannel_1[S(0x9c)])(p);
                        if (!i)
                            return;
                        const q = await (0x7 * 0x2fb + 0x2101 + -0x1aef * 0x2, messengerBot_1[S(0xe6) + T(0xf4)])(i['id']);
                        if (!o?.[S(0x116)] && o[S(0x106)]) {
                            if (d[S(0xfe)](d[S(0xb5)], d[S(0xb5)])) {
                                (-0x1 * -0x1b1f + 0x1f25 + -0x3a44, MessengerMarkRead_1[T(0x9c)])(o, i[S(0xb0)]);
                                return;
                            } else {
                                const v = {};
                                return v[S(0x9c)] = j, g && h[T(0xc7)] ? i : v;
                            }
                        }
                        j = await (-0x536 * -0x4 + -0xc31 * 0x2 + 0x38a, MessengerVerifyContact_1[T(0x9c)])(o[T(0x103)], q, i[S(0xb0)]);
                        const r = {
                                ...o,
                                'type': d[T(0xb9)](getMessageType, o[S(0x116)]),
                                'fromMe': ![],
                                'body': o?.[S(0x116)]?.[T(0x9e)] || '',
                                'timestamp': o[T(0x123)],
                                'message_id': o[T(0x116)][S(0xf0)]
                            }, s = {};
                        s[T(0xe4)] = j, s[S(0xa1)] = i['id'], s[S(0x117) + S(0xe7)] = l, s[T(0xb0)] = i[S(0xb0)], s[T(0xb7)] = r, s[S(0xb3)] = d[S(0xaa)];
                        const t = await (0x2 * 0x1e5 + 0x1e94 * 0x1 + -0x225e * 0x1, FindOrCreateTicketService_1[T(0x9c)])(s);
                        if (t?.[T(0xe0) + T(0xc4)]) {
                            if (d[T(0xfe)](d[S(0xff)], d[S(0xff)])) {
                                d[S(0xfd)](e);
                                return;
                            } else {
                                h[S(0xd6)](s);
                                return;
                            }
                        }
                        if (t?.[S(0x108) + T(0xc4)]) {
                            if (d[S(0xfe)](d[T(0xcd)], d[S(0xcd)])) {
                                d[S(0x97)](e);
                                return;
                            } else {
                                const {attachments: x} = e, y = x && g[S(0xe1)](x[S(0x10c)], 0x3e9 + -0x188b + 0x14a2);
                                if (f[S(0x9e)] && !y)
                                    return g[S(0xac)];
                                if (y && g[T(0xdd)](x[0x26ad + -0x1675 + -0x1038][T(0xd2)], g[T(0x110)]))
                                    return g[T(0x110)];
                                if (y && g[T(0x11e)](x[0x2c5 * -0x5 + 0x137d + 0x169 * -0x4][T(0xd2)], g[S(0xc8)]))
                                    return g[T(0xc8)];
                                if (y && g[T(0x11e)](x[-0x1 * -0x1961 + -0x16a3 + -0x2be][T(0xd2)], g[T(0x10b)]))
                                    return g[T(0x10b)];
                                if (y && g[T(0xdd)](x[-0x11f * -0x20 + 0x1744 + -0x3b24][T(0xd2)], g[S(0xd3)]))
                                    return g[T(0xd3)];
                                if (y && g[T(0x11e)](x[-0x72 * 0x41 + -0x32b * 0x3 + 0x2673][S(0xd2)], g[S(0x11c)]))
                                    return g[S(0x11c)];
                                if (y && g[S(0xb8)](x[0x44 * -0x3e + -0xb * -0x1b5 + -0x24f][T(0xd2)], g[T(0xf3)]))
                                    return g[S(0xf3)];
                            }
                        }
                        if (d[S(0xc3)](r[T(0xd2)], d[S(0xc5)])) {
                            if (d[T(0x115)](d[S(0xa2)], d[S(0x109)])) {
                                (-0x18b + 0x1a9 + -0xf * 0x2, f[T(0x9c)])(g, h[S(0xb0)]);
                                return;
                            } else
                                await (0x193b + 0x40f * -0x9 + 0xf1 * 0xc, MessengerVerifyMediaMessage_1[T(0x9c)])(i, r, t, j);
                        } else
                            d[T(0xb2)](d[S(0xcf)], d[S(0x114)]) ? await (0x1 * -0x3eb + 0x713 * 0x1 + 0x2 * -0x194, MessengerVerifyMessage_1[T(0x9c)])(r, t, j) : (g[S(0xd4)][T(0xa7)](h), g[S(0xd1)](i, j));
                        await (0x1 * -0x3a0 + -0x2f * -0x8f + 0x16a1 * -0x1, VerifyStepsChatFlowTicket_1[T(0x9c)])(r, t), await (0x7b5 * -0x1 + -0xbb7 * -0x1 + -0x402, VerifyBusinessHours_1[S(0x9c)])(r, t), d[T(0xd9)](e);
                    }
                } catch (z) {
                    logger_1[S(0xd4)][S(0xa7)](z), d[S(0xb9)](f, z);
                }
            })());
        });
    };
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x671 * 0x3 + 0x1 * -0x20cb + -0x3d * -0x3b);
        let h = e[f];
        return h;
    }, b(c, d);
}
exports[D(0x9c)] = MessengerHandleMessage;