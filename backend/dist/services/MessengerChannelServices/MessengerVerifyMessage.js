'use strict';const m=b,o=b;function a(){const r=['body','type','__esModule','47780DjvHJI','../../helpers/getQuotedForMessageId','2620938ZbKMdk','9314438eETjae','1021810RHNJLR','mid','default','text','../MessageServices/CreateMessageService','received','213mMYnGv','timestamp','getTime','__importDefault','message','tenantId','update','1522385abOBTd','18807472NMWfdw','5724384iiTtzI'];a=function(){return r;};return a();}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0x1b5))/0x1+parseInt(l(0x1a6))/0x2+-parseInt(k(0x1ae))/0x3*(-parseInt(k(0x1a4))/0x4)+parseInt(k(0x1a8))/0x5+-parseInt(l(0x1b7))/0x6+-parseInt(k(0x1a7))/0x7+parseInt(l(0x1b6))/0x8;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xdd619));var __importDefault=this&&this[m(0x1b1)]||function(c){const n=m;return c&&c[n(0x1ba)]?c:{'default':c};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function b(c,d){const e=a();return b=function(f,g){f=f-0x1a4;let h=e[f];return h;},b(c,d);}const getQuotedForMessageId_1=__importDefault(require(o(0x1a5))),CreateMessageService_1=__importDefault(require(m(0x1ac))),MessengerVerifyMessage=async(c,d,e)=>{const p=o,q=m;let f;if(c?.[p(0x1b2)]?.['reply_to']?.[q(0x1a9)]){const h=await(0x0,getQuotedForMessageId_1['default'])(c[p(0x1b2)]['reply_to'][p(0x1a9)],d[q(0x1b3)]);f=h?.['id']||undefined;}const g={'messageId':c['message_id']||'','ticketId':d['id'],'contactId':e['id'],'body':c[p(0x1b2)][q(0x1ab)]||'','fromMe':![],'mediaType':c[q(0x1b9)],'read':![],'quotedMsgId':f,'timestamp':c[q(0x1af)],'status':p(0x1ad)};await d[q(0x1b4)]({'lastMessage':g[q(0x1b8)],'lastMessageAt':new Date()[p(0x1b0)](),'answered':![]}),await(0x0,CreateMessageService_1['default'])({'messageData':g,'tenantId':d['tenantId']});};exports[m(0x1aa)]=MessengerVerifyMessage;