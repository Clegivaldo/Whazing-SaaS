'use strict';const n=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x193))/0x1*(-parseInt(l(0x197))/0x2)+parseInt(k(0x196))/0x3+parseInt(k(0x190))/0x4+parseInt(k(0x189))/0x5*(-parseInt(k(0x18a))/0x6)+-parseInt(k(0x18f))/0x7*(-parseInt(l(0x192))/0x8)+-parseInt(l(0x198))/0x9*(-parseInt(l(0x18b))/0xa)+-parseInt(l(0x186))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x83b58));function a(){const r=['2426775hEKEss','118SAwvxd','189513yORhDc','timestamp','reply_to','20882906cjtWSF','tenantId','body','20gZKdmr','59520ybhdIz','100JTczAb','../MessageServices/CreateMessageService','__esModule','received','6968003KkvRIA','4164944JQwZlq','message','8Hhjhyl','9806zvQosE','mid','default'];a=function(){return r;};return a();}var __importDefault=this&&this['__importDefault']||function(c){const m=b;return c&&c[m(0x18d)]?c:{'default':c};};Object['defineProperty'](exports,n(0x18d),{'value':!![]});const getQuotedForMessageId_1=__importDefault(require('../../helpers/getQuotedForMessageId')),CreateMessageService_1=__importDefault(require(o(0x18c))),MessengerVerifyMessage=async(c,d,e)=>{const p=o,q=n;let f;if(c?.[p(0x191)]?.[p(0x19a)]?.[p(0x194)]){const h=await(0x0,getQuotedForMessageId_1[q(0x195)])(c['message']['reply_to'][q(0x194)],d[q(0x187)]);f=h?.['id']||undefined;}const g={'messageId':c['message_id']||'','ticketId':d['id'],'contactId':e['id'],'body':c[p(0x191)]['text']||'','fromMe':![],'mediaType':c['type'],'read':![],'quotedMsgId':f,'timestamp':c[p(0x199)],'status':p(0x18e)};await d['update']({'lastMessage':g[q(0x188)],'lastMessageAt':new Date()['getTime'](),'answered':![]}),await(0x0,CreateMessageService_1[q(0x195)])({'messageData':g,'tenantId':d[p(0x187)]});};function b(c,d){const e=a();return b=function(f,g){f=f-0x186;let h=e[f];return h;},b(c,d);}exports['default']=MessengerVerifyMessage;