'use strict';const o=b,q=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x18d;let h=e[f];return h;},b(c,d);}(function(c,d){const m=b,n=b,e=c();while(!![]){try{const f=-parseInt(m(0x1a2))/0x1+parseInt(m(0x1a7))/0x2+parseInt(m(0x19b))/0x3*(-parseInt(m(0x196))/0x4)+-parseInt(n(0x1a4))/0x5*(parseInt(n(0x18f))/0x6)+-parseInt(m(0x191))/0x7*(parseInt(m(0x1a8))/0x8)+-parseInt(m(0x193))/0x9+-parseInt(n(0x1a0))/0xa*(-parseInt(n(0x19c))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x80135));var __importDefault=this&&this[o(0x1a5)]||function(c){const p=o;return c&&c[p(0x1a6)]?c:{'default':c};};Object['defineProperty'](exports,o(0x1a6),{'value':!![]});const CreateMessageService_1=__importDefault(require(o(0x19d))),GetMediaWaba360_1=__importDefault(require('./GetMediaWaba360')),VerifyMediaMessage=async(c,d,e,f)=>{const r=q,s=q;let g;try{g=await(0x0,GetMediaWaba360_1['default'])({'channel':c,'msg':d,'ticket':e});}catch(k){}let h;if(![r(0x19f),s(0x192),s(0x194)][r(0x199)](d[r(0x18e)])){const l=d;h=l[d[s(0x18e)]]['id'];}const i={'messageId':d['id']||'','ticketId':e['id'],'contactId':d['fromMe']?undefined:f['id'],'body':d?.[r(0x19f)]?.[s(0x195)]||g||'','fromMe':d[s(0x197)],'read':d[r(0x197)],'mediaUrl':g,'mediaType':d[s(0x18e)],'timestamp':+d[r(0x1a3)],'wabaMediaId':h,'status':d['fromMe']?r(0x190):s(0x18d)};await e[s(0x19a)]({'lastMessage':d?.[r(0x19f)]?.['body']||g,'lastMessageAt':new Date()[s(0x19e)](),'answered':d[r(0x197)]||![]});const j=await(0x0,CreateMessageService_1[s(0x1a1)])({'messageData':i,'tenantId':e[s(0x198)]});return j;};function a(){const t=['includes','update','3PUVqDw','11wqCEUh','../MessageServices/CreateMessageService','getTime','text','20090830eXlFxc','default','360633daqDJS','timestamp','376710OJRYtS','__importDefault','__esModule','1744698LpMrfX','8BWeCbg','received','type','48RoNwjU','sended','1200262aabKUC','chat','7007193AzsbCl','template','body','1773692FZcxrK','fromMe','tenantId'];a=function(){return t;};return a();}exports[o(0x1a1)]=VerifyMediaMessage;