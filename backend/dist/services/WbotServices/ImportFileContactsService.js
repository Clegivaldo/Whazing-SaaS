'use strict';
const W = b, X = b;
(function (c, d) {
    const U = b, V = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(U(0xd5)) / (0x4 * 0x2 + -0x2 * 0x90c + -0x5 * -0x39d) * (-parseInt(V(0x90)) / (-0xb * -0x191 + 0x10 * -0x18 + -0xfb9)) + -parseInt(V(0xbd)) / (-0x16d3 + -0x2678 + -0x2 * -0x1ea7) + parseInt(U(0xb1)) / (0xb5 * -0x9 + -0x7 * 0x2e9 + 0x2 * 0xd60) + -parseInt(U(0x8d)) / (0x166f + 0xaea + 0x855 * -0x4) + parseInt(U(0xe6)) / (-0x2361 + -0x1ae6 + -0x185 * -0x29) * (parseInt(U(0x98)) / (-0x77 * -0x5 + -0x8e1 + 0x695)) + -parseInt(V(0x102)) / (-0xdb5 + -0x206b + -0x698 * -0x7) * (parseInt(U(0x7d)) / (0x244 + -0x2 * -0x11d6 + 0x1f * -0x139)) + -parseInt(U(0xc4)) / (0x10c5 + 0x1e8 + 0x12a3 * -0x1) * (parseInt(V(0xe9)) / (0x1533 + 0x1522 + -0x2a4a));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x3 * 0x13d57 + 0xc7f1 + -0x5ad46 * -0x1));
var __importDefault = this && this[W(0xe0) + X(0xd8)] || function (c) {
    const Y = W;
    return c && c[Y(0xbe)] ? c : { 'default': c };
};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x1b62 + 0x8ad * -0x2 + 0x98b * -0x1);
        let h = e[f];
        return h;
    }, b(c, d);
}
function a() {
    const a3 = [
        '31FDcLJd',
        'ls/Contact',
        'mJxnx',
        'fault',
        'forEach',
        'AFAds',
        'where',
        'SbCem',
        'YYUKD',
        'kgJdX',
        'ImportFile',
        '__importDe',
        'jid',
        'ZTtzU',
        'hcjfJ',
        'sheet_to_j',
        'header',
        '174QBHPhH',
        '../../libs',
        'NOT_FOUND_',
        '605Imayiq',
        'HZATx',
        'nome',
        'findOrCrea',
        'Número',
        'GRbYL',
        'numero',
        'sRgak',
        'LGKtr',
        'dTIOQ',
        'path',
        'lcdWy',
        'QasBM',
        '@$s.whatsa',
        'son',
        'name',
        'has',
        'pp.net',
        'iHBtT',
        'default',
        'Número\x20não',
        'setTags',
        '\x20é\x20uma\x20con',
        'error',
        'xlsx',
        '46328SiXbiz',
        'usNkR',
        'LFctc',
        'lodash',
        'QufyH',
        'QwDDZ',
        'E-mail',
        '45FSomFs',
        'head',
        'tJOzT',
        'push',
        'MUsYk',
        'setWallets',
        '../../erro',
        'gdOfB',
        'JWaPB',
        'urfeE',
        'KaQIC',
        'GfgWI',
        'bcDDz',
        'eys',
        'replace',
        'HTHja',
        '1284570rYmqIM',
        'exists',
        'TbVrf',
        '7246ITCKoW',
        '/wbot-bail',
        'zQNGA',
        'HSrFt',
        'values',
        'oioZO',
        'e-mail',
        'rs/AppErro',
        '59234PkXZVk',
        'lNLHb',
        'WHATSAPP_C',
        'whatsapp',
        'wKVWh',
        'rRNVn',
        'Nome',
        'CONNECTED',
        'XgapP',
        'Numero',
        'Qqktr',
        'DRpHr',
        'TDdnt',
        'number',
        'CPDJn',
        'número',
        'email',
        'value',
        'bRNpL',
        'ls/Whatsap',
        'ta\x20válida\x20',
        'DXGgO',
        'ContactsSe',
        'tenantId',
        'WIEPI',
        '1160860HVukKr',
        'erty',
        'T_FOUND',
        'Email',
        'dazxr',
        'onWhatsApp',
        'ONNECTED',
        'YxFEU',
        'fXfDp',
        'split',
        'IqYwW',
        'status',
        '369948NcnGSH',
        '__esModule',
        'UFalj',
        'getWbot',
        'through',
        'readFile',
        'length',
        '10770LklkzT',
        'defineProp',
        'CONTACT_NO',
        '../../mode',
        'Sheets',
        'type',
        'VpjZb',
        'mUagd',
        'eKuUl',
        'mquXQ',
        'utils',
        'AxAuP',
        'FGmyb',
        'defaults',
        'rvice',
        'kCofd',
        'findOne'
    ];
    a = function () {
        return a3;
    };
    return a();
}
const q = {};
q[X(0xa9)] = !![], Object[W(0xc5) + W(0xb2)](exports, W(0xbe), q), exports[X(0xdf) + W(0xae) + W(0xd2)] = void (0x5 * -0x239 + 0x1193 + -0x676);
const lodash_1 = require(W(0x105)), xlsx_1 = __importDefault(require(X(0x101))), Contact_1 = __importDefault(require(X(0xc7) + W(0xd6))), Whatsapp_1 = __importDefault(require(W(0xc7) + X(0xab) + 'p')), AppError_1 = __importDefault(require(X(0x83) + X(0x97) + 'r')), wbot_baileys_1 = require(X(0xe7) + W(0x91) + W(0x8a));
async function ImportFileContactsService(m, n, o, p) {
    const Z = W, a0 = X, r = {};
    r[Z(0xa0)] = a0(0xe8) + Z(0x9a) + Z(0xb7), r[a0(0x99)] = a0(0xa7), r[Z(0x104)] = Z(0xed), r[Z(0xee)] = function (z, A) {
        return z === A;
    }, r[Z(0x84)] = a0(0xde), r[a0(0xca)] = Z(0xeb), r[a0(0xda)] = Z(0x9e), r[Z(0xb0)] = a0(0xa6), r[a0(0xd7)] = a0(0xef), r[a0(0x7f)] = Z(0xa1), r[Z(0xe2)] = function (z, A) {
        return z !== A;
    }, r[Z(0xf5)] = a0(0xcc), r[a0(0xdc)] = a0(0xe3), r[Z(0x85)] = Z(0xa8), r[Z(0xfb)] = Z(0x96), r[Z(0x8c)] = Z(0xb4), r[Z(0x8f)] = a0(0x108), r[Z(0x106)] = a0(0xa4), r[a0(0xaa)] = a0(0xbb), r[Z(0xcd)] = function (z, A) {
        return z || A;
    }, r[a0(0xa3)] = function (z, A) {
        return z && A;
    }, r[a0(0xbf)] = function (z, A) {
        return z >= A;
    }, r[a0(0x87)] = function (z, A) {
        return z !== A;
    }, r[a0(0xcf)] = Z(0x95), r[Z(0x107)] = a0(0xc6) + Z(0xb3), r[Z(0x9c)] = Z(0x9f), r[a0(0x103)] = a0(0x9b), r[a0(0xb8)] = function (z, A) {
        return z !== A;
    }, r[a0(0xf1)] = a0(0x9d), r[Z(0xd0)] = Z(0xb9), r[a0(0x81)] = function (z, A) {
        return z == A;
    }, r[Z(0xf4)] = function (z, A) {
        return z === A;
    }, r[Z(0xf0)] = a0(0xdd), r[Z(0xd3)] = Z(0x93), r[a0(0xea)] = Z(0x88), r[Z(0x89)] = function (z, A) {
        return z === A;
    }, r[Z(0xf2)] = a0(0x92), r[Z(0xad)] = a0(0x86);
    const s = r, t = xlsx_1[Z(0xfc)][a0(0xc2)](n?.[a0(0xf3)]), u = (0x15 * 0x8f + -0x1e89 * -0x1 + -0x2a44, lodash_1[a0(0x7e)])(Object[Z(0x94)](t[Z(0xc8)])), v = {};
    v[a0(0xe5)] = 0x0;
    const w = xlsx_1[a0(0xfc)][Z(0xce)][a0(0xe4) + a0(0xf7)](u, v), x = [];
    w[Z(0xd9)](z => {
        const a1 = Z, a2 = Z, A = {};
        A[a1(0xb5)] = s[a1(0xa0)], A[a2(0xcb)] = s[a1(0x99)], A[a2(0xa2)] = s[a2(0x104)];
        const B = A;
        if (s[a1(0xee)](s[a1(0x84)], s[a1(0x84)])) {
            let C = '', D = '', E = '';
            if ((0x192 + -0x2707 + 0xdf * 0x2b, lodash_1[a1(0xf9)])(z, s[a1(0xca)]) || (-0x4 * 0x17e + 0x1f * -0xbb + 0x5 * 0x5b9, lodash_1[a1(0xf9)])(z, s[a1(0xda)])) {
                if (s[a1(0xee)](s[a1(0xb0)], s[a1(0xb0)]))
                    C = z[a1(0xeb)] || z[a1(0x9e)];
                else {
                    const G = {};
                    return G[a2(0xfc)] = j, g && h[a1(0xbe)] ? i : G;
                }
            }
            if ((-0x2099 + 0x13b2 + 0xce7, lodash_1[a2(0xf9)])(z, s[a2(0xd7)]) || (0x1c * 0xfb + -0x243 + -0x1931, lodash_1[a1(0xf9)])(z, s[a2(0x99)]) || (0x19f7 + 0x1edf + -0x6 * 0x979, lodash_1[a1(0xf9)])(z, s[a1(0x7f)]) || (-0x17 * -0x21 + 0x974 + -0x11 * 0xbb, lodash_1[a1(0xf9)])(z, s[a1(0x104)])) {
                if (s[a1(0xe2)](s[a1(0xf5)], s[a1(0xdc)]))
                    D = z[a1(0xef)] || z[s[a1(0x99)]] || z[a2(0xa1)] || z[s[a1(0x104)]], D = ('' + D)[a1(0x8b)](/\D/g, '');
                else
                    throw new v[(a2(0xfc))](B[a2(0xb5)], -0x6 * 0x9e + -0x13f2 + -0x1 * -0x193a);
            }
            ((0xc36 + 0x1 * -0x2af + -0x987, lodash_1[a1(0xf9)])(z, s[a2(0x85)]) || (0x1 * -0x16c8 + 0xbe * -0x19 + 0x2956, lodash_1[a1(0xf9)])(z, s[a1(0xfb)]) || (-0x1c15 + 0x15e + 0x1 * 0x1ab7, lodash_1[a2(0xf9)])(z, s[a1(0x8c)]) || (0x1963 + 0xa3 * -0x34 + 0x7b9, lodash_1[a1(0xf9)])(z, s[a1(0x8f)])) && (s[a1(0xe2)](s[a1(0x106)], s[a1(0xaa)]) ? E = z[a2(0xa8)] || z[s[a1(0xfb)]] || z[a2(0xb4)] || z[s[a1(0x8f)]] : A[a2(0x100)](a2(0xfd) + a1(0xff) + a2(0xac) + f[a2(0xa5)]));
            C = s[a1(0xcd)](C, D);
            if (s[a1(0xa3)](C, D) && s[a2(0xbf)](D[a2(0xc3)], 0x1506 + 0x871 + -0x1d6d)) {
                if (s[a2(0x87)](s[a1(0xcf)], s[a2(0xcf)]))
                    j = k[a2(0xef)] || l[B[a2(0xcb)]] || m[a2(0xa1)] || n[B[a2(0xa2)]], o = ('' + p)[a2(0x8b)](/\D/g, '');
                else {
                    const J = {};
                    J[a2(0xf8)] = C, J[a1(0xa5)] = D, J[a2(0xa8)] = E, J[a1(0xaf)] = m, x[a2(0x80)](J);
                }
            }
        } else {
            const L = {};
            L[a2(0xf8)] = i, L[a1(0xa5)] = j, L[a2(0xa8)] = k, L[a2(0xaf)] = l, h[a2(0x80)](L);
        }
    });
    const y = [];
    for (const z of x) {
        try {
            z[a0(0xa5)] = z[Z(0xa5)][Z(0x8b)]('-', '')[Z(0x8b)]('\x20', '')[a0(0x8b)]('(', '')[Z(0x8b)](')', '');
            const A = {};
            A[Z(0xbc)] = s[a0(0x9c)], A[Z(0xaf)] = m, A[a0(0xc9)] = s[a0(0x103)];
            const B = {};
            B[a0(0xdb)] = A;
            const C = await Whatsapp_1[a0(0xfc)][Z(0xd4)](B);
            if (!C) {
                if (s[Z(0xb8)](s[Z(0xf1)], s[a0(0xd0)]))
                    throw new AppError_1[(a0(0xfc))](s[Z(0xa0)], -0x63 * 0x47 + -0x23b9 + 0x1596 * 0x3);
                else
                    B = G[a0(0xeb)] || H[a0(0x9e)];
            }
            const D = (0xbf3 + 0xc23 + -0xc0b * 0x2, wbot_baileys_1[Z(0xc0)])(C['id']), E = z[Z(0xa5)] + (a0(0xf6) + Z(0xfa)), F = await D[Z(0xb6)](E);
            if (s[a0(0x81)](F[0x3a9 * -0x1 + 0x1a50 + -0x16a7][a0(0x8e)], ![])) {
                if (s[a0(0xf4)](s[Z(0xf0)], s[a0(0xd3)]))
                    A[a0(0x80)](B);
                else
                    throw new AppError_1[(Z(0xfc))](s[Z(0x107)], -0x15ce * -0x1 + -0x254a + 0x1110);
            }
            z[a0(0xa5)] = F[0x1096 + 0x72 + -0x6d * 0x28][Z(0xe1)][a0(0xba)]('@')[0x25a4 + -0x335 * -0x9 + 0x162b * -0x3];
            const G = {};
            G[a0(0xa5)] = z[Z(0xa5)], G[a0(0xaf)] = z[a0(0xaf)];
            const H = {};
            H[a0(0xdb)] = G, H[a0(0xd1)] = z;
            const [I, J] = await Contact_1[a0(0xfc)][Z(0xec) + 'te'](H), K = I;
            J && (s[a0(0xf4)](s[Z(0xea)], s[a0(0xea)]) ? y[Z(0x80)](I) : H = i[a0(0xa8)] || j[s[Z(0xfb)]] || k[Z(0xb4)] || l[s[a0(0x8f)]]);
            if (o?.[a0(0xc3)]) {
                if (s[Z(0x89)](s[a0(0xf2)], s[a0(0xad)]))
                    throw new v[(Z(0xfc))](s[Z(0x107)], 0x1 * 0x1e2b + -0xcce + -0x1c1 * 0x9);
                else {
                    const P = {};
                    P[a0(0xaf)] = m;
                    const Q = {};
                    Q[Z(0xc1)] = P, await K[a0(0xfe)](o, Q);
                }
            }
            if (p?.[Z(0xc3)]) {
                const R = {};
                R[a0(0xaf)] = m;
                const S = {};
                S[Z(0xc1)] = R, await K[a0(0x82)](p, S);
            }
        } catch (T) {
            console[Z(0x100)](Z(0xfd) + a0(0xff) + Z(0xac) + z[a0(0xa5)]);
        }
    }
    return y;
}
exports[X(0xdf) + X(0xae) + X(0xd2)] = ImportFileContactsService;