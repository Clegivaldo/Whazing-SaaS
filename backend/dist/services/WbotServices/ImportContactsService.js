'use strict';function a(){const V=['warn','ewlkl','__createBinding','857745iFVKtC','stringify','create','../ContactServices/CreateContactService','__esModule','forEach','Não\x20foi\x20possível\x20obter\x20os\x20contatos\x20do\x20WhatsApp\x20do\x20telefone.\x20Err:\x20','contacts','__setModuleDefault','captureException','1752388KRjRnR','lodash','../BaileysServices/ShowBaileysService','default','defineProperty','log','Jatve','get','6VZpjoA','status@broadcast','jEEqL','getOwnPropertyDescriptor','GvaBS','status','includes','isString','__importDefault','JBOaF','__importStar','../../libs/wbot-baileys','3MYiGPY','Não\x20foi\x20possível\x20obter\x20os\x20contatos\x20do\x20WhatsApp\x20do\x20telefone.\x20Erro:\x20','566448TIyXTD','hasOwnProperty','JvOgV','85361FjnDPi','parse','../../utils/logger','writable','error','logger','41713iGvwCf','../../models/Contact','536vZpFrA','findOne','../../models/Whatsapp','@sentry/node','g.us','NjJbZ','1075734VJgBBC','Whatsapp\x20selecionado\x20não\x20esta\x20conectado','110eSAIgE','592537DvKJOV','configurable','call'];a=function(){return V;};return a();}const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=-parseInt(G(0xf7))/0x1*(parseInt(G(0xe6))/0x2)+parseInt(G(0xf2))/0x3*(-parseInt(H(0xde))/0x4)+parseInt(H(0x10e))/0x5+-parseInt(G(0xf4))/0x6+-parseInt(H(0xfd))/0x7*(-parseInt(G(0xff))/0x8)+-parseInt(H(0x105))/0x9+parseInt(H(0x107))/0xa*(parseInt(H(0x108))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x3e4f9));function b(c,d){const e=a();return b=function(f,g){f=f-0xde;let h=e[f];return h;},b(c,d);}var __createBinding=this&&this[I(0x10d)]||(Object[I(0x110)]?function(c,d,e,f){const K=J,L=I;if(f===undefined)f=e;var g=Object[K(0xe9)](d,e);(!g||('get'in g?!d[L(0x112)]:g[L(0xfa)]||g[L(0x109)]))&&(g={'enumerable':!![],'get':function(){return d[e];}}),Object[L(0xe2)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[I(0x116)]||(Object[I(0x110)]?function(c,d){const M=I,N=J;Object[M(0xe2)](c,N(0xe1),{'enumerable':!![],'value':d});}:function(c,d){const O=I;c[O(0xe1)]=d;}),__importStar=this&&this[I(0xf0)]||function(c){const P=I,Q=J;if(c&&c[P(0x112)])return c;var d={};if(c!=null){for(var e in c)if(e!==P(0xe1)&&Object['prototype'][P(0xf5)][Q(0x10a)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[I(0xee)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object[J(0xe2)](exports,'__esModule',{'value':!![]});const Sentry=__importStar(require(I(0x102))),wbot_baileys_1=require(I(0xf1)),Contact_1=__importDefault(require(I(0xfe))),logger_1=require(I(0xf9)),ShowBaileysService_1=__importDefault(require(J(0xe0))),CreateContactService_1=__importDefault(require(J(0x111))),lodash_1=require(I(0xdf)),Whatsapp_1=__importDefault(require(I(0x101))),AppError_1=__importDefault(require('../../errors/AppError')),ImportContactsService=async(c,d)=>{const R=I,S=J,e=(0x0,wbot_baileys_1['getWbot'])(d),f=await Whatsapp_1['default']['findByPk'](d);if(f[R(0xeb)]!='CONNECTED')throw new AppError_1[(S(0xe1))](R(0x106));let g;try{if('jOXPM'!==S(0xf6)){const i=await(0x0,ShowBaileysService_1[R(0xe1)])(e['id']);g=JSON[S(0xf8)](JSON[R(0x10f)](i[S(0x115)]));}else{if(k===l)m=n;o[p]=q[r];}}catch(k){S(0xe8)===R(0xe4)?f[R(0xe2)](g,S(0xe1),{'enumerable':!![],'value':h}):(console[R(0xe3)](k),Sentry[R(0x117)](k),logger_1[S(0xfc)][R(0xfb)](R(0x114)+k));}const h=(0x0,lodash_1[R(0xed)])(g)?JSON['parse'](g):g;if((0x0,lodash_1['isArray'])(h)){if('hueOy'===R(0x104)){if(p===q)r=s;var n=t['getOwnPropertyDescriptor'](u,v);(!n||(S(0xe5)in n?!w[S(0x112)]:n[S(0xfa)]||n['configurable']))&&(n={'enumerable':!![],'get':function(){return n[F];}}),z[R(0xe2)](A,B,n);}else h[S(0x113)](async({id:n,name:o,notify:p})=>{const T=R,U=R;if(T(0x10c)===U(0xef))throw new d[(U(0xe1))]('Whatsapp\x20selecionado\x20não\x20esta\x20conectado');else{if(n===T(0xe7)||n[U(0xec)](T(0x103))==='g.us')return;const r=n['replace'](/\D/g,''),s=await Contact_1[U(0xe1)][U(0x100)]({'where':{'number':r,'tenantId':c}});if(!s){if(T(0xea)==='MMcBg')i[T(0x117)](j),k[U(0xe3)](l),m[U(0xfc)]['warn'](U(0xf3)+n);else try{await(0x0,CreateContactService_1[U(0xe1)])({'number':r,'name':o||p,'tenantId':c});}catch(u){Sentry[U(0x117)](u),console[T(0xe3)](u),logger_1[T(0xfc)][T(0x10b)](U(0xf3)+u);}}}});}};exports[I(0xe1)]=ImportContactsService;