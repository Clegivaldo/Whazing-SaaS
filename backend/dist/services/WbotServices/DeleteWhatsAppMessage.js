'use strict';function a(){const r=['s.whatsapp.net','No\x20message\x20found\x20with\x20this\x20ID.','isGroup','findOne','3959488pedIJr','ticket','14814qxvGmj','../../helpers/GetTicketWbotBaileys','__importDefault','key','320FYABnP','contact','828359hVSVxK','update','../../helpers/GetWbotMessageBaileys','dataJson','sendMessage','5500OJhMdb','11caCbUc','160203hnSDtv','67780wjvvNM','2864382jnQDxT','../../models/Message','../../errors/AppError','default','log','parse','36586yCjlAh','__esModule','defineProperty'];a=function(){return r;};return a();}const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x91))/0x1*(-parseInt(l(0x9a))/0x2)+-parseInt(l(0x92))/0x3+-parseInt(l(0x89))/0x4*(-parseInt(k(0x93))/0x5)+-parseInt(l(0x94))/0x6+parseInt(l(0x8b))/0x7+-parseInt(k(0x83))/0x8+-parseInt(l(0x85))/0x9*(-parseInt(k(0x90))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xd7208));function b(c,d){const e=a();return b=function(f,g){f=f-0x80;let h=e[f];return h;},b(c,d);}var __importDefault=this&&this[m(0x87)]||function(c){const n=m;return c&&c[n(0x9b)]?c:{'default':c};};Object[m(0x9c)](exports,m(0x9b),{'value':!![]});const AppError_1=__importDefault(require(o(0x96))),Message_1=__importDefault(require(m(0x95))),Ticket_1=__importDefault(require('../../models/Ticket')),GetTicketWbotBaileys_1=__importDefault(require(m(0x86))),GetWbotMessageBaileys_1=__importDefault(require(m(0x8d))),DeleteWhatsAppMessage=async c=>{const p=o,q=o,d=await Message_1[p(0x97)][q(0x82)]({'where':{'id':c},'include':[{'model':Ticket_1[p(0x97)],'as':q(0x84),'include':[q(0x8a)]}]});if(!d)throw new AppError_1[(p(0x97))](p(0x80));const {ticket:e}=d,f=await(0x0,GetWbotMessageBaileys_1['default'])(e,c);try{const g=await(0x0,GetTicketWbotBaileys_1[p(0x97)])(e),h=f,i=JSON[q(0x99)](h[q(0x8e)]);await g[p(0x8f)](e['contact']['number']+'@'+(e[q(0x81)]?'g.us':p(0x9d)),{'delete':i[p(0x88)]});}catch(j){console[q(0x98)](j);throw new AppError_1[(p(0x97))]('ERR_DELETE_WAPP_MSG');}return await d[p(0x8c)]({'isDeleted':!![]}),d;};exports[m(0x97)]=DeleteWhatsAppMessage;