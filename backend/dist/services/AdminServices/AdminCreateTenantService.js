'use strict';function b(c,d){const e=a();return b=function(f,g){f=f-0x74;let h=e[f];return h;},b(c,d);}function a(){const S=['string','recurrence','object','writable','get','email','dueDate','ownerId','1120059OZioZR','maxUsers','__importStar','call','yup','4hRPMrr','validate','required','__importDefault','__esModule','cnpj','50vxQwtv','hasOwnProperty','1602314cuHwdk','1ezmzKG','4135TByrGq','phone','planId','60VOHFaB','name','update','11452812cJlMOJ','../../errors/AppError','3854873AVKxEt','maxConnections','5134683xEbTdG','12192fKZPYC','shape','message','defineProperty','../SettingServices/CreateDefaultSettings','status','prototype','__createBinding','5215048ebdXTR','CreateTenantService','getOwnPropertyDescriptor','create','configurable','default'];a=function(){return S;};return a();}const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=-parseInt(G(0x87))/0x1*(-parseInt(G(0x86))/0x2)+parseInt(G(0x92))/0x3*(parseInt(G(0x7e))/0x4)+parseInt(G(0x88))/0x5*(-parseInt(H(0x93))/0x6)+-parseInt(H(0x8e))/0x7+parseInt(H(0x9b))/0x8+parseInt(H(0x79))/0x9*(-parseInt(H(0x84))/0xa)+parseInt(H(0x90))/0xb*(parseInt(H(0x8b))/0xc);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xeec3b));var __createBinding=this&&this[I(0x9a)]||(Object[I(0x9e)]?function(c,d,e,f){const K=J,L=J;if(f===undefined)f=e;var g=Object[K(0x9d)](d,e);(!g||(K(0x75)in g?!d[K(0x82)]:g[L(0x74)]||g[K(0x9f)]))&&(g={'enumerable':!![],'get':function(){return d[e];}}),Object[L(0x96)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(c,d){const M=I;Object['defineProperty'](c,M(0xa0),{'enumerable':!![],'value':d});}:function(c,d){const N=J;c[N(0xa0)]=d;}),__importStar=this&&this[J(0x7b)]||function(c){const O=I,P=I;if(c&&c[O(0x82)])return c;var d={};if(c!=null){for(var e in c)if(e!=='default'&&Object[O(0x99)][O(0x85)][O(0x7c)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[I(0x81)]||function(c){return c&&c['__esModule']?c:{'default':c};};Object[I(0x96)](exports,J(0x82),{'value':!![]}),exports[I(0x9c)]=void 0x0;const Yup=__importStar(require(J(0x7d))),AppError_1=__importDefault(require(J(0x8f))),Tenant_1=__importDefault(require('../../models/Tenant')),CreateDefaultSettings_1=__importDefault(require(I(0x97))),CreateTenantService=async({name:c,status:d,cnpj:e,tenantId:f,maxUsers:g,maxConnections:h,phone:i,email:j,planId:k,dueDate:l,recurrence:m})=>{const Q=J,R=I,n=Yup[Q(0xa3)]()[Q(0x94)]({'name':Yup[R(0xa1)]()[Q(0x80)]()['min'](0x2)});try{await n[Q(0x7f)]({'name':c});}catch(r){throw new AppError_1[(Q(0xa0))](r[Q(0x95)]);}const o=await Tenant_1['default'][Q(0x9e)]({'name':c,'status':d,'cnpj':e,'maxUsers':g,'maxConnections':h,'phone':i,'email':j,'planId':k,'dueDate':l,'recurrence':m,'ownerId':f}),p=(0x0,CreateDefaultSettings_1[R(0xa0)])(o['id']);await o[R(0x8d)]({'settings':p});const q={'id':o['id'],'name':o[R(0x8c)],'status':o[Q(0x98)],'cnpj':o[R(0x83)],'maxUsers':o[R(0x7a)],'maxConnections':o[Q(0x91)],'phone':o[R(0x89)],'email':o[R(0x76)],'planId':o[R(0x8a)],'dueDate':o[R(0x77)],'recurrence':o[R(0xa2)],'ownerId':o[R(0x78)]};return q;};exports[J(0x9c)]=CreateTenantService;