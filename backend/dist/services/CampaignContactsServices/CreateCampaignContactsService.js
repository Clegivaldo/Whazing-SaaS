'use strict';const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x8f))/0x1+parseInt(G(0x91))/0x2*(-parseInt(H(0x7a))/0x3)+-parseInt(H(0x85))/0x4*(parseInt(G(0x75))/0x5)+-parseInt(H(0x74))/0x6*(parseInt(G(0x72))/0x7)+-parseInt(G(0x6e))/0x8+parseInt(H(0x79))/0x9*(-parseInt(G(0x86))/0xa)+parseInt(G(0x8e))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x9d9e6));function b(c,d){const e=a();return b=function(f,g){f=f-0x6e;let h=e[f];return h;},b(c,d);}function a(){const Z=['33966438RlXRDZ','99081vrpAPw','tFrwx','14pICqUb','getOwnPropertyDescriptor','woFWV','map','aEIXT','jMQgn','string','__setModuleDefault','validate','KRjWD','../../models/CampaignContacts','create','__createBinding','call','../../errors/AppError','2895128YGNZOi','shape','LqlhY','fIXlG','413rzyDKq','writable','38238drbjTc','15ELxKoO','default','__importDefault','bulkCreate','9FoflOY','223257MDAzYe','message','floor','yup','object','get','defineProperty','array','iTcAT','number','random','1538872FMkjww','1283480lcgUHY','__esModule','contactId','findAll','configurable','IqOKK','required','prototype'];a=function(){return Z;};return a();}var __createBinding=this&&this[I(0x9d)]||(Object[J(0x9c)]?function(c,d,e,f){const K=J,L=I;if(f===undefined)f=e;var g=Object[K(0x92)](d,e);if(!g||('get'in g?!d[K(0x87)]:g[L(0x73)]||g['configurable'])){if(K(0x95)!==L(0x95))throw new e[(L(0x76))](f[K(0x7b)]);else g={'enumerable':!![],'get':function(){return d[e];}};}Object['defineProperty'](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[I(0x98)]||(Object[I(0x9c)]?function(c,d){const M=I;Object[M(0x80)](c,'default',{'enumerable':!![],'value':d});}:function(c,d){const N=J;c[N(0x76)]=d;}),__importStar=this&&this['__importStar']||function(c){const O=J,P=I;if(c&&c[O(0x87)])return c;var d={};if(c!=null){for(var e in c)if(e!==O(0x76)&&Object[P(0x8d)]['hasOwnProperty'][O(0x9e)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[J(0x77)]||function(c){const Q=I;return c&&c[Q(0x87)]?c:{'default':c};};Object[I(0x80)](exports,'__esModule',{'value':!![]});const Yup=__importStar(require(I(0x7d))),AppError_1=__importDefault(require(I(0x9f))),CampaignContacts_1=__importDefault(require(I(0x9b))),CreateCampaignContactsService=async({campaignContacts:c,campaignId:d})=>{const T=I,U=J,e=(j,k)=>{const R=b,S=b;return'LqlhY'!==R(0x70)?e[f]:Math[R(0x7c)](Math[S(0x84)]()*(k-j+0x1))+j;},f=await CampaignContacts_1[T(0x76)][T(0x89)]({'where':{'campaignId':d}}),g=c[U(0x94)](j=>{const V=T,W=T;return V(0x8b)!==W(0x82)?{'contactId':j['id'],'campaignId':d,'messageRandom':W(0x7b)+e(0x1,0x3)}:h['floor'](i[V(0x84)]()*(j-k+0x1))+l;}),h=g['filter'](j=>{const X=T,Y=U,k=f?.['findIndex'](l=>j[X(0x88)]===l[X(0x88)]&&+d===l['campaignId']);if(k===-0x1){if(Y(0x9a)===X(0x96)){if(p===q)r=s;var m=t['getOwnPropertyDescriptor'](u,v);(!m||(Y(0x7f)in m?!w['__esModule']:m['writable']||m[Y(0x8a)]))&&(m={'enumerable':!![],'get':function(){return m[F];}}),z[Y(0x80)](A,B,m);}else return j;}}),i=Yup[U(0x81)]()['of'](Yup[T(0x7e)]()[U(0x6f)]({'messageRandom':Yup[U(0x97)]()['required'](),'campaignId':Yup[T(0x83)]()[T(0x8c)](),'contactId':Yup[U(0x83)]()['required']()}));try{await i[U(0x99)](h);}catch(j){if(T(0x93)==='uvzMq')f={'enumerable':!![],'get':function(){return i[j];}};else throw new AppError_1[(U(0x76))](j[T(0x7b)]);}try{U(0x71)!==T(0x90)?await CampaignContacts_1[U(0x76)][U(0x78)](h):f[T(0x80)](g,'default',{'enumerable':!![],'value':h});}catch(m){throw new AppError_1[(T(0x76))](m['message']);}};exports['default']=CreateCampaignContactsService;