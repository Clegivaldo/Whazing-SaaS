'use strict';
const _0x14892f = _0x59fa;
(function (_0x52ff29, _0x54b976) {
    const _0x2d1dd2 = _0x59fa, _0x449f39 = _0x52ff29();
    while (!![]) {
        try {
            const _0xa93cc4 = parseInt(_0x2d1dd2(0x165)) / (-0x135a + -0x1e90 + 0x31eb) + -parseInt(_0x2d1dd2(0x148)) / (-0xfcb + 0x49d * -0x7 + 0x3018) * (parseInt(_0x2d1dd2(0x157)) / (-0x89f + -0xaf6 + -0x26 * -0x84)) + -parseInt(_0x2d1dd2(0x14c)) / (-0x202d * 0x1 + 0x1615 + -0x287 * -0x4) * (-parseInt(_0x2d1dd2(0x151)) / (-0x16a * -0x1 + -0x8e * 0x2a + -0x7 * -0x321)) + -parseInt(_0x2d1dd2(0x150)) / (0x12af * -0x1 + 0x1c8d + -0x9d8) + -parseInt(_0x2d1dd2(0x14a)) / (-0x533 * -0x7 + 0x5 * -0x691 + -0x389 * 0x1) + parseInt(_0x2d1dd2(0x172)) / (-0x1b5e + -0x419 * -0x5 + 0x6e9 * 0x1) + -parseInt(_0x2d1dd2(0x153)) / (-0x5 * -0x3ec + -0x35 + -0x135e) * (-parseInt(_0x2d1dd2(0x160)) / (-0x75 * -0x1d + 0x1 * -0x1cf7 + 0xfc0));
            if (_0xa93cc4 === _0x54b976)
                break;
            else
                _0x449f39['push'](_0x449f39['shift']());
        } catch (_0x4f16fc) {
            _0x449f39['push'](_0x449f39['shift']());
        }
    }
}(_0x2855, 0x232 * 0x2cd + 0xe82a * -0x5 + 0x2 * 0x1bbd2));
var __importDefault = this && this[_0x14892f(0x162) + _0x14892f(0x182)] || function (_0x5a4da7) {
    const _0x2e4318 = _0x14892f;
    return _0x5a4da7 && _0x5a4da7[_0x2e4318(0x147)] ? _0x5a4da7 : { 'default': _0x5a4da7 };
};
const _0x110260 = {};
_0x110260[_0x14892f(0x15d)] = !![], Object[_0x14892f(0x173) + _0x14892f(0x199)](exports, _0x14892f(0x147), _0x110260);
const axios_1 = __importDefault(require(_0x14892f(0x196))), AppError_1 = __importDefault(require(_0x14892f(0x15e) + _0x14892f(0x143) + 'r')), Whatsapp_1 = __importDefault(require(_0x14892f(0x156) + _0x14892f(0x155) + 'p')), SetLogoutLinkedPage_1 = __importDefault(require(_0x14892f(0x14b) + _0x14892f(0x17b) + 'e')), socket_1 = require(_0x14892f(0x189) + _0x14892f(0x14d)), logger_1 = require(_0x14892f(0x183) + _0x14892f(0x17c)), api_version = _0x14892f(0x191), baseUrl = _0x14892f(0x174) + _0x14892f(0x19a) + _0x14892f(0x16e) + api_version, app_id = process[_0x14892f(0x190)][_0x14892f(0x192) + _0x14892f(0x16a)], app_secret = process[_0x14892f(0x190)][_0x14892f(0x192) + _0x14892f(0x14e) + _0x14892f(0x18b)], getLongLivedAccessToken = async _0x28e31c => {
        const _0x44d2ef = _0x14892f, {data: _0x2ca07c} = await axios_1[_0x44d2ef(0x149)][_0x44d2ef(0x187)](baseUrl + (_0x44d2ef(0x179) + _0x44d2ef(0x164) + _0x44d2ef(0x167) + _0x44d2ef(0x18c) + _0x44d2ef(0x15b) + _0x44d2ef(0x159)) + app_id + (_0x44d2ef(0x15a) + _0x44d2ef(0x16d)) + app_secret + (_0x44d2ef(0x142) + _0x44d2ef(0x17a)) + _0x28e31c);
        return _0x2ca07c[_0x44d2ef(0x188) + 'en'];
    }, getPermanentPageAccessToken = async (_0x572af0, _0x45c046) => {
        const _0x80ebb5 = _0x14892f, {
                data: {data: _0x33dbc1}
            } = await axios_1[_0x80ebb5(0x149)][_0x80ebb5(0x187)](baseUrl + '/' + _0x45c046 + (_0x80ebb5(0x161) + _0x80ebb5(0x188) + _0x80ebb5(0x16c)) + _0x572af0);
        return _0x33dbc1[_0x80ebb5(0x145)] && _0x33dbc1[-0x165f + 0x1efb * 0x1 + 0x2 * -0x44e];
    }, getPageInfo = async (_0x43b137, _0x58e042) => {
        const _0x17f5b5 = _0x14892f, _0x421ea8 = {};
        _0x421ea8[_0x17f5b5(0x17e)] = _0x17f5b5(0x181);
        const _0x305099 = _0x421ea8, _0x472796 = baseUrl + '/' + _0x43b137 + (_0x17f5b5(0x161) + _0x17f5b5(0x16f) + _0x17f5b5(0x176) + 'n=') + _0x58e042, _0x355aaf = {};
        _0x355aaf[_0x17f5b5(0x177)] = _0x305099[_0x17f5b5(0x17e)], _0x355aaf[_0x17f5b5(0x18a)] = _0x472796;
        const {
            data: {data: _0x54f893}
        } = await (-0x2111 + 0x1b35 + 0x5dc, axios_1[_0x17f5b5(0x149)])(_0x355aaf);
        return _0x54f893;
    }, GetTokenAndLinkedPage = async ({
        whatsapp: _0x4c04fe,
        accountId: _0x33cfac,
        userToken: _0x4bdfe1,
        tenantId: _0x5efae9
    }) => {
        const _0x3c4c77 = _0x14892f, _0x363599 = {
                'RaXbA': function (_0x395f7c, _0x193266, _0x33ebd0) {
                    return _0x395f7c(_0x193266, _0x33ebd0);
                },
                'YDlaj': function (_0x10af4e, _0x5ae1c2) {
                    return _0x10af4e > _0x5ae1c2;
                },
                'iHrgp': _0x3c4c77(0x180) + _0x3c4c77(0x19c) + _0x3c4c77(0x18d) + _0x3c4c77(0x19b) + _0x3c4c77(0x140) + _0x3c4c77(0x185) + _0x3c4c77(0x186) + '.',
                'DtKfF': function (_0x1f8a34, _0x5589cd) {
                    return _0x1f8a34 === _0x5589cd;
                },
                'aTMox': function (_0x3533ed, _0xc6161e) {
                    return _0x3533ed(_0xc6161e);
                },
                'oFPfn': function (_0x48183d, _0xc73bbf, _0x3a45f8) {
                    return _0x48183d(_0xc73bbf, _0x3a45f8);
                },
                'PgvIN': _0x3c4c77(0x15c),
                'MpYPU': _0x3c4c77(0x18e)
            };
        try {
            const _0x34fcc8 = (-0x749 + -0x9ac + 0x10f5, socket_1[_0x3c4c77(0x194)])(), _0x275b95 = await _0x363599[_0x3c4c77(0x178)](getPageInfo, _0x33cfac, _0x4bdfe1);
            if (_0x363599[_0x3c4c77(0x146)](_0x275b95[_0x3c4c77(0x145)], -0x134b + 0x28c + 0x10c0))
                throw new AppError_1[(_0x3c4c77(0x149))](_0x363599[_0x3c4c77(0x18f)], 0x1 * -0x1b25 + -0x930 + 0x25e5);
            if (_0x363599[_0x3c4c77(0x163)](_0x275b95[_0x3c4c77(0x145)], 0x28a + -0x4e5 + 0x25b)) {
                const _0xf153f3 = {};
                _0xf153f3[_0x3c4c77(0x141)] = _0x4c04fe, _0xf153f3[_0x3c4c77(0x16b)] = _0x5efae9, await (-0x2106 + -0x131f + -0x3425 * -0x1, SetLogoutLinkedPage_1[_0x3c4c77(0x149)])(_0xf153f3);
                return;
            }
            const _0x1b7bee = await _0x363599[_0x3c4c77(0x169)](getLongLivedAccessToken, _0x4bdfe1), _0x146a7a = await _0x363599[_0x3c4c77(0x152)](getPermanentPageAccessToken, _0x1b7bee, _0x33cfac), _0x30696d = {};
            _0x30696d[_0x3c4c77(0x15f)] = _0x363599[_0x3c4c77(0x184)], _0x30696d[_0x3c4c77(0x171)] = _0x146a7a['id'], _0x30696d[_0x3c4c77(0x168)] = { ..._0x146a7a }, _0x30696d[_0x3c4c77(0x17f)] = _0x146a7a[_0x3c4c77(0x188) + 'en'], _0x30696d[_0x3c4c77(0x168)][_0x3c4c77(0x144)] = _0x33cfac, _0x30696d[_0x3c4c77(0x168)][_0x3c4c77(0x198) + _0x3c4c77(0x14f) + _0x3c4c77(0x195)] = _0x1b7bee;
            const _0x501216 = _0x30696d, _0x1873da = {};
            _0x1873da['id'] = _0x4c04fe['id'], _0x1873da[_0x3c4c77(0x16b)] = _0x5efae9;
            const _0x2a1d1c = {};
            _0x2a1d1c[_0x3c4c77(0x158)] = _0x1873da, Whatsapp_1[_0x3c4c77(0x149)][_0x3c4c77(0x18e)](_0x501216, _0x2a1d1c);
            const _0x77866e = {
                    ..._0x4c04fe,
                    ..._0x501216
                }, _0x1bd1d0 = {};
            _0x1bd1d0[_0x3c4c77(0x197)] = _0x363599[_0x3c4c77(0x17d)], _0x1bd1d0[_0x3c4c77(0x13f)] = _0x77866e, _0x34fcc8[_0x3c4c77(0x154)](_0x5efae9 + (_0x3c4c77(0x170) + _0x3c4c77(0x166)), _0x1bd1d0);
        } catch (_0x484bed) {
            logger_1[_0x3c4c77(0x193)][_0x3c4c77(0x175)](_0x484bed);
            throw new AppError_1[(_0x3c4c77(0x149))](_0x484bed, 0xa75 + 0x1 * -0x13ff + 0xb1a);
        }
    };
function _0x59fa(_0x1f420b, _0x2657a2) {
    const _0x3590e0 = _0x2855();
    return _0x59fa = function (_0x1d43a2, _0x4b1631) {
        _0x1d43a2 = _0x1d43a2 - (0xc33 + 0x4 * -0x77e + -0x4 * -0x4c1);
        let _0x366534 = _0x3590e0[_0x1d43a2];
        return _0x366534;
    }, _0x59fa(_0x1f420b, _0x2657a2);
}
function _0x2855() {
    const _0x21964e = [
        'YDlaj',
        '__esModule',
        '52BvvRUt',
        'default',
        '3541300fqSORG',
        './SetLogou',
        '1160mVQLRh',
        '/socket',
        'PP_SECRET_',
        '_access_to',
        '1940232cCWJLe',
        '2075qMpBjn',
        'oFPfn',
        '45TQtbis',
        'emit',
        'ls/Whatsap',
        '../../mode',
        '66747cynoit',
        'where',
        'lient_id=',
        '&client_se',
        'ge_token&c',
        'CONNECTED',
        'value',
        '../../erro',
        'status',
        '1008280VzjHiw',
        '/accounts?',
        '__importDe',
        'DtKfF',
        'ess_token?',
        '630310PTKscx',
        'ession',
        'grant_type',
        'fbObject',
        'aTMox',
        'PP_ID',
        'tenantId',
        'en=',
        'cret=',
        'ok.com/',
        'limit=25&a',
        ':whatsappS',
        'fbPageId',
        '3887728ZzENoZ',
        'defineProp',
        'https://gr',
        'error',
        'ccess_toke',
        'method',
        'RaXbA',
        '/oauth/acc',
        'ge_token=',
        'tLinkedPag',
        's/logger',
        'MpYPU',
        'eDjtj',
        'tokenAPI',
        'Escolha\x20ap',
        'GET',
        'fault',
        '../../util',
        'PgvIN',
        'ione\x20apena',
        's\x201\x20página',
        'get',
        'access_tok',
        '../../libs',
        'url',
        'KEY',
        '=fb_exchan',
        'ina.\x20Refaç',
        'update',
        'iHrgp',
        'env',
        'v16.0',
        'FACEBOOK_A',
        'logger',
        'getIO',
        'ken',
        'axios',
        'action',
        'long_lived',
        'erty',
        'aph.facebo',
        'a\x20o\x20proces',
        'enas\x201\x20pág',
        'session',
        'so\x20e\x20selec',
        'whatsapp',
        '&fb_exchan',
        'rs/AppErro',
        'accountId',
        'length'
    ];
    _0x2855 = function () {
        return _0x21964e;
    };
    return _0x2855();
}
exports[_0x14892f(0x149)] = GetTokenAndLinkedPage;