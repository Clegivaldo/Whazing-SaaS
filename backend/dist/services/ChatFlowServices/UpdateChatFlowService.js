'use strict';
const _0x311c68 = _0x55d7;
function _0x55d7(_0x8960d6, _0x430ad4) {
    const _0x4fd387 = _0x3b36();
    return _0x55d7 = function (_0x4c2527, _0x38f41c) {
        _0x4c2527 = _0x4c2527 - (0x322 * -0x1 + -0x13 * 0x19f + 0x2333);
        let _0x23d5c2 = _0x4fd387[_0x4c2527];
        return _0x23d5c2;
    }, _0x55d7(_0x8960d6, _0x430ad4);
}
(function (_0xaf2001, _0x15ba7b) {
    const _0x5bcd22 = _0x55d7, _0x46ec39 = _0xaf2001();
    while (!![]) {
        try {
            const _0x5d9ca3 = -parseInt(_0x5bcd22(0x153)) / (-0x1e7d * 0x1 + -0x1 * -0x385 + 0x565 * 0x5) + -parseInt(_0x5bcd22(0x175)) / (-0x251f + 0x9c6 * 0x2 + -0x7 * -0x283) * (parseInt(_0x5bcd22(0x17b)) / (-0xbaf * -0x1 + 0xa36 * -0x1 + -0x1 * 0x176)) + parseInt(_0x5bcd22(0x170)) / (-0xd39 + -0x2698 + 0x3 * 0x1147) * (-parseInt(_0x5bcd22(0x156)) / (0x19c7 + 0x33 * 0x3 + -0x1a5b)) + parseInt(_0x5bcd22(0x150)) / (-0x1520 * 0x1 + 0xd * 0x2ed + -0x10e3) * (parseInt(_0x5bcd22(0x168)) / (-0x9e2 + 0x21 * 0xda + 0x1231 * -0x1)) + parseInt(_0x5bcd22(0x177)) / (-0x257e + -0x1b13 + 0x4099) * (parseInt(_0x5bcd22(0x14c)) / (-0x73b + 0x1df2 + -0x2 * 0xb57)) + -parseInt(_0x5bcd22(0x144)) / (0x1 * 0x14a1 + 0x3b6 * 0x1 + -0x184d) * (-parseInt(_0x5bcd22(0x179)) / (-0xb5 * 0x3 + -0x17 * -0x9 + 0x15b)) + parseInt(_0x5bcd22(0x181)) / (0x10f + -0x1706 + 0x73 * 0x31);
            if (_0x5d9ca3 === _0x15ba7b)
                break;
            else
                _0x46ec39['push'](_0x46ec39['shift']());
        } catch (_0x14d069) {
            _0x46ec39['push'](_0x46ec39['shift']());
        }
    }
}(_0x3b36, -0xb83df + -0x46852 * 0x5 + -0x1 * -0x2d3d7d));
var __importDefault = this && this[_0x311c68(0x14e) + _0x311c68(0x15b)] || function (_0x215b58) {
    const _0x13c395 = _0x311c68;
    return _0x215b58 && _0x215b58[_0x13c395(0x157)] ? _0x215b58 : { 'default': _0x215b58 };
};
const _0xafd074 = {};
function _0x3b36() {
    const _0x4a6c03 = [
        'where',
        'JbodY',
        '1078604DNKBxi',
        'NGPNI',
        'bdhbz',
        '40ZFWxME',
        '__esModule',
        'tenantId',
        'type',
        'haPHr',
        'fault',
        'getTime',
        'ls/ChatFlo',
        'SSAln',
        'ERR_NO_CHA',
        'reload',
        'update',
        'default',
        'MediaField',
        'interactio',
        'data',
        'gPoTV',
        'util',
        '4298ghWsvk',
        'flow',
        'celularTes',
        'userId',
        'FKyaN',
        'media',
        '../../mode',
        'findOne',
        '450476dvIjny',
        'T_FLOW_FOU',
        'promisify',
        'attributes',
        'value',
        '28ggTXYM',
        'jXWnb',
        '6870664NnsvXj',
        'kkeQy',
        '572NhUPLO',
        'base64',
        '149223FFkzwn',
        'writeFile',
        'rs/AppErro',
        'CcfZS',
        'name',
        'nodeList',
        '8045364ncbzld',
        'defineProp',
        'zpPBe',
        'erty',
        'split',
        'node',
        'isActive',
        '99420JCsqCs',
        'path',
        'XtTtQ',
        'JxiNH',
        'public',
        '../../erro',
        'length',
        'join',
        '9sqUcsy',
        'MaSsj',
        '__importDe',
        'mediaUrl',
        '13638hyqyLt'
    ];
    _0x3b36 = function () {
        return _0x4a6c03;
    };
    return _0x3b36();
}
_0xafd074[_0x311c68(0x174)] = !![], Object[_0x311c68(0x182) + _0x311c68(0x184)](exports, _0x311c68(0x157), _0xafd074);
const util_1 = require(_0x311c68(0x167)), path_1 = require(_0x311c68(0x145)), fs_1 = require('fs'), ChatFlow_1 = __importDefault(require(_0x311c68(0x16e) + _0x311c68(0x15d) + 'w')), AppError_1 = __importDefault(require(_0x311c68(0x149) + _0x311c68(0x17d) + 'r')), writeFileAsync = (-0x1712 + 0x2 * -0x136 + -0xd * -0x1f6, util_1[_0x311c68(0x172)])(fs_1[_0x311c68(0x17c)]), UpdateChatFlowService = async ({
        chatFlowData: _0x48fba0,
        chatFlowId: _0x340648,
        tenantId: _0x1bdba0
    }) => {
        const _0x23d98f = _0x311c68, _0x2d1baf = {
                'SSAln': _0x23d98f(0x17f),
                'kkeQy': _0x23d98f(0x169),
                'CcfZS': _0x23d98f(0x16b),
                'haPHr': _0x23d98f(0x187),
                'JxiNH': _0x23d98f(0x16a) + 'te',
                'jXWnb': _0x23d98f(0x15f) + _0x23d98f(0x171) + 'ND',
                'JbodY': function (_0x11ff6c, _0x327f86) {
                    return _0x11ff6c === _0x327f86;
                },
                'FKyaN': _0x23d98f(0x186),
                'NGPNI': _0x23d98f(0x163),
                'MaSsj': function (_0x2890bc, _0x2ef27f, _0x3865e8, _0x25ad46) {
                    return _0x2890bc(_0x2ef27f, _0x3865e8, _0x25ad46);
                },
                'zpPBe': _0x23d98f(0x148),
                'XtTtQ': _0x23d98f(0x17a),
                'gPoTV': function (_0x3508c3, _0x4791ce) {
                    return _0x3508c3 === _0x4791ce;
                },
                'bdhbz': function (_0x5c6008, _0x1a5893) {
                    return _0x5c6008 - _0x1a5893;
                }
            }, {
                name: _0x1bf14c,
                flow: _0xb8fdef,
                userId: _0x3e18f2,
                isActive: _0xf5c66c,
                celularTeste: _0x48a7ed
            } = _0x48fba0, _0x1cf484 = {};
        _0x1cf484['id'] = _0x340648, _0x1cf484[_0x23d98f(0x158)] = _0x1bdba0;
        const _0x5b63f0 = {};
        _0x5b63f0[_0x23d98f(0x151)] = _0x1cf484, _0x5b63f0[_0x23d98f(0x173)] = [
            'id',
            _0x2d1baf[_0x23d98f(0x15e)],
            _0x2d1baf[_0x23d98f(0x178)],
            _0x2d1baf[_0x23d98f(0x17e)],
            _0x2d1baf[_0x23d98f(0x15a)],
            _0x2d1baf[_0x23d98f(0x147)]
        ];
        const _0x5ebdbc = await ChatFlow_1[_0x23d98f(0x162)][_0x23d98f(0x16f)](_0x5b63f0);
        if (!_0x5ebdbc)
            throw new AppError_1[(_0x23d98f(0x162))](_0x2d1baf[_0x23d98f(0x176)], -0x1e9b + -0x1beb + -0x62 * -0x9d);
        for await (const _0x54eaa7 of _0xb8fdef[_0x23d98f(0x169)][_0x23d98f(0x180)]) {
            if (_0x2d1baf[_0x23d98f(0x152)](_0x54eaa7[_0x23d98f(0x159)], _0x2d1baf[_0x23d98f(0x16c)]))
                for await (const _0x51e3f8 of _0x54eaa7[_0x23d98f(0x164) + 'ns']) {
                    if (_0x2d1baf[_0x23d98f(0x152)](_0x51e3f8[_0x23d98f(0x159)], _0x2d1baf[_0x23d98f(0x154)]) && _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x16d)]) {
                        const _0x424c41 = new Date()[_0x23d98f(0x15c)]() + '-' + _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x17f)];
                        await _0x2d1baf[_0x23d98f(0x14d)](writeFileAsync, (-0x1f57 + 0x2a * 0xe + 0x1d0b, path_1[_0x23d98f(0x14b)])(__dirname, '..', '..', '..', _0x2d1baf[_0x23d98f(0x183)], _0x424c41), _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x16d)][_0x23d98f(0x185)](_0x2d1baf[_0x23d98f(0x146)])[-0x1 * -0x98f + 0x1d19 + -0x26a7], _0x2d1baf[_0x23d98f(0x146)]), delete _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x16d)], _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x14f)] = _0x424c41;
                    }
                    if (_0x2d1baf[_0x23d98f(0x166)](_0x51e3f8[_0x23d98f(0x159)], _0x2d1baf[_0x23d98f(0x154)]) && _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x14f)]) {
                        const _0x1fb6cb = _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x14f)][_0x23d98f(0x185)]('/');
                        _0x51e3f8[_0x23d98f(0x165)][_0x23d98f(0x14f)] = _0x1fb6cb[_0x2d1baf[_0x23d98f(0x155)](_0x1fb6cb[_0x23d98f(0x14a)], -0x2117 + -0xaa + 0x21c2)];
                    }
                }
        }
        const _0x1252a1 = {};
        _0x1252a1[_0x23d98f(0x17f)] = _0x1bf14c, _0x1252a1[_0x23d98f(0x169)] = _0xb8fdef[_0x23d98f(0x169)], _0x1252a1[_0x23d98f(0x16b)] = _0x3e18f2, _0x1252a1[_0x23d98f(0x187)] = _0xb8fdef[_0x23d98f(0x187)], _0x1252a1[_0x23d98f(0x16a) + 'te'] = _0xb8fdef[_0x23d98f(0x16a) + 'te'], await _0x5ebdbc[_0x23d98f(0x161)](_0x1252a1);
        const _0x142b34 = {};
        return _0x142b34[_0x23d98f(0x173)] = [
            'id',
            _0x2d1baf[_0x23d98f(0x15e)],
            _0x2d1baf[_0x23d98f(0x178)],
            _0x2d1baf[_0x23d98f(0x17e)],
            _0x2d1baf[_0x23d98f(0x15a)],
            _0x2d1baf[_0x23d98f(0x147)]
        ], await _0x5ebdbc[_0x23d98f(0x160)](_0x142b34), _0x5ebdbc;
    };
exports[_0x311c68(0x162)] = UpdateChatFlowService;