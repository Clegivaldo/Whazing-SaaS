'use strict';const m=b,o=b;(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x1de))/0x1+-parseInt(k(0x1e4))/0x2*(parseInt(k(0x1d7))/0x3)+-parseInt(k(0x1ec))/0x4+parseInt(k(0x1d6))/0x5*(-parseInt(l(0x1db))/0x6)+-parseInt(k(0x1e8))/0x7+parseInt(k(0x1e3))/0x8*(-parseInt(l(0x1dc))/0x9)+parseInt(k(0x1e0))/0xa*(parseInt(k(0x1dd))/0xb);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xed8ca));function a(){const r=['\x0a\x20\x20\x20\x20\x20\x20select\x20id\x20from\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20select\x20u.id,\x20u.\x22name\x22,\x20coalesce(count(t.id),\x200)\x20qtd_atendimentos\x20\x20from\x20\x22Users\x22\x20u\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22UsersQueues\x22\x20uq\x20on\x20(u.id\x20=\x20uq.\x22userId\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20left\x20join\x20\x22Tickets\x22\x20t\x20on\x20(t.\x22userId\x22\x20=\x20u.id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20where\x20u.\x22isOnline\x22\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20t.status\x20not\x20in\x20(\x27closed\x27,\x20\x27close\x27)\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20u.\x22profile\x22\x20=\x20\x27user\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20u.\x22tenantId\x22\x20=\x20:tenantId\x0a\x20\x20\x20\x20\x20\x20\x20\x20and\x20uq.\x22queueId\x22\x20=\x20:queueId\x0a\x20\x20\x20\x20\x20\x20\x20\x20group\x20by\x20u.id,\x20u.\x22name\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20order\x20by\x203\x20limit\x201\x0a\x20\x20\x20\x20\x20\x20)\x20a\x0a\x20\x20\x20\x20','7976YSONfy','14YqJjSz','userDefine','default','\x0a\x20\x20\x20\x20select\x20u.id\x20from\x20\x22Users\x22\x20u\x0a\x20\x20\x20\x20left\x20join\x20\x22UsersQueues\x22\x20uq\x20on\x20(u.id\x20=\x20uq.\x22userId\x22)\x0a\x20\x20\x20\x20where\x20u.\x22isOnline\x22\x20=\x20true\x0a\x20\x20\x20\x20and\x20u.\x22profile\x22\x20=\x20\x27user\x27\x0a\x20\x20\x20\x20and\x20u.\x22tenantId\x22\x20=\x20:tenantId\x0a\x20\x20\x20\x20and\x20uq.\x22queueId\x22\x20=\x20:queueId\x0a\x20\x20\x20\x20order\x20by\x20random()\x20limit\x201\x0a\x20\x20','11003468AyPkWe','__esModule','SELECT','length','1965492axFTub','5JrridX','694281RuWtPg','QueryTypes','defineProperty','query','9986778akpIKC','13932QLGsce','22813890oHqqbx','1642137UJSKDL','sequelize','30TQrkcL','__importDefault'];a=function(){return r;};return a();}var __importDefault=this&&this[m(0x1e1)]||function(c){const n=m;return c&&c[n(0x1e9)]?c:{'default':c};};Object[o(0x1d9)](exports,m(0x1e9),{'value':!![]});const sequelize_1=require('sequelize'),User_1=__importDefault(require('../../models/User')),CreateLogTicketService_1=__importDefault(require('../TicketServices/CreateLogTicketService')),DefinedUserBotService=async(c,d,e,f='R')=>{const p=o,q=o;if(f==='N')return;let g=p(0x1e7);f==='B'&&(g=q(0x1e2));const h=await User_1[q(0x1e6)][p(0x1df)]?.[p(0x1da)](g,{'replacements':{'tenantId':e,'queueId':d},'type':sequelize_1[p(0x1d8)][q(0x1ea)]});if(h[p(0x1eb)]){const i=h[0x0]['id'];await c['update']({'userId':i}),await(0x0,CreateLogTicketService_1[q(0x1e6)])({'ticketId':c['id'],'type':q(0x1e5),'userId':i});}};function b(c,d){const e=a();return b=function(f,g){f=f-0x1d6;let h=e[f];return h;},b(c,d);}exports[o(0x1e6)]=DefinedUserBotService;