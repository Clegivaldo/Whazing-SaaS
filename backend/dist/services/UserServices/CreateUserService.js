'use strict';const I=b,J=b;(function(c,d){const G=b,H=b,e=c();while(!![]){try{const f=parseInt(G(0x1dc))/0x1+-parseInt(H(0x1ea))/0x2*(parseInt(H(0x1c9))/0x3)+-parseInt(G(0x1d0))/0x4+parseInt(G(0x1ec))/0x5*(parseInt(G(0x1ee))/0x6)+-parseInt(G(0x1d2))/0x7*(parseInt(G(0x1d7))/0x8)+-parseInt(H(0x1d6))/0x9+parseInt(H(0x1db))/0xa;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0xc2718));var __createBinding=this&&this[I(0x1f1)]||(Object[J(0x1cf)]?function(c,d,e,f){const K=J,L=J;if(f===undefined)f=e;var g=Object[K(0x1ce)](d,e);(!g||(L(0x1da)in g?!d[K(0x1dd)]:g[K(0x1de)]||g['configurable']))&&(K(0x1d4)!=='gNMRq'?f[K(0x1e2)](g,K(0x1f2),{'enumerable':!![],'value':h}):g={'enumerable':!![],'get':function(){return d[e];}}),Object[K(0x1e2)](c,f,g);}:function(c,d,e,f){if(f===undefined)f=e;c[f]=d[e];}),__setModuleDefault=this&&this[I(0x1d5)]||(Object[J(0x1cf)]?function(c,d){const M=J;Object['defineProperty'](c,M(0x1f2),{'enumerable':!![],'value':d});}:function(c,d){const N=J;c[N(0x1f2)]=d;}),__importStar=this&&this[I(0x1e4)]||function(c){const O=I,P=J;if(c&&c[O(0x1dd)])return c;var d={};if(c!=null){for(var e in c)if(e!=='default'&&Object[O(0x1ed)][O(0x1ca)][P(0x1e9)](c,e))__createBinding(d,c,e);}return __setModuleDefault(d,c),d;},__importDefault=this&&this[J(0x1cb)]||function(c){const Q=J;return c&&c[Q(0x1dd)]?c:{'default':c};};function b(c,d){const e=a();return b=function(f,g){f=f-0x1c8;let h=e[f];return h;},b(c,d);}Object['defineProperty'](exports,J(0x1dd),{'value':!![]});const Yup=__importStar(require(J(0x1e7))),AppError_1=__importDefault(require(I(0x1d1))),User_1=__importDefault(require('../../models/User')),CreateUserService=async({email:c,password:d,name:e,tenantId:f,profile:profile=I(0x1e1),configs:g})=>{const R=J,S=I,h=Yup[R(0x1d9)]()['shape']({'name':Yup[R(0x1df)]()['required']()[R(0x1c8)](0x2),'tenantId':Yup[R(0x1e3)]()[R(0x1cc)](),'email':Yup[S(0x1df)]()[R(0x1e5)]()[S(0x1cc)]()[R(0x1f0)](R(0x1cd),S(0x1ef),async k=>{const T=S,U=S;if(T(0x1d3)!==T(0x1e6)){const l=await User_1['default']['findOne']({'where':{'email':k}});return!l;}else return e[f];}),'password':Yup[S(0x1df)]()[R(0x1cc)]()[R(0x1c8)](0x5)});try{'sTQHx'!==R(0x1e8)?f={'enumerable':!![],'get':function(){return i[j];}}:await h[S(0x1e0)]({'email':c,'password':d,'name':e,'tenantId':f});}catch(l){throw new AppError_1['default'](l[R(0x1eb)]);}const i=await User_1[S(0x1f2)][R(0x1cf)]({'email':c,'password':d,'name':e,'profile':profile,'tenantId':f,'configs':g}),j={'id':i['id'],'name':i[S(0x1d8)],'email':i[S(0x1e5)],'profile':i['profile']};return j;};exports[J(0x1f2)]=CreateUserService;function a(){const V=['__esModule','writable','string','validate','admin','defineProperty','number','__importStar','email','AKqxK','yup','sTQHx','call','11924LtjKmc','message','159730gFbqTb','prototype','276RxfWUy','An\x20user\x20with\x20this\x20email\x20already\x20exists.','test','__createBinding','default','min','489VuJMOd','hasOwnProperty','__importDefault','required','Check-email','getOwnPropertyDescriptor','create','6113684gnaBsP','../../errors/AppError','28YitzYp','ZNaoa','gNMRq','__setModuleDefault','554067XuRCAj','1583000ChZzrN','name','object','get','23274410hffYCG','352773cgqvdH'];a=function(){return V;};return a();}