'use strict';
function _0x4843(_0x1e5144, _0x8570ae) {
    const _0x44a5fc = _0x1954();
    return _0x4843 = function (_0x337021, _0x2d73ee) {
        _0x337021 = _0x337021 - (-0xd33 + 0x6c9 * -0x4 + 0x29c0 * 0x1);
        let _0x1e2bf3 = _0x44a5fc[_0x337021];
        return _0x1e2bf3;
    }, _0x4843(_0x1e5144, _0x8570ae);
}
const _0x590898 = _0x4843;
function _0x1954() {
    const _0x38564b = [
        'receivedTr',
        'Ncnyj',
        'ICGkP',
        'model',
        '../../erro',
        'fdmCM',
        'ckabO',
        '70044VBzEZq',
        'closed',
        'JPbtk',
        '__importDe',
        'LxHyX',
        'ls/Contact',
        'FMLaf',
        'type',
        'queueId',
        'pending',
        'transfered',
        'ate',
        'attributes',
        '5904107HQLBZJ',
        'JQfJf',
        'erty',
        'vsdci',
        '6dEDsDH',
        '694UurJEt',
        'value',
        '3068331pzBMBU',
        'whatsapp',
        'Tickets',
        'rs/AppErro',
        'setDataVal',
        'tenantId',
        'TsGTM',
        '../../help',
        'gTicketSer',
        'BaQhh',
        'include',
        'ERR_NO_TIC',
        'default',
        'HXcSe',
        'associatio',
        'tXfGn',
        'ticket:upd',
        'extraInfo',
        'ers/CheckC',
        'Emit',
        'ls/Ticket',
        'ansfer',
        'vuIoT',
        'rTFKe',
        'AixBh',
        'egjjo',
        'ticket',
        'WwAGK',
        '9178335lqBtoG',
        '10BwcPVi',
        '65135vfnQWz',
        'JsJLq',
        'plyId',
        'vice',
        'sAsRead',
        'startedAtt',
        '3244TpKXLF',
        'SzayA',
        'tags',
        'sdYzA',
        'getTime',
        'autoReplyI',
        'oldStatus',
        'open',
        'ticketId',
        'ers/SetTic',
        '../../mode',
        'wallets',
        'notificati',
        'where',
        'AXHXN',
        'oldUserId',
        'KET_FOUND',
        'update',
        './CreateLo',
        'ence',
        'userId',
        'reload',
        'findOne',
        '112OwaxUY',
        'awAPo',
        'isDeleted',
        '__esModule',
        'isTransfer',
        'on:new',
        'name',
        'closedAt',
        'GxqNh',
        '1004504IObbeW',
        'close',
        'defineProp',
        'ers/socket',
        'jdBdQ',
        'ls/User',
        'user',
        'fault',
        'payload',
        'status',
        'ketMessage',
        'stepAutoRe',
        'ontactOpen',
        'tCHEF',
        'endanceAt',
        'contact',
        'UpHWb'
    ];
    _0x1954 = function () {
        return _0x38564b;
    };
    return _0x1954();
}
(function (_0x3a7a65, _0x1263cc) {
    const _0x50d213 = _0x4843, _0x5c83ae = _0x3a7a65();
    while (!![]) {
        try {
            const _0x32c44b = parseInt(_0x50d213(0x1be)) / (0xeb7 + -0xe95 * 0x1 + -0x21) * (-parseInt(_0x50d213(0x198)) / (0x1 * 0x220f + -0x16eb + -0xb22)) + -parseInt(_0x50d213(0x186)) / (-0x1 * -0x1da7 + -0x218b + 0x3e7) + parseInt(_0x50d213(0x1d5)) / (-0x2 * -0x120d + 0x23c * 0xd + -0x4122) * (-parseInt(_0x50d213(0x1b8)) / (0x10a0 + 0x1119 + -0x86d * 0x4)) + parseInt(_0x50d213(0x197)) / (0x1765 + -0x824 + -0xf3b) * (parseInt(_0x50d213(0x19a)) / (-0x22d7 + -0xb8d + -0x2e6b * -0x1)) + parseInt(_0x50d213(0x16e)) / (-0x1ce + 0xba7 * -0x1 + -0x3 * -0x47f) + parseInt(_0x50d213(0x1b6)) / (-0x78b + 0x1 * -0x23fb + 0x639 * 0x7) + -parseInt(_0x50d213(0x1b7)) / (-0xf35 + 0x8 * -0x90 + 0x695 * 0x3) * (-parseInt(_0x50d213(0x193)) / (0x448 + 0x8e * 0x1f + 0x1 * -0x156f));
            if (_0x32c44b === _0x1263cc)
                break;
            else
                _0x5c83ae['push'](_0x5c83ae['shift']());
        } catch (_0x402f34) {
            _0x5c83ae['push'](_0x5c83ae['shift']());
        }
    }
}(_0x1954, 0xba26b + -0x11f5 * 0xe2 + 0xd79b3));
var __importDefault = this && this[_0x590898(0x189) + _0x590898(0x175)] || function (_0x3dedb0) {
    const _0x197577 = _0x590898;
    return _0x3dedb0 && _0x3dedb0[_0x197577(0x1d8)] ? _0x3dedb0 : { 'default': _0x3dedb0 };
};
const _0xe4ea65 = {};
_0xe4ea65[_0x590898(0x199)] = !![], Object[_0x590898(0x170) + _0x590898(0x195)](exports, _0x590898(0x1d8), _0xe4ea65);
const AppError_1 = __importDefault(require(_0x590898(0x183) + _0x590898(0x19d) + 'r')), CheckContactOpenTickets_1 = __importDefault(require(_0x590898(0x1a1) + _0x590898(0x1ac) + _0x590898(0x17a) + _0x590898(0x19c))), SetTicketMessagesAsRead_1 = __importDefault(require(_0x590898(0x1a1) + _0x590898(0x1c7) + _0x590898(0x178) + _0x590898(0x1bc))), Contact_1 = __importDefault(require(_0x590898(0x1c8) + _0x590898(0x18b))), Ticket_1 = __importDefault(require(_0x590898(0x1c8) + _0x590898(0x1ae))), User_1 = __importDefault(require(_0x590898(0x1c8) + _0x590898(0x173))), socketEmit_1 = __importDefault(require(_0x590898(0x1a1) + _0x590898(0x171) + _0x590898(0x1ad))), CreateLogTicketService_1 = __importDefault(require(_0x590898(0x1d0) + _0x590898(0x1a2) + _0x590898(0x1bb))), UpdateTicketService = async ({
        ticketData: _0x50d78e,
        ticketId: _0x33215c,
        isTransference: _0x9be12f,
        userIdRequest: _0x46d446
    }) => {
        const _0x5e5db4 = _0x590898, _0x37f8d6 = {};
        _0x37f8d6[_0x5e5db4(0x181)] = _0x5e5db4(0x17d), _0x37f8d6[_0x5e5db4(0x1a3)] = _0x5e5db4(0x1ab), _0x37f8d6[_0x5e5db4(0x1a7)] = _0x5e5db4(0x1c0), _0x37f8d6[_0x5e5db4(0x1a0)] = _0x5e5db4(0x1c9), _0x37f8d6[_0x5e5db4(0x1c1)] = _0x5e5db4(0x16b), _0x37f8d6[_0x5e5db4(0x1cc)] = _0x5e5db4(0x174), _0x37f8d6[_0x5e5db4(0x1d6)] = _0x5e5db4(0x19b), _0x37f8d6[_0x5e5db4(0x1b1)] = _0x5e5db4(0x1d7), _0x37f8d6[_0x5e5db4(0x194)] = _0x5e5db4(0x1a5) + _0x5e5db4(0x1ce), _0x37f8d6[_0x5e5db4(0x17b)] = function (_0x30ccdb, _0x2f0866) {
            return _0x30ccdb !== _0x2f0866;
        }, _0x37f8d6[_0x5e5db4(0x1a9)] = _0x5e5db4(0x18f), _0x37f8d6[_0x5e5db4(0x17e)] = function (_0x13ff53, _0x203fbc) {
            return _0x13ff53 === _0x203fbc;
        }, _0x37f8d6[_0x5e5db4(0x184)] = function (_0x401de2, _0x20256) {
            return _0x401de2 === _0x20256;
        }, _0x37f8d6[_0x5e5db4(0x18c)] = _0x5e5db4(0x187), _0x37f8d6[_0x5e5db4(0x1b2)] = function (_0x2f0f6b, _0x332b2c) {
            return _0x2f0f6b === _0x332b2c;
        }, _0x37f8d6[_0x5e5db4(0x188)] = _0x5e5db4(0x16f), _0x37f8d6[_0x5e5db4(0x172)] = function (_0x5a67fc, _0x29b323) {
            return _0x5a67fc === _0x29b323;
        }, _0x37f8d6[_0x5e5db4(0x196)] = _0x5e5db4(0x1c5), _0x37f8d6[_0x5e5db4(0x1b3)] = function (_0x389ee1, _0x5dded5) {
            return _0x389ee1 === _0x5dded5;
        }, _0x37f8d6[_0x5e5db4(0x1b0)] = function (_0xafbbd9, _0x392fef) {
            return _0xafbbd9 === _0x392fef;
        }, _0x37f8d6[_0x5e5db4(0x16d)] = function (_0x124197, _0x536be9) {
            return _0x124197 === _0x536be9;
        }, _0x37f8d6[_0x5e5db4(0x180)] = function (_0x2973ef, _0x2f00a5) {
            return _0x2973ef === _0x2f00a5;
        }, _0x37f8d6[_0x5e5db4(0x1bf)] = _0x5e5db4(0x190), _0x37f8d6[_0x5e5db4(0x1b5)] = _0x5e5db4(0x17f) + _0x5e5db4(0x1af), _0x37f8d6[_0x5e5db4(0x185)] = _0x5e5db4(0x169) + _0x5e5db4(0x1d1), _0x37f8d6[_0x5e5db4(0x1b9)] = _0x5e5db4(0x1ca) + _0x5e5db4(0x16a), _0x37f8d6[_0x5e5db4(0x18a)] = _0x5e5db4(0x1aa) + _0x5e5db4(0x191);
        const _0x84e614 = _0x37f8d6, {
                status: _0x23a282,
                userId: _0x5b8c9b,
                tenantId: _0x1a1e79,
                queueId: _0x2d27f6
            } = _0x50d78e, _0x2ceb0f = {};
        _0x2ceb0f['id'] = _0x33215c, _0x2ceb0f[_0x5e5db4(0x19f)] = _0x1a1e79;
        const _0x3c9153 = {};
        _0x3c9153[_0x5e5db4(0x182)] = Contact_1[_0x5e5db4(0x1a6)], _0x3c9153['as'] = _0x84e614[_0x5e5db4(0x181)], _0x3c9153[_0x5e5db4(0x1a4)] = [
            _0x84e614[_0x5e5db4(0x1a3)],
            _0x84e614[_0x5e5db4(0x1a7)],
            {
                'association': _0x84e614[_0x5e5db4(0x1a0)],
                'attributes': [
                    'id',
                    _0x84e614[_0x5e5db4(0x1c1)]
                ]
            }
        ];
        const _0x3a2ca3 = {};
        _0x3a2ca3[_0x5e5db4(0x182)] = User_1[_0x5e5db4(0x1a6)], _0x3a2ca3['as'] = _0x84e614[_0x5e5db4(0x1cc)], _0x3a2ca3[_0x5e5db4(0x192)] = [
            'id',
            _0x84e614[_0x5e5db4(0x1c1)]
        ];
        const _0x155e99 = {};
        _0x155e99[_0x5e5db4(0x1a8) + 'n'] = _0x84e614[_0x5e5db4(0x1d6)], _0x155e99[_0x5e5db4(0x192)] = [
            'id',
            _0x84e614[_0x5e5db4(0x1c1)],
            _0x84e614[_0x5e5db4(0x1b1)]
        ];
        const _0x37e28b = {};
        _0x37e28b[_0x5e5db4(0x1cb)] = _0x2ceb0f, _0x37e28b[_0x5e5db4(0x1a4)] = [
            _0x3c9153,
            _0x3a2ca3,
            _0x155e99
        ];
        const _0x5b6580 = await Ticket_1[_0x5e5db4(0x1a6)][_0x5e5db4(0x1d4)](_0x37e28b);
        if (!_0x5b6580)
            throw new AppError_1[(_0x5e5db4(0x1a6))](_0x84e614[_0x5e5db4(0x194)], -0x375 * 0xb + 0x112d + 0x57 * 0x42);
        await (0xfc * -0xb + -0x49 * -0x77 + -0x171b, SetTicketMessagesAsRead_1[_0x5e5db4(0x1a6)])(_0x5b6580);
        const _0x212fc9 = _0x84e614[_0x5e5db4(0x17b)](_0x5b6580[_0x5e5db4(0x177)], _0x84e614[_0x5e5db4(0x1a9)]) && _0x84e614[_0x5e5db4(0x17e)](_0x50d78e[_0x5e5db4(0x177)], _0x84e614[_0x5e5db4(0x1a9)]), _0x4787c0 = _0x5b6580[_0x5e5db4(0x177)], _0x27ea2c = _0x5b6580[_0x5e5db4(0x174)]?.['id'];
        _0x84e614[_0x5e5db4(0x184)](_0x4787c0, _0x84e614[_0x5e5db4(0x18c)]) && await (-0x4bf + -0x3 * -0x726 + -0x10b3, CheckContactOpenTickets_1[_0x5e5db4(0x1a6)])(_0x5b6580[_0x5e5db4(0x17d)]['id']);
        const _0xe9fc92 = _0x84e614[_0x5e5db4(0x1b2)](_0x23a282, _0x84e614[_0x5e5db4(0x188)]) ? _0x84e614[_0x5e5db4(0x18c)] : _0x23a282, _0x3755fb = {};
        _0x3755fb[_0x5e5db4(0x177)] = _0xe9fc92, _0x3755fb[_0x5e5db4(0x18e)] = _0x2d27f6, _0x3755fb[_0x5e5db4(0x1d2)] = _0x5b8c9b;
        const _0x1c329d = _0x3755fb;
        _0x84e614[_0x5e5db4(0x184)](_0xe9fc92, _0x84e614[_0x5e5db4(0x18c)]) && (_0x1c329d[_0x5e5db4(0x16c)] = new Date()[_0x5e5db4(0x1c2)]());
        _0x84e614[_0x5e5db4(0x172)](_0x4787c0, _0x84e614[_0x5e5db4(0x1a9)]) && _0x84e614[_0x5e5db4(0x17e)](_0xe9fc92, _0x84e614[_0x5e5db4(0x196)]) && (_0x1c329d[_0x5e5db4(0x1c3) + 'd'] = null, _0x1c329d[_0x5e5db4(0x179) + _0x5e5db4(0x1ba)] = null, _0x1c329d[_0x5e5db4(0x1bd) + _0x5e5db4(0x17c)] = new Date()[_0x5e5db4(0x1c2)]());
        await _0x5b6580[_0x5e5db4(0x1cf)](_0x1c329d);
        if (_0x84e614[_0x5e5db4(0x1b3)](_0x4787c0, _0x84e614[_0x5e5db4(0x1a9)]) && _0x84e614[_0x5e5db4(0x1b0)](_0xe9fc92, _0x84e614[_0x5e5db4(0x196)])) {
            const _0x6ed337 = {};
            _0x6ed337[_0x5e5db4(0x1d2)] = _0x46d446, _0x6ed337[_0x5e5db4(0x1c6)] = _0x33215c, _0x6ed337[_0x5e5db4(0x18d)] = _0x84e614[_0x5e5db4(0x196)], await (0x1dce + -0x2593 + 0x7c5, CreateLogTicketService_1[_0x5e5db4(0x1a6)])(_0x6ed337);
        }
        if (_0x84e614[_0x5e5db4(0x17e)](_0xe9fc92, _0x84e614[_0x5e5db4(0x18c)])) {
            const _0x4e8bff = {};
            _0x4e8bff[_0x5e5db4(0x1d2)] = _0x46d446, _0x4e8bff[_0x5e5db4(0x1c6)] = _0x33215c, _0x4e8bff[_0x5e5db4(0x18d)] = _0x84e614[_0x5e5db4(0x18c)], await (0x11f4 + 0xa16 + -0x1c0a, CreateLogTicketService_1[_0x5e5db4(0x1a6)])(_0x4e8bff);
        }
        if (_0x84e614[_0x5e5db4(0x16d)](_0x4787c0, _0x84e614[_0x5e5db4(0x196)]) && _0x84e614[_0x5e5db4(0x180)](_0xe9fc92, _0x84e614[_0x5e5db4(0x1a9)])) {
            const _0x1ea742 = {};
            _0x1ea742[_0x5e5db4(0x1d2)] = _0x46d446, _0x1ea742[_0x5e5db4(0x1c6)] = _0x33215c, _0x1ea742[_0x5e5db4(0x18d)] = _0x84e614[_0x5e5db4(0x1a9)], await (0x1 * -0x1115 + -0xb7 * -0x15 + 0xa * 0x35, CreateLogTicketService_1[_0x5e5db4(0x1a6)])(_0x1ea742);
        }
        if (_0x9be12f) {
            const _0x3f938c = {};
            _0x3f938c[_0x5e5db4(0x1d2)] = _0x46d446, _0x3f938c[_0x5e5db4(0x1c6)] = _0x33215c, _0x3f938c[_0x5e5db4(0x18d)] = _0x84e614[_0x5e5db4(0x1bf)], await (0x84c + -0x6 * 0x23b + 0x516, CreateLogTicketService_1[_0x5e5db4(0x1a6)])(_0x3f938c);
            if (_0x5b8c9b) {
                const _0x2ce7cc = {};
                _0x2ce7cc[_0x5e5db4(0x1d2)] = _0x5b8c9b, _0x2ce7cc[_0x5e5db4(0x1c6)] = _0x33215c, _0x2ce7cc[_0x5e5db4(0x18d)] = _0x84e614[_0x5e5db4(0x1b5)], await (-0x1e5a + -0x24f3 + 0x434d, CreateLogTicketService_1[_0x5e5db4(0x1a6)])(_0x2ce7cc);
            }
        }
        await _0x5b6580[_0x5e5db4(0x1d3)]();
        _0x9be12f && await _0x5b6580[_0x5e5db4(0x19e) + 'ue'](_0x84e614[_0x5e5db4(0x185)], !![]);
        if (_0x212fc9) {
            const _0x27790c = {};
            _0x27790c[_0x5e5db4(0x19f)] = _0x1a1e79, _0x27790c[_0x5e5db4(0x18d)] = _0x84e614[_0x5e5db4(0x1b9)], _0x27790c[_0x5e5db4(0x176)] = _0x5b6580, (-0xfb5 * 0x2 + -0x1c * -0x76 + 0x2e * 0x67, socketEmit_1[_0x5e5db4(0x1a6)])(_0x27790c);
        }
        const _0x466d66 = {};
        _0x466d66[_0x5e5db4(0x19f)] = _0x1a1e79, _0x466d66[_0x5e5db4(0x18d)] = _0x84e614[_0x5e5db4(0x18a)], _0x466d66[_0x5e5db4(0x176)] = _0x5b6580, (0x10fc * 0x2 + 0x1b8f + -0x3d87, socketEmit_1[_0x5e5db4(0x1a6)])(_0x466d66);
        const _0x169243 = {};
        return _0x169243[_0x5e5db4(0x1b4)] = _0x5b6580, _0x169243[_0x5e5db4(0x1c4)] = _0x4787c0, _0x169243[_0x5e5db4(0x1cd)] = _0x27ea2c, _0x169243;
    };
exports[_0x590898(0x1a6)] = UpdateTicketService;