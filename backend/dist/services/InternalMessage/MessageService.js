'use strict';function a(){const v=['criarMensagem','StvIq','__importDefault','update','../../models/User','listarMensagens','name','__esModule','65364bogaBi','83716BtMtka','false','Mensagem\x20n√£o\x20encontrada.','749753EDTZVJ','960136RMrwin','findAll','dFPIH','54AwwbgN','30PPbYlp','42blXLBr','378783NbSeqe','marcarMensagemNaoLida','6974814gZXzmo','sender','sequelize','210sqkzde','202811OLFTEI','receiver','timestamp','default','findByPk'];a=function(){return v;};return a();}const m=b,o=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x1b5;let h=e[f];return h;},b(c,d);}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x1bc))/0x1+-parseInt(k(0x1b9))/0x2*(parseInt(l(0x1c2))/0x3)+parseInt(k(0x1b8))/0x4*(-parseInt(k(0x1c8))/0x5)+-parseInt(l(0x1c0))/0x6*(-parseInt(k(0x1c9))/0x7)+-parseInt(k(0x1bd))/0x8+-parseInt(l(0x1c3))/0x9*(-parseInt(k(0x1c1))/0xa)+parseInt(k(0x1c5))/0xb;if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x5c67e));var __importDefault=this&&this[m(0x1d0)]||function(c){const n=m;return c&&c[n(0x1b7)]?c:{'default':c};};Object['defineProperty'](exports,m(0x1b7),{'value':!![]});const sequelize_1=require(o(0x1c7)),InternalMessage_1=__importDefault(require('../../models/InternalMessage')),User_1=__importDefault(require(m(0x1d2)));class MessageService{static async[o(0x1b5)](c,d,e){const p=o,q=m;try{let f;return e==p(0x1ba)?f=await InternalMessage_1[p(0x1cc)][q(0x1be)]({'where':{[sequelize_1['Op']['or']]:[{'senderId':c,'receiverId':d},{'receiverId':c,'senderId':d}]},'include':[{'model':User_1[p(0x1cc)],'as':p(0x1c6),'attributes':['id',p(0x1b6)]},{'model':User_1[p(0x1cc)],'as':p(0x1ca),'attributes':['id',q(0x1b6)]}],'order':[q(0x1cb)],'limit':0x1f4}):f=await InternalMessage_1[p(0x1cc)][p(0x1be)]({'where':{'groupId':d},'include':[{'model':User_1['default'],'as':'sender','attributes':['id',p(0x1b6)]},{'model':User_1[p(0x1cc)],'as':q(0x1ca),'attributes':['id',p(0x1b6)]}],'order':['timestamp'],'limit':0x1f4}),f;}catch(g){throw g;}}static async[o(0x1ce)](c){const r=o,s=o;try{if('QmXgB'!==r(0x1bf))return await InternalMessage_1[r(0x1cc)]['create'](c);else throw new d(r(0x1bb));}catch(e){if('pLyIj'!==s(0x1cf))throw e;else throw d;}}static async[o(0x1c4)](c){const t=o,u=m;try{const d=await InternalMessage_1[t(0x1cc)][u(0x1cd)](c);if(!d)throw new Error(t(0x1bb));await d[t(0x1d1)]({'isUnread':!![]});}catch(e){throw e;}}}exports['default']=MessageService;