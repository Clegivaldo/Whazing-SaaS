'use strict';const m=b,n=b;function a(){const s=['../../models/ReadMessageGroups','134174xgiuUP','235695oFZPkS','forEach','356830IZrmix','USER_GROUP_NOT_FOUND','defineProperty','length','1195330ukoAFv','323830SvUaMR','../../models/InternalMessage','8oNVPhv','408093WxHjNc','create','6HVObwB','./../../models/UsersGroups','207NeDfal','../../errors/AppError','__esModule','4788696DBhKFd','update','findAll','default'];a=function(){return s;};return a();}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=-parseInt(k(0xa2))/0x1+parseInt(k(0x93))/0x2+parseInt(l(0xa3))/0x3+parseInt(l(0x95))/0x4*(parseInt(k(0x92))/0x5)+parseInt(l(0x98))/0x6*(-parseInt(k(0x96))/0x7)+parseInt(l(0x9d))/0x8+-parseInt(k(0x9a))/0x9*(parseInt(k(0x8e))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x4a391));var __importDefault=this&&this['__importDefault']||function(c){return c&&c['__esModule']?c:{'default':c};};Object[m(0x90)](exports,n(0x9c),{'value':!![]});const AppError_1=__importDefault(require(m(0x9b))),InternalMessage_1=__importDefault(require(n(0x94))),ReadMessageGroups_1=__importDefault(require(n(0xa1))),UsersGroups_1=__importDefault(require(n(0x99))),ReadMessageService=async({senderId:c,userId:d,isGroup:e})=>{const o=m,p=m;if(e===![])await InternalMessage_1['default'][o(0x9e)]({'read':!![]},{'where':{'senderId':c,'receiverId':d}});else{const f=await UsersGroups_1[p(0xa0)]['findOne']({'where':{'groupId':c,'userId':d}});!f&&new AppError_1[(p(0xa0))](p(0x8f),0x194);const g=await InternalMessage_1['default'][p(0x9f)]({'where':{'groupId':f['groupId']}});g[o(0xa4)](async h=>{const q=p,r=o,i=await ReadMessageGroups_1[q(0xa0)][q(0x9f)]({'where':{'internalMessageId':h['id'],'userGroupId':f['id']}});if(i[q(0x91)]<=0x0){const j={'internalMessageId':h['id'],'userGroupId':f['id']};await ReadMessageGroups_1[q(0xa0)][r(0x97)](j);}});}};function b(c,d){const e=a();return b=function(f,g){f=f-0x8e;let h=e[f];return h;},b(c,d);}exports[n(0xa0)]=ReadMessageService;