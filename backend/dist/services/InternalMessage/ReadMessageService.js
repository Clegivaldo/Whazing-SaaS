'use strict';const n=b,o=b;function b(c,d){const e=a();return b=function(f,g){f=f-0x1d2;let h=e[f];return h;},b(c,d);}(function(c,d){const k=b,l=b,e=c();while(!![]){try{const f=parseInt(k(0x1e1))/0x1+parseInt(l(0x1e4))/0x2*(-parseInt(l(0x1e7))/0x3)+-parseInt(k(0x1e6))/0x4+-parseInt(k(0x1df))/0x5+parseInt(l(0x1e0))/0x6*(-parseInt(l(0x1da))/0x7)+parseInt(k(0x1de))/0x8+-parseInt(k(0x1d5))/0x9*(-parseInt(k(0x1d2))/0xa);if(f===d)break;else e['push'](e['shift']());}catch(g){e['push'](e['shift']());}}}(a,0x71f86));var __importDefault=this&&this['__importDefault']||function(c){const m=b;return c&&c[m(0x1d8)]?c:{'default':c};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const AppError_1=__importDefault(require(n(0x1db))),InternalMessage_1=__importDefault(require(o(0x1d7))),ReadMessageGroups_1=__importDefault(require(n(0x1d3))),UsersGroups_1=__importDefault(require(o(0x1e2))),ReadMessageService=async({senderId:c,userId:d,isGroup:e})=>{const p=n,q=n;if(e===![])await InternalMessage_1['default'][p(0x1dd)]({'read':!![]},{'where':{'senderId':c,'receiverId':d}});else{const f=await UsersGroups_1[p(0x1e3)][q(0x1d4)]({'where':{'groupId':c,'userId':d}});!f&&new AppError_1[(p(0x1e3))]('USER_GROUP_NOT_FOUND',0x194);const g=await InternalMessage_1[p(0x1e3)]['findAll']({'where':{'groupId':f[p(0x1d9)]}});g[p(0x1e5)](async h=>{const r=p,s=p,i=await ReadMessageGroups_1['default']['findAll']({'where':{'internalMessageId':h['id'],'userGroupId':f['id']}});if(i[r(0x1d6)]<=0x0){const j={'internalMessageId':h['id'],'userGroupId':f['id']};await ReadMessageGroups_1['default'][s(0x1dc)](j);}});}};exports['default']=ReadMessageService;function a(){const t=['default','3736kKCJOk','forEach','960088hjuJfb','1203aRrtuL','180kdNLuh','../../models/ReadMessageGroups','findOne','482229ZJvmUq','length','../../models/InternalMessage','__esModule','groupId','21469RaGYtc','../../errors/AppError','create','update','2588656ByeqPw','3025340SSjQWI','156QEnqpU','852682HRRGls','./../../models/UsersGroups'];a=function(){return t;};return a();}