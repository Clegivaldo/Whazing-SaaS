'use strict';
const a7 = b, a8 = b;
(function (c, d) {
    const a5 = b, a6 = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(a5(0xd3)) / (-0x21a1 * -0x1 + -0x1 * 0x10e3 + -0x359 * 0x5) * (-parseInt(a6(0xe5)) / (-0x1 * -0x9fc + -0x5b3 * -0x3 + -0x1b13)) + parseInt(a6(0x9f)) / (0xbc * 0xb + -0x1 * -0x23dd + 0x2 * -0x15f7) + parseInt(a5(0xab)) / (0xc83 + 0x1f05 * 0x1 + 0x15c2 * -0x2) + -parseInt(a6(0x9d)) / (0x8bb + 0x20c6 + 0xdd4 * -0x3) * (-parseInt(a5(0xa5)) / (-0x3 * -0x1ea + -0x12f * 0x13 + 0x9f * 0x1b)) + parseInt(a5(0x107)) / (-0x5 * 0xe3 + 0x3 * -0xbfb + -0x1 * -0x2867) * (-parseInt(a5(0x10d)) / (0x2 * 0x7 + 0x93c + -0x942)) + -parseInt(a5(0xb7)) / (-0x3be + -0x1d92 + 0x2159) + -parseInt(a6(0xc8)) / (-0x3f * -0x53 + -0xe9 * -0x1f + 0x184d * -0x2);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0xb781d + -0x2ce6d * 0x4 + -0x1 * -0x83eea));
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x1 * 0x733 + -0x1123 + 0xa8d);
        let h = e[f];
        return h;
    }, b(c, d);
}
function a() {
    const as = [
        'message',
        'ECofg',
        'validate',
        'default',
        'userId',
        'yup',
        '__importSt',
        'hynMr',
        'chatFlowId',
        'rkOVL',
        'gkgkZ',
        'isDefault',
        '346xJXjzY',
        '3|4|1|0|2',
        'tokenAPI',
        'wabaBSP',
        'boolean',
        'USuqD',
        'split',
        'UoidN',
        'pZyDn',
        'yScWU',
        'NulzV',
        'QnqLp',
        'enumerable',
        'ram',
        '__createBi',
        'xndNq',
        'tenantId',
        'ytMFB',
        'instagramK',
        'getOwnProp',
        'queue_tran',
        'min',
        'KBmGp',
        'isActive',
        'oldDefault',
        'KUyNt',
        'OBKCz',
        'nlqfD',
        'fault',
        'status',
        'LjwDj',
        'DyOZP',
        'update',
        'IJXFZ',
        '5187cumReS',
        'hasOwnProp',
        'object',
        'erty',
        '__setModul',
        'Dvjzr',
        '456MlvKuK',
        'string',
        'Veopo',
        'ptor',
        'session',
        'whatsapp',
        'nding',
        'HdvRU',
        'PPrEq',
        'findOne',
        'rs/AppErro',
        'defineProp',
        'DpIQm',
        '../../erro',
        'queueId',
        'FLmNW',
        '../../mode',
        'create',
        '3|2|0|4|1',
        'get',
        'ertyDescri',
        'value',
        'type',
        'call',
        'name',
        'RUOms',
        '7435pmBwMu',
        'pRvGY',
        '2585553apVTgr',
        'WaRsa',
        'FmxjU',
        'writable',
        'RtjkW',
        'eyTHt',
        '1806XePFxW',
        'prototype',
        'aMTyU',
        'Whatsapp',
        'rtNtj',
        'aJwrj',
        '2671196vsTltw',
        'rQzbB',
        'configurab',
        'farewellMe',
        'rcEUf',
        'NSUpD',
        'GjYKM',
        'sbtlU',
        'ls/Whatsap',
        'wUOeP',
        'FFCIw',
        'not',
        '4330062YzfeRO',
        'shape',
        'kHegk',
        'TVaLr',
        'XURIN',
        'fbPageId',
        'nlKrC',
        'ERR_NO_WAP',
        'ssage',
        '__esModule',
        'ERIVf',
        'where',
        'ZoTAc',
        '__importDe',
        'ser',
        'kHKsW',
        'sequelize',
        '17059400BBCFFv',
        'tokenTeleg',
        'mhSXs',
        'fpeGG',
        'uSvAk',
        'hgcsq',
        'wQRut',
        'instagramU',
        'is_open_ia',
        'P_FOUND',
        'HmvJy',
        '4673rmozzK',
        'eDefault',
        'bTjjH',
        'LFqYo',
        'TooEA',
        'qaIwv'
    ];
    a = function () {
        return as;
    };
    return a();
}
var __createBinding = this && this[a7(0xf3) + a7(0x113)] || (Object[a7(0x11e)] ? function (c, d, e, f) {
        const a9 = a8, aa = a8, g = {
                'Veopo': a9(0xdc),
                'HmvJy': a9(0x11f),
                'ERIVf': function (i, j) {
                    return i != j;
                },
                'wUOeP': function (i, j) {
                    return i !== j;
                },
                'WaRsa': function (i, j, l, n) {
                    return i(j, l, n);
                },
                'LFqYo': function (i, j, l) {
                    return i(j, l);
                },
                'uSvAk': a9(0xb1),
                'kHKsW': function (i, j) {
                    return i === j;
                },
                'rQzbB': function (i, j) {
                    return i in j;
                },
                'yScWU': aa(0x120),
                'ZoTAc': aa(0xe3)
            };
        if (g[a9(0xc6)](f, undefined))
            f = e;
        var h = Object[a9(0xf8) + a9(0x121) + aa(0x110)](d, e);
        if (!h || (g[a9(0xac)](g[a9(0xee)], h) ? !d[a9(0xc0)] : h[aa(0xa2)] || h[aa(0xad) + 'le'])) {
            if (g[a9(0xb4)](g[a9(0xc3)], g[aa(0xc3)])) {
                const j = {};
                j[a9(0xf1)] = !![], j[a9(0x122)] = h, f[aa(0x118) + a9(0x10a)](g, g[aa(0x10f)], j);
            } else
                h = {
                    'enumerable': !![],
                    'get': function () {
                        const ab = aa, ae = aa, j = {
                                'XURIN': g[ab(0xd2)],
                                'hgcsq': function (l, n) {
                                    const ac = ab;
                                    return g[ac(0xc1)](l, n);
                                },
                                'sbtlU': function (l, n) {
                                    const ad = ab;
                                    return g[ad(0xb4)](l, n);
                                },
                                'aMTyU': g[ab(0x10f)],
                                'NulzV': function (l, n, p, q) {
                                    const af = ab;
                                    return g[af(0xa0)](l, n, p, q);
                                },
                                'IJXFZ': function (l, n, p) {
                                    const ag = ae;
                                    return g[ag(0xd6)](l, n, p);
                                }
                            };
                        if (g[ab(0xb4)](g[ab(0xcc)], g[ab(0xcc)])) {
                            const n = j[ae(0xbb)][ae(0xeb)]('|');
                            let p = -0x137a + 0x2594 + 0x14b * -0xe;
                            while (!![]) {
                                switch (n[p++]) {
                                case '0':
                                    if (j[ab(0xcd)](q, null)) {
                                        for (var q in r)
                                            if (j[ab(0xb2)](q, j[ae(0xa7)]) && s[ab(0xa6)][ab(0x108) + ae(0x10a)][ab(0x124)](t, q))
                                                j[ae(0xef)](u, r, v, q);
                                    }
                                    continue;
                                case '1':
                                    return r;
                                case '2':
                                    var r = {};
                                    continue;
                                case '3':
                                    if (n && c[ae(0xc0)])
                                        return p;
                                    continue;
                                case '4':
                                    j[ae(0x106)](w, r, x);
                                    continue;
                                }
                                break;
                            }
                        } else
                            return d[e];
                    }
                };
        }
        Object[a9(0x118) + aa(0x10a)](c, f, h);
    } : function (d, e, f, g) {
        const ah = a7, ai = a8, h = {};
        h[ah(0xa9)] = function (j, l) {
            return j === l;
        };
        const i = h;
        if (i[ah(0xa9)](g, undefined))
            g = f;
        d[g] = e[f];
    }), __setModuleDefault = this && this[a7(0x10b) + a8(0xd4)] || (Object[a7(0x11e)] ? function (e, f) {
        const aj = a8, ak = a7, g = {};
        g[aj(0x104)] = aj(0xdc);
        const h = g, i = {};
        i[ak(0xf1)] = !![], i[ak(0x122)] = f, Object[aj(0x118) + aj(0x10a)](e, h[ak(0x104)], i);
    } : function (d, e) {
        const al = a7, am = a8, f = {};
        f[al(0xfe)] = am(0xdc);
        const g = f;
        d[g[al(0xfe)]] = e;
    }), __importStar = this && this[a8(0xdf) + 'ar'] || function (c) {
        const an = a7, ao = a7, d = {
                'bTjjH': an(0xe6),
                'LjwDj': function (i, j, l) {
                    return i(j, l);
                },
                'PPrEq': function (i, j) {
                    return i != j;
                },
                'TooEA': function (i, j) {
                    return i !== j;
                },
                'UoidN': ao(0xdc),
                'KBmGp': function (i, j, l, m) {
                    return i(j, l, m);
                }
            }, e = d[an(0xd5)][an(0xeb)]('|');
        let f = 0xb39 + 0x20b1 + 0xb * -0x3fe;
        while (!![]) {
            switch (e[f++]) {
            case '0':
                d[an(0x103)](__setModuleDefault, h, c);
                continue;
            case '1':
                if (d[an(0x115)](c, null)) {
                    for (var g in c)
                        if (d[ao(0xd7)](g, d[ao(0xec)]) && Object[an(0xa6)][an(0x108) + an(0x10a)][ao(0x124)](c, g))
                            d[ao(0xfb)](__createBinding, h, c, g);
                }
                continue;
            case '2':
                return h;
            case '3':
                if (c && c[an(0xc0)])
                    return c;
                continue;
            case '4':
                var h = {};
                continue;
            }
            break;
        }
    }, __importDefault = this && this[a7(0xc4) + a7(0x101)] || function (c) {
        const ap = a7;
        return c && c[ap(0xc0)] ? c : { 'default': c };
    };
const G = {};
G[a7(0x122)] = !![], Object[a7(0x118) + a7(0x10a)](exports, a8(0xc0), G);
const Yup = __importStar(require(a7(0xde))), sequelize_1 = require(a7(0xc7)), AppError_1 = __importDefault(require(a8(0x11a) + a7(0x117) + 'r')), Whatsapp_1 = __importDefault(require(a8(0x11d) + a7(0xb3) + 'p')), UpdateWhatsAppService = async ({
        whatsappData: m,
        whatsappId: n,
        tenantId: o
    }) => {
        const aq = a7, ar = a8, p = {};
        p[aq(0xb0)] = function (L, M) {
            return L === M;
        }, p[ar(0xe2)] = function (L, M) {
            return L in M;
        }, p[ar(0xf4)] = aq(0x120), p[aq(0xcb)] = aq(0xdc), p[aq(0xe0)] = function (L, M) {
            return L === M;
        }, p[aq(0xff)] = function (L, M) {
            return L !== M;
        }, p[ar(0xed)] = ar(0xd8), p[aq(0xaf)] = ar(0x119), p[aq(0xa1)] = function (L, M) {
            return L !== M;
        }, p[aq(0x9e)] = aq(0x114), p[ar(0xf0)] = function (L, M) {
            return L !== M;
        }, p[aq(0xda)] = aq(0x126), p[ar(0x11c)] = function (L, M) {
            return L === M;
        }, p[aq(0xaa)] = aq(0xba), p[ar(0xa4)] = ar(0xb5), p[aq(0xca)] = ar(0xbe) + aq(0xd1), p[ar(0xa3)] = function (L, M) {
            return L === M;
        }, p[ar(0xce)] = aq(0x100), p[ar(0xb9)] = ar(0xbd), p[ar(0xf6)] = function (L, M) {
            return L !== M;
        }, p[ar(0x10c)] = aq(0xea);
        const q = p, r = Yup[ar(0x109)]()[aq(0xb8)]({
                'name': Yup[ar(0x10e)]()[ar(0xfa)](0x207b + 0x8 * -0x125 + -0x1751),
                'isDefault': Yup[ar(0xe9)]()
            }), {
                name: s,
                status: t,
                isDefault: u,
                session: v,
                tokenTelegram: w,
                instagramUser: x,
                instagramKey: y,
                isActive: z,
                type: A,
                wabaBSP: B,
                tokenAPI: C,
                fbPageId: D,
                farewellMessage: E,
                chatFlowId: F,
                is_open_ia: H,
                queue_transf: I,
                queueId: J,
                userId: K
            } = m;
        try {
            if (q[aq(0xff)](q[aq(0xed)], q[ar(0xaf)])) {
                const L = {};
                L[ar(0x125)] = s, L[aq(0x102)] = t, L[ar(0xe4)] = u, await r[aq(0xdb)](L);
                let M = null;
                if (u) {
                    if (q[ar(0xa1)](q[ar(0x9e)], q[aq(0x9e)])) {
                        if (q[ar(0xb0)](p, q))
                            r = s;
                        var U = t[aq(0xf8) + aq(0x121) + aq(0x110)](u, v);
                        (!U || (q[aq(0xe2)](q[aq(0xf4)], U) ? !w[aq(0xc0)] : U[aq(0xa2)] || U[ar(0xad) + 'le'])) && (U = {
                            'enumerable': !![],
                            'get': function () {
                                return U[F];
                            }
                        }), z[aq(0x118) + ar(0x10a)](A, B, U);
                    } else {
                        const U = { [sequelize_1['Op'][aq(0xb6)]]: n }, V = {};
                        V[aq(0xe4)] = !![], V[aq(0xf5)] = o, V['id'] = U;
                        const W = {};
                        W[aq(0xc2)] = V, M = await Whatsapp_1[ar(0xdc)][aq(0x116)](W);
                        if (M) {
                            if (q[ar(0xf0)](q[aq(0xda)], q[ar(0xda)]))
                                U[q[aq(0xcb)]] = V;
                            else {
                                const Y = {};
                                Y[ar(0xe4)] = ![], await M[ar(0x105)](Y);
                            }
                        }
                    }
                }
                const N = {};
                N['id'] = n, N[ar(0xf5)] = o;
                const O = {};
                O[ar(0xc2)] = N;
                const P = await Whatsapp_1[ar(0xdc)][aq(0x116)](O);
                if (!P) {
                    if (q[ar(0x11c)](q[aq(0xaa)], q[aq(0xa4)]))
                        return e[f];
                    else
                        throw new AppError_1[(ar(0xdc))](q[ar(0xca)], 0x67a * -0x1 + -0xdc9 * 0x1 + 0x15d7);
                }
                const Q = {};
                Q[aq(0x125)] = s, Q[ar(0x102)] = t, Q[ar(0x111)] = v, Q[aq(0xe4)] = u, Q[aq(0xc9) + aq(0xf2)] = w, Q[ar(0xcf) + aq(0xc5)] = x, Q[aq(0xfc)] = z, Q[ar(0x123)] = A, Q[aq(0xe8)] = B, Q[ar(0xe7)] = C, Q[aq(0xbc)] = D, Q[ar(0xae) + aq(0xbf)] = E, Q[ar(0xe1)] = F, Q[aq(0xd0)] = H, Q[ar(0xf9) + 'sf'] = I, Q[aq(0x11b)] = J, Q[ar(0xdd)] = K;
                const R = Q;
                y && (q[aq(0xa3)](q[aq(0xce)], q[ar(0xb9)]) ? e[ar(0xf7) + 'ey'] = f : R[aq(0xf7) + 'ey'] = y);
                await P[aq(0x105)](R);
                const S = {};
                return S[aq(0x112)] = P, S[ar(0xfd) + aq(0xa8)] = M, S;
            } else {
                if (q[ar(0xe0)](k, l))
                    m = n;
                o[p] = q[r];
            }
        } catch (a2) {
            if (q[aq(0xf6)](q[ar(0x10c)], q[ar(0x10c)])) {
                const a4 = {};
                a4[ar(0xf1)] = !![], a4[aq(0x120)] = function () {
                    return i[j];
                }, f = a4;
            } else
                throw new AppError_1[(ar(0xdc))](a2[ar(0xd9)]);
        }
    };
exports[a7(0xdc)] = UpdateWhatsAppService;